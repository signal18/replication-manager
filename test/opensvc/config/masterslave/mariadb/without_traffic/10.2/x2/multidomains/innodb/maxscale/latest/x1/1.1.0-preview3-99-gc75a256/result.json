{"results":[
{ "name": "testSwitchoverLongTransactionNoRplCheckNoSemiSync", "result": "PASS", "config-file": "././config/masterslave/mariadb/without_traffic/10.2/x2/multidomains/innodb/maxscale/latest/x1/replication-manager.conf", "config-init": { "WorkingDir": "/var/lib/replication-manager", "ShareDir": "/usr/local/share/mrm", "User": "root:mariadb", "Hosts": "192.168.100.70,192.168.100.71", "HostsTLSCA": "", "HostsTLSKEY": "", "HostsTLSCLI": "", "Socket": "", "RplUser": "root:mariadb", "Interactive": false, "Verbose": false, "PreScript": "", "PostScript": "", "RejoinScript": "", "PrefMaster": "192.168.100.70", "IgnoreSrv": "", "SwitchWaitKill": 5000, "SwitchWaitTrx": 10, "SwitchWaitWrite": 10, "SwitchGtidCheck": false, "SwitchSync": false, "SwitchMaxDelay": 0, "ReadOnly": true, "Autorejoin": true, "AutorejoinFlashback": true, "AutorejoinMysqldump": true, "AutorejoinBackupBinlog": true, "AutorejoinSemisync": true, "LogFile": "./config/masterslave/mariadb/without_traffic/10.2/x2/multidomains/innodb/maxscale/latest/x1/1.1.0-preview3-99-gc75a256/testSwitchoverLongTransactionNoRplCheckNoSemiSync.log", "MonitoringTicker": 2, "Timeout": 1, "CheckType": "tcp", "CheckReplFilter": true, "CheckBinFilter": true, "ForceSlaveHeartbeat": false, "ForceSlaveHeartbeatTime": 3, "ForceSlaveHeartbeatRetry": 5, "ForceSlaveGtid": false, "ForceSlaveNoGtid": false, "ForceSlaveSemisync": true, "ForceSlaveReadOnly": true, "ForceBinlogRow": false, "ForceBinlogAnnotate": false, "ForceBinlogCompress": false, "ForceBinlogSlowqueries": false, "ForceBinlogChecksum": false, "ForceInmemoryBinlogCacheSize": false, "ForceDiskRelayLogSizeLimit": false, "ForceDiskRelayLogSizeLimitSize": 1000000000, "ForceSyncBinlog": true, "ForceSyncInnoDB": true, "ForceNoslaveBehind": false, "RplChecks": true, "MasterConn": "", "MultiMaster": false, "MultiTierSlave": false, "Spider": false, "BindAddr": "localhost", "HttpPort": "10001", "HttpServ": true, "HttpRoot": "../../dashboard", "HttpAuth": false, "HttpBootstrapButton": true, "SessionLifeTime": 3600, "Daemon": true, "MailFrom": "mrm@localhost", "MailTo": "", "MailSMTPAddr": "localhost:25", "MasterConnectRetry": 10, "FailLimit": 999, "FailTime": 1, "FailSync": false, "FailEventScheduler": false, "FailEventStatus": false, "FailRestartUnsafe": false, "MaxFail": 3, "FailResetTime": 300, "FailMaxDelay": 0, "CheckFalsePositiveHeartbeat": false, "CheckFalsePositiveMaxscale": false, "CheckFalsePositiveHeartbeatTimeout": 3, "CheckFalsePositiveMaxscaleTimeout": 14, "CheckFalsePositiveExternal": false, "CheckFalsePositiveExternalPort": 80, "Heartbeat": false, "MdbsProxyOn": false, "MdbsProxyHosts": "127.0.0.1:3307", "MdbsProxyUser": "admin", "MxsOn": true, "MxsHost": "192.168.100.50", "MxsPort": "3307", "MxsUser": "admin", "MxsPass": "mariadb", "MxsWritePort": 4007, "MxsReadPort": 4008, "MxsReadWritePort": 4006, "MxsMaxinfoPort": 3307, "MxsBinlogOn": false, "MxsBinlogPort": 3309, "MxsDisableMonitor": false, "MxsGetInfoMethod": "maxadmin", "MxsServerMatchPort": false, "HaproxyOn": false, "HaproxyWritePort": 3306, "HaproxyReadPort": 3307, "HaproxyStatPort": 1988, "HaproxyWriteBindIp": "0.0.0.0", "HaproxyReadBindIp": "0.0.0.0", "HaproxyBinaryPath": "/usr/sbin/haproxy", "KeyPath": "/etc/replication-manager/.replication-manager.key", "LogLevel": 0, "Test": true, "TestInjectTraffic": false, "Topology": "", "GraphiteMetrics": false, "GraphiteEmbedded": false, "GraphiteCarbonHost": "127.0.0.1", "GraphiteCarbonPort": 2003, "GraphiteCarbonApiPort": 10002, "GraphiteCarbonServerPort": 10003, "GraphiteCarbonLinkPort": 7002, "GraphiteCarbonPicklePort": 2004, "GraphiteCarbonPprofPort": 7007, "SysbenchBinaryPath": "/usr/local/bin/sysbench", "SysbenchTime": 60, "SysbenchThreads": 4, "MariaDBBinaryPath": "/usr/local/mysql/bin", "Arbitration": false, "ArbitrationSasSecret": "", "ArbitrationSasHosts": "88.191.151.84:80", "ArbitrationSasUniqueId": 0, "ArbitrationPeerHosts": "127.0.0.1:10002", "ReplicationSSL": false, "FailForceGtid": true, "RegTestStopCluster": false, "Enterprise": true, "ProvHost": "192.168.100.101:443", "ProvAdminUser": "root@localhost.localdomain:opensvc", "ProvUser": "replication-manager@localhost.localdomain:mariadb", "ProvType": "docker", "ProvAgents": "agent1,agent2", "ProvMem": "256", "ProvIops": "300", "ProvTags": "smallredolog,semisync,innodb,noquerycache,threadpool,logslow,multidomains", "ProvDisk": "1G", "ProvDiskFS": "zfs", "ProvDiskPool": "zpool", "ProvDiskDevice": "/srv", "ProvDiskType": "loopback", "ProvNetIface": "br0", "ProvNetmask": "255.255.255.0", "ProvGateway": "192.168.100.254", "ProvProxType": "docker", "ProvProxAgents": "agent2", "ProvProxDisk": "1G", "ProvProxDiskFS": "zfs", "ProvProxDiskPool": "zpool", "ProvProxDiskDevice": "/srv", "ProvProxDiskType": "loopback", "ProvProxNetIface": "br0", "ProvProxNetmask": "255.255.255.0", "ProvProxGateway": "192.168.100.254", "ProvMaxscaleVip": "", "ProvMdbshardproxyVip": "", "ProvHaproxyVip": "", "ProvWebsqlproxyVip": "", "ProvDbImg": "mariadb:10.2", "ProvProxImg": "asosso/maxscale:latest", "APIUser": "admin:mariadb", "APIPort": "3000", "ConfigFile": "././config/masterslave/mariadb/without_traffic/10.2/x2/multidomains/innodb/maxscale/latest/x1/replication-manager.conf" }, "config-test": { "WorkingDir": "/var/lib/replication-manager", "ShareDir": "/usr/local/share/mrm", "User": "root:mariadb", "Hosts": "192.168.100.70,192.168.100.71", "HostsTLSCA": "", "HostsTLSKEY": "", "HostsTLSCLI": "", "Socket": "", "RplUser": "root:mariadb", "Interactive": false, "Verbose": false, "PreScript": "", "PostScript": "", "RejoinScript": "", "PrefMaster": "192.168.100.70", "IgnoreSrv": "", "SwitchWaitKill": 5000, "SwitchWaitTrx": 10, "SwitchWaitWrite": 10, "SwitchGtidCheck": false, "SwitchSync": false, "SwitchMaxDelay": 8, "ReadOnly": true, "Autorejoin": true, "AutorejoinFlashback": true, "AutorejoinMysqldump": true, "AutorejoinBackupBinlog": true, "AutorejoinSemisync": true, "LogFile": "./config/masterslave/mariadb/without_traffic/10.2/x2/multidomains/innodb/maxscale/latest/x1/1.1.0-preview3-99-gc75a256/testSwitchoverLongTransactionNoRplCheckNoSemiSync.log", "MonitoringTicker": 2, "Timeout": 1, "CheckType": "tcp", "CheckReplFilter": true, "CheckBinFilter": true, "ForceSlaveHeartbeat": false, "ForceSlaveHeartbeatTime": 3, "ForceSlaveHeartbeatRetry": 5, "ForceSlaveGtid": false, "ForceSlaveNoGtid": false, "ForceSlaveSemisync": true, "ForceSlaveReadOnly": true, "ForceBinlogRow": false, "ForceBinlogAnnotate": false, "ForceBinlogCompress": false, "ForceBinlogSlowqueries": false, "ForceBinlogChecksum": false, "ForceInmemoryBinlogCacheSize": false, "ForceDiskRelayLogSizeLimit": false, "ForceDiskRelayLogSizeLimitSize": 1000000000, "ForceSyncBinlog": true, "ForceSyncInnoDB": true, "ForceNoslaveBehind": false, "RplChecks": false, "MasterConn": "", "MultiMaster": false, "MultiTierSlave": false, "Spider": false, "BindAddr": "localhost", "HttpPort": "10001", "HttpServ": true, "HttpRoot": "../../dashboard", "HttpAuth": false, "HttpBootstrapButton": true, "SessionLifeTime": 3600, "Daemon": true, "MailFrom": "mrm@localhost", "MailTo": "", "MailSMTPAddr": "localhost:25", "MasterConnectRetry": 10, "FailLimit": 999, "FailTime": 1, "FailSync": false, "FailEventScheduler": false, "FailEventStatus": false, "FailRestartUnsafe": false, "MaxFail": 3, "FailResetTime": 300, "FailMaxDelay": 0, "CheckFalsePositiveHeartbeat": false, "CheckFalsePositiveMaxscale": false, "CheckFalsePositiveHeartbeatTimeout": 3, "CheckFalsePositiveMaxscaleTimeout": 14, "CheckFalsePositiveExternal": false, "CheckFalsePositiveExternalPort": 80, "Heartbeat": false, "MdbsProxyOn": false, "MdbsProxyHosts": "127.0.0.1:3307", "MdbsProxyUser": "admin", "MxsOn": true, "MxsHost": "192.168.100.50", "MxsPort": "3307", "MxsUser": "admin", "MxsPass": "mariadb", "MxsWritePort": 4007, "MxsReadPort": 4008, "MxsReadWritePort": 4006, "MxsMaxinfoPort": 3307, "MxsBinlogOn": false, "MxsBinlogPort": 3309, "MxsDisableMonitor": false, "MxsGetInfoMethod": "maxadmin", "MxsServerMatchPort": false, "HaproxyOn": false, "HaproxyWritePort": 3306, "HaproxyReadPort": 3307, "HaproxyStatPort": 1988, "HaproxyWriteBindIp": "0.0.0.0", "HaproxyReadBindIp": "0.0.0.0", "HaproxyBinaryPath": "/usr/sbin/haproxy", "KeyPath": "/etc/replication-manager/.replication-manager.key", "LogLevel": 0, "Test": true, "TestInjectTraffic": false, "Topology": "", "GraphiteMetrics": false, "GraphiteEmbedded": false, "GraphiteCarbonHost": "127.0.0.1", "GraphiteCarbonPort": 2003, "GraphiteCarbonApiPort": 10002, "GraphiteCarbonServerPort": 10003, "GraphiteCarbonLinkPort": 7002, "GraphiteCarbonPicklePort": 2004, "GraphiteCarbonPprofPort": 7007, "SysbenchBinaryPath": "/usr/local/bin/sysbench", "SysbenchTime": 60, "SysbenchThreads": 4, "MariaDBBinaryPath": "/usr/local/mysql/bin", "Arbitration": false, "ArbitrationSasSecret": "", "ArbitrationSasHosts": "88.191.151.84:80", "ArbitrationSasUniqueId": 0, "ArbitrationPeerHosts": "127.0.0.1:10002", "ReplicationSSL": false, "FailForceGtid": true, "RegTestStopCluster": false, "Enterprise": true, "ProvHost": "192.168.100.101:443", "ProvAdminUser": "root@localhost.localdomain:opensvc", "ProvUser": "replication-manager@localhost.localdomain:mariadb", "ProvType": "docker", "ProvAgents": "agent1,agent2", "ProvMem": "256", "ProvIops": "300", "ProvTags": "smallredolog,semisync,innodb,noquerycache,threadpool,logslow,multidomains", "ProvDisk": "1G", "ProvDiskFS": "zfs", "ProvDiskPool": "zpool", "ProvDiskDevice": "/srv", "ProvDiskType": "loopback", "ProvNetIface": "br0", "ProvNetmask": "255.255.255.0", "ProvGateway": "192.168.100.254", "ProvProxType": "docker", "ProvProxAgents": "agent2", "ProvProxDisk": "1G", "ProvProxDiskFS": "zfs", "ProvProxDiskPool": "zpool", "ProvProxDiskDevice": "/srv", "ProvProxDiskType": "loopback", "ProvProxNetIface": "br0", "ProvProxNetmask": "255.255.255.0", "ProvProxGateway": "192.168.100.254", "ProvMaxscaleVip": "", "ProvMdbshardproxyVip": "", "ProvHaproxyVip": "", "ProvWebsqlproxyVip": "", "ProvDbImg": "mariadb:10.2", "ProvProxImg": "asosso/maxscale:latest", "APIUser": "admin:mariadb", "APIPort": "3000", "ConfigFile": "././config/masterslave/mariadb/without_traffic/10.2/x2/multidomains/innodb/maxscale/latest/x1/replication-manager.conf" } }
,
{ "name": "testSwitchoverLongQueryNoRplCheckNoSemiSync", "result": "PASS", "config-file": "././config/masterslave/mariadb/without_traffic/10.2/x2/multidomains/innodb/maxscale/latest/x1/replication-manager.conf", "config-init": { "WorkingDir": "/var/lib/replication-manager", "ShareDir": "/usr/local/share/mrm", "User": "root:mariadb", "Hosts": "192.168.100.70,192.168.100.71", "HostsTLSCA": "", "HostsTLSKEY": "", "HostsTLSCLI": "", "Socket": "", "RplUser": "root:mariadb", "Interactive": false, "Verbose": false, "PreScript": "", "PostScript": "", "RejoinScript": "", "PrefMaster": "192.168.100.70", "IgnoreSrv": "", "SwitchWaitKill": 5000, "SwitchWaitTrx": 10, "SwitchWaitWrite": 10, "SwitchGtidCheck": false, "SwitchSync": false, "SwitchMaxDelay": 0, "ReadOnly": true, "Autorejoin": true, "AutorejoinFlashback": true, "AutorejoinMysqldump": true, "AutorejoinBackupBinlog": true, "AutorejoinSemisync": true, "LogFile": "./config/masterslave/mariadb/without_traffic/10.2/x2/multidomains/innodb/maxscale/latest/x1/1.1.0-preview3-99-gc75a256/testSwitchoverLongQueryNoRplCheckNoSemiSync.log", "MonitoringTicker": 2, "Timeout": 1, "CheckType": "tcp", "CheckReplFilter": true, "CheckBinFilter": true, "ForceSlaveHeartbeat": false, "ForceSlaveHeartbeatTime": 3, "ForceSlaveHeartbeatRetry": 5, "ForceSlaveGtid": false, "ForceSlaveNoGtid": false, "ForceSlaveSemisync": true, "ForceSlaveReadOnly": true, "ForceBinlogRow": false, "ForceBinlogAnnotate": false, "ForceBinlogCompress": false, "ForceBinlogSlowqueries": false, "ForceBinlogChecksum": false, "ForceInmemoryBinlogCacheSize": false, "ForceDiskRelayLogSizeLimit": false, "ForceDiskRelayLogSizeLimitSize": 1000000000, "ForceSyncBinlog": true, "ForceSyncInnoDB": true, "ForceNoslaveBehind": false, "RplChecks": true, "MasterConn": "", "MultiMaster": false, "MultiTierSlave": false, "Spider": false, "BindAddr": "localhost", "HttpPort": "10001", "HttpServ": true, "HttpRoot": "../../dashboard", "HttpAuth": false, "HttpBootstrapButton": true, "SessionLifeTime": 3600, "Daemon": true, "MailFrom": "mrm@localhost", "MailTo": "", "MailSMTPAddr": "localhost:25", "MasterConnectRetry": 10, "FailLimit": 999, "FailTime": 1, "FailSync": false, "FailEventScheduler": false, "FailEventStatus": false, "FailRestartUnsafe": false, "MaxFail": 3, "FailResetTime": 300, "FailMaxDelay": 0, "CheckFalsePositiveHeartbeat": false, "CheckFalsePositiveMaxscale": false, "CheckFalsePositiveHeartbeatTimeout": 3, "CheckFalsePositiveMaxscaleTimeout": 14, "CheckFalsePositiveExternal": false, "CheckFalsePositiveExternalPort": 80, "Heartbeat": false, "MdbsProxyOn": false, "MdbsProxyHosts": "127.0.0.1:3307", "MdbsProxyUser": "admin", "MxsOn": true, "MxsHost": "192.168.100.50", "MxsPort": "3307", "MxsUser": "admin", "MxsPass": "mariadb", "MxsWritePort": 4007, "MxsReadPort": 4008, "MxsReadWritePort": 4006, "MxsMaxinfoPort": 3307, "MxsBinlogOn": false, "MxsBinlogPort": 3309, "MxsDisableMonitor": false, "MxsGetInfoMethod": "maxadmin", "MxsServerMatchPort": false, "HaproxyOn": false, "HaproxyWritePort": 3306, "HaproxyReadPort": 3307, "HaproxyStatPort": 1988, "HaproxyWriteBindIp": "0.0.0.0", "HaproxyReadBindIp": "0.0.0.0", "HaproxyBinaryPath": "/usr/sbin/haproxy", "KeyPath": "/etc/replication-manager/.replication-manager.key", "LogLevel": 0, "Test": true, "TestInjectTraffic": false, "Topology": "", "GraphiteMetrics": false, "GraphiteEmbedded": false, "GraphiteCarbonHost": "127.0.0.1", "GraphiteCarbonPort": 2003, "GraphiteCarbonApiPort": 10002, "GraphiteCarbonServerPort": 10003, "GraphiteCarbonLinkPort": 7002, "GraphiteCarbonPicklePort": 2004, "GraphiteCarbonPprofPort": 7007, "SysbenchBinaryPath": "/usr/local/bin/sysbench", "SysbenchTime": 60, "SysbenchThreads": 4, "MariaDBBinaryPath": "/usr/local/mysql/bin", "Arbitration": false, "ArbitrationSasSecret": "", "ArbitrationSasHosts": "88.191.151.84:80", "ArbitrationSasUniqueId": 0, "ArbitrationPeerHosts": "127.0.0.1:10002", "ReplicationSSL": false, "FailForceGtid": true, "RegTestStopCluster": false, "Enterprise": true, "ProvHost": "192.168.100.101:443", "ProvAdminUser": "root@localhost.localdomain:opensvc", "ProvUser": "replication-manager@localhost.localdomain:mariadb", "ProvType": "docker", "ProvAgents": "agent1,agent2", "ProvMem": "256", "ProvIops": "300", "ProvTags": "smallredolog,semisync,innodb,noquerycache,threadpool,logslow,multidomains", "ProvDisk": "1G", "ProvDiskFS": "zfs", "ProvDiskPool": "zpool", "ProvDiskDevice": "/srv", "ProvDiskType": "loopback", "ProvNetIface": "br0", "ProvNetmask": "255.255.255.0", "ProvGateway": "192.168.100.254", "ProvProxType": "docker", "ProvProxAgents": "agent2", "ProvProxDisk": "1G", "ProvProxDiskFS": "zfs", "ProvProxDiskPool": "zpool", "ProvProxDiskDevice": "/srv", "ProvProxDiskType": "loopback", "ProvProxNetIface": "br0", "ProvProxNetmask": "255.255.255.0", "ProvProxGateway": "192.168.100.254", "ProvMaxscaleVip": "", "ProvMdbshardproxyVip": "", "ProvHaproxyVip": "", "ProvWebsqlproxyVip": "", "ProvDbImg": "mariadb:10.2", "ProvProxImg": "asosso/maxscale:latest", "APIUser": "admin:mariadb", "APIPort": "3000", "ConfigFile": "././config/masterslave/mariadb/without_traffic/10.2/x2/multidomains/innodb/maxscale/latest/x1/replication-manager.conf" }, "config-test": { "WorkingDir": "/var/lib/replication-manager", "ShareDir": "/usr/local/share/mrm", "User": "root:mariadb", "Hosts": "192.168.100.70,192.168.100.71", "HostsTLSCA": "", "HostsTLSKEY": "", "HostsTLSCLI": "", "Socket": "", "RplUser": "root:mariadb", "Interactive": false, "Verbose": false, "PreScript": "", "PostScript": "", "RejoinScript": "", "PrefMaster": "192.168.100.70", "IgnoreSrv": "", "SwitchWaitKill": 5000, "SwitchWaitTrx": 10, "SwitchWaitWrite": 10, "SwitchGtidCheck": false, "SwitchSync": false, "SwitchMaxDelay": 8, "ReadOnly": true, "Autorejoin": true, "AutorejoinFlashback": true, "AutorejoinMysqldump": true, "AutorejoinBackupBinlog": true, "AutorejoinSemisync": true, "LogFile": "./config/masterslave/mariadb/without_traffic/10.2/x2/multidomains/innodb/maxscale/latest/x1/1.1.0-preview3-99-gc75a256/testSwitchoverLongQueryNoRplCheckNoSemiSync.log", "MonitoringTicker": 2, "Timeout": 1, "CheckType": "tcp", "CheckReplFilter": true, "CheckBinFilter": true, "ForceSlaveHeartbeat": false, "ForceSlaveHeartbeatTime": 3, "ForceSlaveHeartbeatRetry": 5, "ForceSlaveGtid": false, "ForceSlaveNoGtid": false, "ForceSlaveSemisync": true, "ForceSlaveReadOnly": true, "ForceBinlogRow": false, "ForceBinlogAnnotate": false, "ForceBinlogCompress": false, "ForceBinlogSlowqueries": false, "ForceBinlogChecksum": false, "ForceInmemoryBinlogCacheSize": false, "ForceDiskRelayLogSizeLimit": false, "ForceDiskRelayLogSizeLimitSize": 1000000000, "ForceSyncBinlog": true, "ForceSyncInnoDB": true, "ForceNoslaveBehind": false, "RplChecks": false, "MasterConn": "", "MultiMaster": false, "MultiTierSlave": false, "Spider": false, "BindAddr": "localhost", "HttpPort": "10001", "HttpServ": true, "HttpRoot": "../../dashboard", "HttpAuth": false, "HttpBootstrapButton": true, "SessionLifeTime": 3600, "Daemon": true, "MailFrom": "mrm@localhost", "MailTo": "", "MailSMTPAddr": "localhost:25", "MasterConnectRetry": 10, "FailLimit": 999, "FailTime": 1, "FailSync": false, "FailEventScheduler": false, "FailEventStatus": false, "FailRestartUnsafe": false, "MaxFail": 3, "FailResetTime": 300, "FailMaxDelay": 0, "CheckFalsePositiveHeartbeat": false, "CheckFalsePositiveMaxscale": false, "CheckFalsePositiveHeartbeatTimeout": 3, "CheckFalsePositiveMaxscaleTimeout": 14, "CheckFalsePositiveExternal": false, "CheckFalsePositiveExternalPort": 80, "Heartbeat": false, "MdbsProxyOn": false, "MdbsProxyHosts": "127.0.0.1:3307", "MdbsProxyUser": "admin", "MxsOn": true, "MxsHost": "192.168.100.50", "MxsPort": "3307", "MxsUser": "admin", "MxsPass": "mariadb", "MxsWritePort": 4007, "MxsReadPort": 4008, "MxsReadWritePort": 4006, "MxsMaxinfoPort": 3307, "MxsBinlogOn": false, "MxsBinlogPort": 3309, "MxsDisableMonitor": false, "MxsGetInfoMethod": "maxadmin", "MxsServerMatchPort": false, "HaproxyOn": false, "HaproxyWritePort": 3306, "HaproxyReadPort": 3307, "HaproxyStatPort": 1988, "HaproxyWriteBindIp": "0.0.0.0", "HaproxyReadBindIp": "0.0.0.0", "HaproxyBinaryPath": "/usr/sbin/haproxy", "KeyPath": "/etc/replication-manager/.replication-manager.key", "LogLevel": 0, "Test": true, "TestInjectTraffic": false, "Topology": "", "GraphiteMetrics": false, "GraphiteEmbedded": false, "GraphiteCarbonHost": "127.0.0.1", "GraphiteCarbonPort": 2003, "GraphiteCarbonApiPort": 10002, "GraphiteCarbonServerPort": 10003, "GraphiteCarbonLinkPort": 7002, "GraphiteCarbonPicklePort": 2004, "GraphiteCarbonPprofPort": 7007, "SysbenchBinaryPath": "/usr/local/bin/sysbench", "SysbenchTime": 60, "SysbenchThreads": 4, "MariaDBBinaryPath": "/usr/local/mysql/bin", "Arbitration": false, "ArbitrationSasSecret": "", "ArbitrationSasHosts": "88.191.151.84:80", "ArbitrationSasUniqueId": 0, "ArbitrationPeerHosts": "127.0.0.1:10002", "ReplicationSSL": false, "FailForceGtid": true, "RegTestStopCluster": false, "Enterprise": true, "ProvHost": "192.168.100.101:443", "ProvAdminUser": "root@localhost.localdomain:opensvc", "ProvUser": "replication-manager@localhost.localdomain:mariadb", "ProvType": "docker", "ProvAgents": "agent1,agent2", "ProvMem": "256", "ProvIops": "300", "ProvTags": "smallredolog,semisync,innodb,noquerycache,threadpool,logslow,multidomains", "ProvDisk": "1G", "ProvDiskFS": "zfs", "ProvDiskPool": "zpool", "ProvDiskDevice": "/srv", "ProvDiskType": "loopback", "ProvNetIface": "br0", "ProvNetmask": "255.255.255.0", "ProvGateway": "192.168.100.254", "ProvProxType": "docker", "ProvProxAgents": "agent2", "ProvProxDisk": "1G", "ProvProxDiskFS": "zfs", "ProvProxDiskPool": "zpool", "ProvProxDiskDevice": "/srv", "ProvProxDiskType": "loopback", "ProvProxNetIface": "br0", "ProvProxNetmask": "255.255.255.0", "ProvProxGateway": "192.168.100.254", "ProvMaxscaleVip": "", "ProvMdbshardproxyVip": "", "ProvHaproxyVip": "", "ProvWebsqlproxyVip": "", "ProvDbImg": "mariadb:10.2", "ProvProxImg": "asosso/maxscale:latest", "APIUser": "admin:mariadb", "APIPort": "3000", "ConfigFile": "././config/masterslave/mariadb/without_traffic/10.2/x2/multidomains/innodb/maxscale/latest/x1/replication-manager.conf" } }
,
{ "name": "testSwitchoverLongTrxWithoutCommitNoRplCheckNoSemiSync", "result": "FAIL", "config-file": "", "config-init": { "WorkingDir": "", "ShareDir": "", "User": "", "Hosts": "", "HostsTLSCA": "", "HostsTLSKEY": "", "HostsTLSCLI": "", "Socket": "", "RplUser": "", "Interactive": false, "Verbose": false, "PreScript": "", "PostScript": "", "RejoinScript": "", "PrefMaster": "", "IgnoreSrv": "", "SwitchWaitKill": 0, "SwitchWaitTrx": 0, "SwitchWaitWrite": 0, "SwitchGtidCheck": false, "SwitchSync": false, "SwitchMaxDelay": 0, "ReadOnly": false, "Autorejoin": false, "AutorejoinFlashback": false, "AutorejoinMysqldump": false, "AutorejoinBackupBinlog": false, "AutorejoinSemisync": false, "LogFile": "", "MonitoringTicker": 0, "Timeout": 0, "CheckType": "", "CheckReplFilter": false, "CheckBinFilter": false, "ForceSlaveHeartbeat": false, "ForceSlaveHeartbeatTime": 0, "ForceSlaveHeartbeatRetry": 0, "ForceSlaveGtid": false, "ForceSlaveNoGtid": false, "ForceSlaveSemisync": false, "ForceSlaveReadOnly": false, "ForceBinlogRow": false, "ForceBinlogAnnotate": false, "ForceBinlogCompress": false, "ForceBinlogSlowqueries": false, "ForceBinlogChecksum": false, "ForceInmemoryBinlogCacheSize": false, "ForceDiskRelayLogSizeLimit": false, "ForceDiskRelayLogSizeLimitSize": 0, "ForceSyncBinlog": false, "ForceSyncInnoDB": false, "ForceNoslaveBehind": false, "RplChecks": false, "MasterConn": "", "MultiMaster": false, "MultiTierSlave": false, "Spider": false, "BindAddr": "", "HttpPort": "", "HttpServ": false, "HttpRoot": "", "HttpAuth": false, "HttpBootstrapButton": false, "SessionLifeTime": 0, "Daemon": false, "MailFrom": "", "MailTo": "", "MailSMTPAddr": "", "MasterConnectRetry": 0, "FailLimit": 0, "FailTime": 0, "FailSync": false, "FailEventScheduler": false, "FailEventStatus": false, "FailRestartUnsafe": false, "MaxFail": 0, "FailResetTime": 0, "FailMaxDelay": 0, "CheckFalsePositiveHeartbeat": false, "CheckFalsePositiveMaxscale": false, "CheckFalsePositiveHeartbeatTimeout": 0, "CheckFalsePositiveMaxscaleTimeout": 0, "CheckFalsePositiveExternal": false, "CheckFalsePositiveExternalPort": 0, "Heartbeat": false, "MdbsProxyOn": false, "MdbsProxyHosts": "", "MdbsProxyUser": "", "MxsOn": false, "MxsHost": "", "MxsPort": "", "MxsUser": "", "MxsPass": "", "MxsWritePort": 0, "MxsReadPort": 0, "MxsReadWritePort": 0, "MxsMaxinfoPort": 0, "MxsBinlogOn": false, "MxsBinlogPort": 0, "MxsDisableMonitor": false, "MxsGetInfoMethod": "", "MxsServerMatchPort": false, "HaproxyOn": false, "HaproxyWritePort": 0, "HaproxyReadPort": 0, "HaproxyStatPort": 0, "HaproxyWriteBindIp": "", "HaproxyReadBindIp": "", "HaproxyBinaryPath": "", "KeyPath": "", "LogLevel": 0, "Test": false, "TestInjectTraffic": false, "Topology": "", "GraphiteMetrics": false, "GraphiteEmbedded": false, "GraphiteCarbonHost": "", "GraphiteCarbonPort": 0, "GraphiteCarbonApiPort": 0, "GraphiteCarbonServerPort": 0, "GraphiteCarbonLinkPort": 0, "GraphiteCarbonPicklePort": 0, "GraphiteCarbonPprofPort": 0, "SysbenchBinaryPath": "", "SysbenchTime": 0, "SysbenchThreads": 0, "MariaDBBinaryPath": "", "Arbitration": false, "ArbitrationSasSecret": "", "ArbitrationSasHosts": "", "ArbitrationSasUniqueId": 0, "ArbitrationPeerHosts": "", "ReplicationSSL": false, "FailForceGtid": false, "RegTestStopCluster": false, "Enterprise": false, "ProvHost": "", "ProvAdminUser": "", "ProvUser": "", "ProvType": "", "ProvAgents": "", "ProvMem": "", "ProvIops": "", "ProvTags": "", "ProvDisk": "", "ProvDiskFS": "", "ProvDiskPool": "", "ProvDiskDevice": "", "ProvDiskType": "", "ProvNetIface": "", "ProvNetmask": "", "ProvGateway": "", "ProvProxType": "", "ProvProxAgents": "", "ProvProxDisk": "", "ProvProxDiskFS": "", "ProvProxDiskPool": "", "ProvProxDiskDevice": "", "ProvProxDiskType": "", "ProvProxNetIface": "", "ProvProxNetmask": "", "ProvProxGateway": "", "ProvMaxscaleVip": "", "ProvMdbshardproxyVip": "", "ProvHaproxyVip": "", "ProvWebsqlproxyVip": "", "ProvDbImg": "", "ProvProxImg": "", "APIUser": "", "APIPort": "", "ConfigFile": "" }, "config-test": { "WorkingDir": "", "ShareDir": "", "User": "", "Hosts": "", "HostsTLSCA": "", "HostsTLSKEY": "", "HostsTLSCLI": "", "Socket": "", "RplUser": "", "Interactive": false, "Verbose": false, "PreScript": "", "PostScript": "", "RejoinScript": "", "PrefMaster": "", "IgnoreSrv": "", "SwitchWaitKill": 0, "SwitchWaitTrx": 0, "SwitchWaitWrite": 0, "SwitchGtidCheck": false, "SwitchSync": false, "SwitchMaxDelay": 0, "ReadOnly": false, "Autorejoin": false, "AutorejoinFlashback": false, "AutorejoinMysqldump": false, "AutorejoinBackupBinlog": false, "AutorejoinSemisync": false, "LogFile": "", "MonitoringTicker": 0, "Timeout": 0, "CheckType": "", "CheckReplFilter": false, "CheckBinFilter": false, "ForceSlaveHeartbeat": false, "ForceSlaveHeartbeatTime": 0, "ForceSlaveHeartbeatRetry": 0, "ForceSlaveGtid": false, "ForceSlaveNoGtid": false, "ForceSlaveSemisync": false, "ForceSlaveReadOnly": false, "ForceBinlogRow": false, "ForceBinlogAnnotate": false, "ForceBinlogCompress": false, "ForceBinlogSlowqueries": false, "ForceBinlogChecksum": false, "ForceInmemoryBinlogCacheSize": false, "ForceDiskRelayLogSizeLimit": false, "ForceDiskRelayLogSizeLimitSize": 0, "ForceSyncBinlog": false, "ForceSyncInnoDB": false, "ForceNoslaveBehind": false, "RplChecks": false, "MasterConn": "", "MultiMaster": false, "MultiTierSlave": false, "Spider": false, "BindAddr": "", "HttpPort": "", "HttpServ": false, "HttpRoot": "", "HttpAuth": false, "HttpBootstrapButton": false, "SessionLifeTime": 0, "Daemon": false, "MailFrom": "", "MailTo": "", "MailSMTPAddr": "", "MasterConnectRetry": 0, "FailLimit": 0, "FailTime": 0, "FailSync": false, "FailEventScheduler": false, "FailEventStatus": false, "FailRestartUnsafe": false, "MaxFail": 0, "FailResetTime": 0, "FailMaxDelay": 0, "CheckFalsePositiveHeartbeat": false, "CheckFalsePositiveMaxscale": false, "CheckFalsePositiveHeartbeatTimeout": 0, "CheckFalsePositiveMaxscaleTimeout": 0, "CheckFalsePositiveExternal": false, "CheckFalsePositiveExternalPort": 0, "Heartbeat": false, "MdbsProxyOn": false, "MdbsProxyHosts": "", "MdbsProxyUser": "", "MxsOn": false, "MxsHost": "", "MxsPort": "", "MxsUser": "", "MxsPass": "", "MxsWritePort": 0, "MxsReadPort": 0, "MxsReadWritePort": 0, "MxsMaxinfoPort": 0, "MxsBinlogOn": false, "MxsBinlogPort": 0, "MxsDisableMonitor": false, "MxsGetInfoMethod": "", "MxsServerMatchPort": false, "HaproxyOn": false, "HaproxyWritePort": 0, "HaproxyReadPort": 0, "HaproxyStatPort": 0, "HaproxyWriteBindIp": "", "HaproxyReadBindIp": "", "HaproxyBinaryPath": "", "KeyPath": "", "LogLevel": 0, "Test": false, "TestInjectTraffic": false, "Topology": "", "GraphiteMetrics": false, "GraphiteEmbedded": false, "GraphiteCarbonHost": "", "GraphiteCarbonPort": 0, "GraphiteCarbonApiPort": 0, "GraphiteCarbonServerPort": 0, "GraphiteCarbonLinkPort": 0, "GraphiteCarbonPicklePort": 0, "GraphiteCarbonPprofPort": 0, "SysbenchBinaryPath": "", "SysbenchTime": 0, "SysbenchThreads": 0, "MariaDBBinaryPath": "", "Arbitration": false, "ArbitrationSasSecret": "", "ArbitrationSasHosts": "", "ArbitrationSasUniqueId": 0, "ArbitrationPeerHosts": "", "ReplicationSSL": false, "FailForceGtid": false, "RegTestStopCluster": false, "Enterprise": false, "ProvHost": "", "ProvAdminUser": "", "ProvUser": "", "ProvType": "", "ProvAgents": "", "ProvMem": "", "ProvIops": "", "ProvTags": "", "ProvDisk": "", "ProvDiskFS": "", "ProvDiskPool": "", "ProvDiskDevice": "", "ProvDiskType": "", "ProvNetIface": "", "ProvNetmask": "", "ProvGateway": "", "ProvProxType": "", "ProvProxAgents": "", "ProvProxDisk": "", "ProvProxDiskFS": "", "ProvProxDiskPool": "", "ProvProxDiskDevice": "", "ProvProxDiskType": "", "ProvProxNetIface": "", "ProvProxNetmask": "", "ProvProxGateway": "", "ProvMaxscaleVip": "", "ProvMdbshardproxyVip": "", "ProvHaproxyVip": "", "ProvWebsqlproxyVip": "", "ProvDbImg": "", "ProvProxImg": "", "APIUser": "", "APIPort": "", "ConfigFile": "" } }
,
{ "name": "testSwitchoverReadOnlyNoRplCheck", "result": "FAIL", "config-file": "././config/masterslave/mariadb/without_traffic/10.2/x2/multidomains/innodb/maxscale/latest/x1/replication-manager.conf", "config-init": { "WorkingDir": "/var/lib/replication-manager", "ShareDir": "/usr/local/share/mrm", "User": "root:mariadb", "Hosts": "192.168.100.70,192.168.100.71", "HostsTLSCA": "", "HostsTLSKEY": "", "HostsTLSCLI": "", "Socket": "", "RplUser": "root:mariadb", "Interactive": false, "Verbose": false, "PreScript": "", "PostScript": "", "RejoinScript": "", "PrefMaster": "192.168.100.70", "IgnoreSrv": "", "SwitchWaitKill": 5000, "SwitchWaitTrx": 10, "SwitchWaitWrite": 10, "SwitchGtidCheck": false, "SwitchSync": false, "SwitchMaxDelay": 0, "ReadOnly": true, "Autorejoin": true, "AutorejoinFlashback": true, "AutorejoinMysqldump": true, "AutorejoinBackupBinlog": true, "AutorejoinSemisync": true, "LogFile": "./config/masterslave/mariadb/without_traffic/10.2/x2/multidomains/innodb/maxscale/latest/x1/1.1.0-preview3-99-gc75a256/testSwitchoverReadOnlyNoRplCheck.log", "MonitoringTicker": 2, "Timeout": 1, "CheckType": "tcp", "CheckReplFilter": true, "CheckBinFilter": true, "ForceSlaveHeartbeat": false, "ForceSlaveHeartbeatTime": 3, "ForceSlaveHeartbeatRetry": 5, "ForceSlaveGtid": false, "ForceSlaveNoGtid": false, "ForceSlaveSemisync": true, "ForceSlaveReadOnly": true, "ForceBinlogRow": false, "ForceBinlogAnnotate": false, "ForceBinlogCompress": false, "ForceBinlogSlowqueries": false, "ForceBinlogChecksum": false, "ForceInmemoryBinlogCacheSize": false, "ForceDiskRelayLogSizeLimit": false, "ForceDiskRelayLogSizeLimitSize": 1000000000, "ForceSyncBinlog": true, "ForceSyncInnoDB": true, "ForceNoslaveBehind": false, "RplChecks": true, "MasterConn": "", "MultiMaster": false, "MultiTierSlave": false, "Spider": false, "BindAddr": "localhost", "HttpPort": "10001", "HttpServ": true, "HttpRoot": "../../dashboard", "HttpAuth": false, "HttpBootstrapButton": true, "SessionLifeTime": 3600, "Daemon": true, "MailFrom": "mrm@localhost", "MailTo": "", "MailSMTPAddr": "localhost:25", "MasterConnectRetry": 10, "FailLimit": 999, "FailTime": 1, "FailSync": false, "FailEventScheduler": false, "FailEventStatus": false, "FailRestartUnsafe": false, "MaxFail": 3, "FailResetTime": 300, "FailMaxDelay": 0, "CheckFalsePositiveHeartbeat": false, "CheckFalsePositiveMaxscale": false, "CheckFalsePositiveHeartbeatTimeout": 3, "CheckFalsePositiveMaxscaleTimeout": 14, "CheckFalsePositiveExternal": false, "CheckFalsePositiveExternalPort": 80, "Heartbeat": false, "MdbsProxyOn": false, "MdbsProxyHosts": "127.0.0.1:3307", "MdbsProxyUser": "admin", "MxsOn": true, "MxsHost": "192.168.100.50", "MxsPort": "3307", "MxsUser": "admin", "MxsPass": "mariadb", "MxsWritePort": 4007, "MxsReadPort": 4008, "MxsReadWritePort": 4006, "MxsMaxinfoPort": 3307, "MxsBinlogOn": false, "MxsBinlogPort": 3309, "MxsDisableMonitor": false, "MxsGetInfoMethod": "maxadmin", "MxsServerMatchPort": false, "HaproxyOn": false, "HaproxyWritePort": 3306, "HaproxyReadPort": 3307, "HaproxyStatPort": 1988, "HaproxyWriteBindIp": "0.0.0.0", "HaproxyReadBindIp": "0.0.0.0", "HaproxyBinaryPath": "/usr/sbin/haproxy", "KeyPath": "/etc/replication-manager/.replication-manager.key", "LogLevel": 0, "Test": true, "TestInjectTraffic": false, "Topology": "", "GraphiteMetrics": false, "GraphiteEmbedded": false, "GraphiteCarbonHost": "127.0.0.1", "GraphiteCarbonPort": 2003, "GraphiteCarbonApiPort": 10002, "GraphiteCarbonServerPort": 10003, "GraphiteCarbonLinkPort": 7002, "GraphiteCarbonPicklePort": 2004, "GraphiteCarbonPprofPort": 7007, "SysbenchBinaryPath": "/usr/local/bin/sysbench", "SysbenchTime": 60, "SysbenchThreads": 4, "MariaDBBinaryPath": "/usr/local/mysql/bin", "Arbitration": false, "ArbitrationSasSecret": "", "ArbitrationSasHosts": "88.191.151.84:80", "ArbitrationSasUniqueId": 0, "ArbitrationPeerHosts": "127.0.0.1:10002", "ReplicationSSL": false, "FailForceGtid": true, "RegTestStopCluster": false, "Enterprise": true, "ProvHost": "192.168.100.101:443", "ProvAdminUser": "root@localhost.localdomain:opensvc", "ProvUser": "replication-manager@localhost.localdomain:mariadb", "ProvType": "docker", "ProvAgents": "agent1,agent2", "ProvMem": "256", "ProvIops": "300", "ProvTags": "smallredolog,semisync,innodb,noquerycache,threadpool,logslow,multidomains", "ProvDisk": "1G", "ProvDiskFS": "zfs", "ProvDiskPool": "zpool", "ProvDiskDevice": "/srv", "ProvDiskType": "loopback", "ProvNetIface": "br0", "ProvNetmask": "255.255.255.0", "ProvGateway": "192.168.100.254", "ProvProxType": "docker", "ProvProxAgents": "agent2", "ProvProxDisk": "1G", "ProvProxDiskFS": "zfs", "ProvProxDiskPool": "zpool", "ProvProxDiskDevice": "/srv", "ProvProxDiskType": "loopback", "ProvProxNetIface": "br0", "ProvProxNetmask": "255.255.255.0", "ProvProxGateway": "192.168.100.254", "ProvMaxscaleVip": "", "ProvMdbshardproxyVip": "", "ProvHaproxyVip": "", "ProvWebsqlproxyVip": "", "ProvDbImg": "mariadb:10.2", "ProvProxImg": "asosso/maxscale:latest", "APIUser": "admin:mariadb", "APIPort": "3000", "ConfigFile": "././config/masterslave/mariadb/without_traffic/10.2/x2/multidomains/innodb/maxscale/latest/x1/replication-manager.conf" }, "config-test": { "WorkingDir": "/var/lib/replication-manager", "ShareDir": "/usr/local/share/mrm", "User": "root:mariadb", "Hosts": "192.168.100.70,192.168.100.71", "HostsTLSCA": "", "HostsTLSKEY": "", "HostsTLSCLI": "", "Socket": "", "RplUser": "root:mariadb", "Interactive": false, "Verbose": false, "PreScript": "", "PostScript": "", "RejoinScript": "", "PrefMaster": "192.168.100.70", "IgnoreSrv": "", "SwitchWaitKill": 5000, "SwitchWaitTrx": 10, "SwitchWaitWrite": 10, "SwitchGtidCheck": false, "SwitchSync": false, "SwitchMaxDelay": 0, "ReadOnly": true, "Autorejoin": true, "AutorejoinFlashback": true, "AutorejoinMysqldump": true, "AutorejoinBackupBinlog": true, "AutorejoinSemisync": true, "LogFile": "./config/masterslave/mariadb/without_traffic/10.2/x2/multidomains/innodb/maxscale/latest/x1/1.1.0-preview3-99-gc75a256/testSwitchoverReadOnlyNoRplCheck.log", "MonitoringTicker": 2, "Timeout": 1, "CheckType": "tcp", "CheckReplFilter": true, "CheckBinFilter": true, "ForceSlaveHeartbeat": false, "ForceSlaveHeartbeatTime": 3, "ForceSlaveHeartbeatRetry": 5, "ForceSlaveGtid": false, "ForceSlaveNoGtid": false, "ForceSlaveSemisync": true, "ForceSlaveReadOnly": true, "ForceBinlogRow": false, "ForceBinlogAnnotate": false, "ForceBinlogCompress": false, "ForceBinlogSlowqueries": false, "ForceBinlogChecksum": false, "ForceInmemoryBinlogCacheSize": false, "ForceDiskRelayLogSizeLimit": false, "ForceDiskRelayLogSizeLimitSize": 1000000000, "ForceSyncBinlog": true, "ForceSyncInnoDB": true, "ForceNoslaveBehind": false, "RplChecks": false, "MasterConn": "", "MultiMaster": false, "MultiTierSlave": false, "Spider": false, "BindAddr": "localhost", "HttpPort": "10001", "HttpServ": true, "HttpRoot": "../../dashboard", "HttpAuth": false, "HttpBootstrapButton": true, "SessionLifeTime": 3600, "Daemon": true, "MailFrom": "mrm@localhost", "MailTo": "", "MailSMTPAddr": "localhost:25", "MasterConnectRetry": 10, "FailLimit": 999, "FailTime": 1, "FailSync": false, "FailEventScheduler": false, "FailEventStatus": false, "FailRestartUnsafe": false, "MaxFail": 3, "FailResetTime": 300, "FailMaxDelay": 0, "CheckFalsePositiveHeartbeat": false, "CheckFalsePositiveMaxscale": false, "CheckFalsePositiveHeartbeatTimeout": 3, "CheckFalsePositiveMaxscaleTimeout": 14, "CheckFalsePositiveExternal": false, "CheckFalsePositiveExternalPort": 80, "Heartbeat": false, "MdbsProxyOn": false, "MdbsProxyHosts": "127.0.0.1:3307", "MdbsProxyUser": "admin", "MxsOn": true, "MxsHost": "192.168.100.50", "MxsPort": "3307", "MxsUser": "admin", "MxsPass": "mariadb", "MxsWritePort": 4007, "MxsReadPort": 4008, "MxsReadWritePort": 4006, "MxsMaxinfoPort": 3307, "MxsBinlogOn": false, "MxsBinlogPort": 3309, "MxsDisableMonitor": false, "MxsGetInfoMethod": "maxadmin", "MxsServerMatchPort": false, "HaproxyOn": false, "HaproxyWritePort": 3306, "HaproxyReadPort": 3307, "HaproxyStatPort": 1988, "HaproxyWriteBindIp": "0.0.0.0", "HaproxyReadBindIp": "0.0.0.0", "HaproxyBinaryPath": "/usr/sbin/haproxy", "KeyPath": "/etc/replication-manager/.replication-manager.key", "LogLevel": 0, "Test": true, "TestInjectTraffic": false, "Topology": "", "GraphiteMetrics": false, "GraphiteEmbedded": false, "GraphiteCarbonHost": "127.0.0.1", "GraphiteCarbonPort": 2003, "GraphiteCarbonApiPort": 10002, "GraphiteCarbonServerPort": 10003, "GraphiteCarbonLinkPort": 7002, "GraphiteCarbonPicklePort": 2004, "GraphiteCarbonPprofPort": 7007, "SysbenchBinaryPath": "/usr/local/bin/sysbench", "SysbenchTime": 60, "SysbenchThreads": 4, "MariaDBBinaryPath": "/usr/local/mysql/bin", "Arbitration": false, "ArbitrationSasSecret": "", "ArbitrationSasHosts": "88.191.151.84:80", "ArbitrationSasUniqueId": 0, "ArbitrationPeerHosts": "127.0.0.1:10002", "ReplicationSSL": false, "FailForceGtid": true, "RegTestStopCluster": false, "Enterprise": true, "ProvHost": "192.168.100.101:443", "ProvAdminUser": "root@localhost.localdomain:opensvc", "ProvUser": "replication-manager@localhost.localdomain:mariadb", "ProvType": "docker", "ProvAgents": "agent1,agent2", "ProvMem": "256", "ProvIops": "300", "ProvTags": "smallredolog,semisync,innodb,noquerycache,threadpool,logslow,multidomains", "ProvDisk": "1G", "ProvDiskFS": "zfs", "ProvDiskPool": "zpool", "ProvDiskDevice": "/srv", "ProvDiskType": "loopback", "ProvNetIface": "br0", "ProvNetmask": "255.255.255.0", "ProvGateway": "192.168.100.254", "ProvProxType": "docker", "ProvProxAgents": "agent2", "ProvProxDisk": "1G", "ProvProxDiskFS": "zfs", "ProvProxDiskPool": "zpool", "ProvProxDiskDevice": "/srv", "ProvProxDiskType": "loopback", "ProvProxNetIface": "br0", "ProvProxNetmask": "255.255.255.0", "ProvProxGateway": "192.168.100.254", "ProvMaxscaleVip": "", "ProvMdbshardproxyVip": "", "ProvHaproxyVip": "", "ProvWebsqlproxyVip": "", "ProvDbImg": "mariadb:10.2", "ProvProxImg": "asosso/maxscale:latest", "APIUser": "admin:mariadb", "APIPort": "3000", "ConfigFile": "././config/masterslave/mariadb/without_traffic/10.2/x2/multidomains/innodb/maxscale/latest/x1/replication-manager.conf" } }
,
{ "name": "testSwitchoverNoReadOnlyNoRplCheck", "result": "PASS", "config-file": "././config/masterslave/mariadb/without_traffic/10.2/x2/multidomains/innodb/maxscale/latest/x1/replication-manager.conf", "config-init": { "WorkingDir": "/var/lib/replication-manager", "ShareDir": "/usr/local/share/mrm", "User": "root:mariadb", "Hosts": "192.168.100.70,192.168.100.71", "HostsTLSCA": "", "HostsTLSKEY": "", "HostsTLSCLI": "", "Socket": "", "RplUser": "root:mariadb", "Interactive": false, "Verbose": false, "PreScript": "", "PostScript": "", "RejoinScript": "", "PrefMaster": "192.168.100.70", "IgnoreSrv": "", "SwitchWaitKill": 5000, "SwitchWaitTrx": 10, "SwitchWaitWrite": 10, "SwitchGtidCheck": false, "SwitchSync": false, "SwitchMaxDelay": 0, "ReadOnly": true, "Autorejoin": true, "AutorejoinFlashback": true, "AutorejoinMysqldump": true, "AutorejoinBackupBinlog": true, "AutorejoinSemisync": true, "LogFile": "./config/masterslave/mariadb/without_traffic/10.2/x2/multidomains/innodb/maxscale/latest/x1/1.1.0-preview3-99-gc75a256/testSwitchoverNoReadOnlyNoRplCheck.log", "MonitoringTicker": 2, "Timeout": 1, "CheckType": "tcp", "CheckReplFilter": true, "CheckBinFilter": true, "ForceSlaveHeartbeat": false, "ForceSlaveHeartbeatTime": 3, "ForceSlaveHeartbeatRetry": 5, "ForceSlaveGtid": false, "ForceSlaveNoGtid": false, "ForceSlaveSemisync": true, "ForceSlaveReadOnly": true, "ForceBinlogRow": false, "ForceBinlogAnnotate": false, "ForceBinlogCompress": false, "ForceBinlogSlowqueries": false, "ForceBinlogChecksum": false, "ForceInmemoryBinlogCacheSize": false, "ForceDiskRelayLogSizeLimit": false, "ForceDiskRelayLogSizeLimitSize": 1000000000, "ForceSyncBinlog": true, "ForceSyncInnoDB": true, "ForceNoslaveBehind": false, "RplChecks": true, "MasterConn": "", "MultiMaster": false, "MultiTierSlave": false, "Spider": false, "BindAddr": "localhost", "HttpPort": "10001", "HttpServ": true, "HttpRoot": "../../dashboard", "HttpAuth": false, "HttpBootstrapButton": true, "SessionLifeTime": 3600, "Daemon": true, "MailFrom": "mrm@localhost", "MailTo": "", "MailSMTPAddr": "localhost:25", "MasterConnectRetry": 10, "FailLimit": 999, "FailTime": 1, "FailSync": false, "FailEventScheduler": false, "FailEventStatus": false, "FailRestartUnsafe": false, "MaxFail": 3, "FailResetTime": 300, "FailMaxDelay": 0, "CheckFalsePositiveHeartbeat": false, "CheckFalsePositiveMaxscale": false, "CheckFalsePositiveHeartbeatTimeout": 3, "CheckFalsePositiveMaxscaleTimeout": 14, "CheckFalsePositiveExternal": false, "CheckFalsePositiveExternalPort": 80, "Heartbeat": false, "MdbsProxyOn": false, "MdbsProxyHosts": "127.0.0.1:3307", "MdbsProxyUser": "admin", "MxsOn": true, "MxsHost": "192.168.100.50", "MxsPort": "3307", "MxsUser": "admin", "MxsPass": "mariadb", "MxsWritePort": 4007, "MxsReadPort": 4008, "MxsReadWritePort": 4006, "MxsMaxinfoPort": 3307, "MxsBinlogOn": false, "MxsBinlogPort": 3309, "MxsDisableMonitor": false, "MxsGetInfoMethod": "maxadmin", "MxsServerMatchPort": false, "HaproxyOn": false, "HaproxyWritePort": 3306, "HaproxyReadPort": 3307, "HaproxyStatPort": 1988, "HaproxyWriteBindIp": "0.0.0.0", "HaproxyReadBindIp": "0.0.0.0", "HaproxyBinaryPath": "/usr/sbin/haproxy", "KeyPath": "/etc/replication-manager/.replication-manager.key", "LogLevel": 0, "Test": true, "TestInjectTraffic": false, "Topology": "", "GraphiteMetrics": false, "GraphiteEmbedded": false, "GraphiteCarbonHost": "127.0.0.1", "GraphiteCarbonPort": 2003, "GraphiteCarbonApiPort": 10002, "GraphiteCarbonServerPort": 10003, "GraphiteCarbonLinkPort": 7002, "GraphiteCarbonPicklePort": 2004, "GraphiteCarbonPprofPort": 7007, "SysbenchBinaryPath": "/usr/local/bin/sysbench", "SysbenchTime": 60, "SysbenchThreads": 4, "MariaDBBinaryPath": "/usr/local/mysql/bin", "Arbitration": false, "ArbitrationSasSecret": "", "ArbitrationSasHosts": "88.191.151.84:80", "ArbitrationSasUniqueId": 0, "ArbitrationPeerHosts": "127.0.0.1:10002", "ReplicationSSL": false, "FailForceGtid": true, "RegTestStopCluster": false, "Enterprise": true, "ProvHost": "192.168.100.101:443", "ProvAdminUser": "root@localhost.localdomain:opensvc", "ProvUser": "replication-manager@localhost.localdomain:mariadb", "ProvType": "docker", "ProvAgents": "agent1,agent2", "ProvMem": "256", "ProvIops": "300", "ProvTags": "smallredolog,semisync,innodb,noquerycache,threadpool,logslow,multidomains", "ProvDisk": "1G", "ProvDiskFS": "zfs", "ProvDiskPool": "zpool", "ProvDiskDevice": "/srv", "ProvDiskType": "loopback", "ProvNetIface": "br0", "ProvNetmask": "255.255.255.0", "ProvGateway": "192.168.100.254", "ProvProxType": "docker", "ProvProxAgents": "agent2", "ProvProxDisk": "1G", "ProvProxDiskFS": "zfs", "ProvProxDiskPool": "zpool", "ProvProxDiskDevice": "/srv", "ProvProxDiskType": "loopback", "ProvProxNetIface": "br0", "ProvProxNetmask": "255.255.255.0", "ProvProxGateway": "192.168.100.254", "ProvMaxscaleVip": "", "ProvMdbshardproxyVip": "", "ProvHaproxyVip": "", "ProvWebsqlproxyVip": "", "ProvDbImg": "mariadb:10.2", "ProvProxImg": "asosso/maxscale:latest", "APIUser": "admin:mariadb", "APIPort": "3000", "ConfigFile": "././config/masterslave/mariadb/without_traffic/10.2/x2/multidomains/innodb/maxscale/latest/x1/replication-manager.conf" }, "config-test": { "WorkingDir": "/var/lib/replication-manager", "ShareDir": "/usr/local/share/mrm", "User": "root:mariadb", "Hosts": "192.168.100.70,192.168.100.71", "HostsTLSCA": "", "HostsTLSKEY": "", "HostsTLSCLI": "", "Socket": "", "RplUser": "root:mariadb", "Interactive": false, "Verbose": false, "PreScript": "", "PostScript": "", "RejoinScript": "", "PrefMaster": "192.168.100.70", "IgnoreSrv": "", "SwitchWaitKill": 5000, "SwitchWaitTrx": 10, "SwitchWaitWrite": 10, "SwitchGtidCheck": false, "SwitchSync": false, "SwitchMaxDelay": 0, "ReadOnly": false, "Autorejoin": true, "AutorejoinFlashback": true, "AutorejoinMysqldump": true, "AutorejoinBackupBinlog": true, "AutorejoinSemisync": true, "LogFile": "./config/masterslave/mariadb/without_traffic/10.2/x2/multidomains/innodb/maxscale/latest/x1/1.1.0-preview3-99-gc75a256/testSwitchoverNoReadOnlyNoRplCheck.log", "MonitoringTicker": 2, "Timeout": 1, "CheckType": "tcp", "CheckReplFilter": true, "CheckBinFilter": true, "ForceSlaveHeartbeat": false, "ForceSlaveHeartbeatTime": 3, "ForceSlaveHeartbeatRetry": 5, "ForceSlaveGtid": false, "ForceSlaveNoGtid": false, "ForceSlaveSemisync": true, "ForceSlaveReadOnly": true, "ForceBinlogRow": false, "ForceBinlogAnnotate": false, "ForceBinlogCompress": false, "ForceBinlogSlowqueries": false, "ForceBinlogChecksum": false, "ForceInmemoryBinlogCacheSize": false, "ForceDiskRelayLogSizeLimit": false, "ForceDiskRelayLogSizeLimitSize": 1000000000, "ForceSyncBinlog": true, "ForceSyncInnoDB": true, "ForceNoslaveBehind": false, "RplChecks": false, "MasterConn": "", "MultiMaster": false, "MultiTierSlave": false, "Spider": false, "BindAddr": "localhost", "HttpPort": "10001", "HttpServ": true, "HttpRoot": "../../dashboard", "HttpAuth": false, "HttpBootstrapButton": true, "SessionLifeTime": 3600, "Daemon": true, "MailFrom": "mrm@localhost", "MailTo": "", "MailSMTPAddr": "localhost:25", "MasterConnectRetry": 10, "FailLimit": 999, "FailTime": 1, "FailSync": false, "FailEventScheduler": false, "FailEventStatus": false, "FailRestartUnsafe": false, "MaxFail": 3, "FailResetTime": 300, "FailMaxDelay": 0, "CheckFalsePositiveHeartbeat": false, "CheckFalsePositiveMaxscale": false, "CheckFalsePositiveHeartbeatTimeout": 3, "CheckFalsePositiveMaxscaleTimeout": 14, "CheckFalsePositiveExternal": false, "CheckFalsePositiveExternalPort": 80, "Heartbeat": false, "MdbsProxyOn": false, "MdbsProxyHosts": "127.0.0.1:3307", "MdbsProxyUser": "admin", "MxsOn": true, "MxsHost": "192.168.100.50", "MxsPort": "3307", "MxsUser": "admin", "MxsPass": "mariadb", "MxsWritePort": 4007, "MxsReadPort": 4008, "MxsReadWritePort": 4006, "MxsMaxinfoPort": 3307, "MxsBinlogOn": false, "MxsBinlogPort": 3309, "MxsDisableMonitor": false, "MxsGetInfoMethod": "maxadmin", "MxsServerMatchPort": false, "HaproxyOn": false, "HaproxyWritePort": 3306, "HaproxyReadPort": 3307, "HaproxyStatPort": 1988, "HaproxyWriteBindIp": "0.0.0.0", "HaproxyReadBindIp": "0.0.0.0", "HaproxyBinaryPath": "/usr/sbin/haproxy", "KeyPath": "/etc/replication-manager/.replication-manager.key", "LogLevel": 0, "Test": true, "TestInjectTraffic": false, "Topology": "", "GraphiteMetrics": false, "GraphiteEmbedded": false, "GraphiteCarbonHost": "127.0.0.1", "GraphiteCarbonPort": 2003, "GraphiteCarbonApiPort": 10002, "GraphiteCarbonServerPort": 10003, "GraphiteCarbonLinkPort": 7002, "GraphiteCarbonPicklePort": 2004, "GraphiteCarbonPprofPort": 7007, "SysbenchBinaryPath": "/usr/local/bin/sysbench", "SysbenchTime": 60, "SysbenchThreads": 4, "MariaDBBinaryPath": "/usr/local/mysql/bin", "Arbitration": false, "ArbitrationSasSecret": "", "ArbitrationSasHosts": "88.191.151.84:80", "ArbitrationSasUniqueId": 0, "ArbitrationPeerHosts": "127.0.0.1:10002", "ReplicationSSL": false, "FailForceGtid": true, "RegTestStopCluster": false, "Enterprise": true, "ProvHost": "192.168.100.101:443", "ProvAdminUser": "root@localhost.localdomain:opensvc", "ProvUser": "replication-manager@localhost.localdomain:mariadb", "ProvType": "docker", "ProvAgents": "agent1,agent2", "ProvMem": "256", "ProvIops": "300", "ProvTags": "smallredolog,semisync,innodb,noquerycache,threadpool,logslow,multidomains", "ProvDisk": "1G", "ProvDiskFS": "zfs", "ProvDiskPool": "zpool", "ProvDiskDevice": "/srv", "ProvDiskType": "loopback", "ProvNetIface": "br0", "ProvNetmask": "255.255.255.0", "ProvGateway": "192.168.100.254", "ProvProxType": "docker", "ProvProxAgents": "agent2", "ProvProxDisk": "1G", "ProvProxDiskFS": "zfs", "ProvProxDiskPool": "zpool", "ProvProxDiskDevice": "/srv", "ProvProxDiskType": "loopback", "ProvProxNetIface": "br0", "ProvProxNetmask": "255.255.255.0", "ProvProxGateway": "192.168.100.254", "ProvMaxscaleVip": "", "ProvMdbshardproxyVip": "", "ProvHaproxyVip": "", "ProvWebsqlproxyVip": "", "ProvDbImg": "mariadb:10.2", "ProvProxImg": "asosso/maxscale:latest", "APIUser": "admin:mariadb", "APIPort": "3000", "ConfigFile": "././config/masterslave/mariadb/without_traffic/10.2/x2/multidomains/innodb/maxscale/latest/x1/replication-manager.conf" } }
,
{ "name": "testSwitchover2TimesReplicationOkNoSemiSyncNoRplCheck", "result": "PASS", "config-file": "././config/masterslave/mariadb/without_traffic/10.2/x2/multidomains/innodb/maxscale/latest/x1/replication-manager.conf", "config-init": { "WorkingDir": "/var/lib/replication-manager", "ShareDir": "/usr/local/share/mrm", "User": "root:mariadb", "Hosts": "192.168.100.70,192.168.100.71", "HostsTLSCA": "", "HostsTLSKEY": "", "HostsTLSCLI": "", "Socket": "", "RplUser": "root:mariadb", "Interactive": false, "Verbose": false, "PreScript": "", "PostScript": "", "RejoinScript": "", "PrefMaster": "192.168.100.70", "IgnoreSrv": "", "SwitchWaitKill": 5000, "SwitchWaitTrx": 10, "SwitchWaitWrite": 10, "SwitchGtidCheck": false, "SwitchSync": false, "SwitchMaxDelay": 0, "ReadOnly": true, "Autorejoin": true, "AutorejoinFlashback": true, "AutorejoinMysqldump": true, "AutorejoinBackupBinlog": true, "AutorejoinSemisync": true, "LogFile": "./config/masterslave/mariadb/without_traffic/10.2/x2/multidomains/innodb/maxscale/latest/x1/1.1.0-preview3-99-gc75a256/testSwitchover2TimesReplicationOkNoSemiSyncNoRplCheck.log", "MonitoringTicker": 2, "Timeout": 1, "CheckType": "tcp", "CheckReplFilter": true, "CheckBinFilter": true, "ForceSlaveHeartbeat": false, "ForceSlaveHeartbeatTime": 3, "ForceSlaveHeartbeatRetry": 5, "ForceSlaveGtid": false, "ForceSlaveNoGtid": false, "ForceSlaveSemisync": true, "ForceSlaveReadOnly": true, "ForceBinlogRow": false, "ForceBinlogAnnotate": false, "ForceBinlogCompress": false, "ForceBinlogSlowqueries": false, "ForceBinlogChecksum": false, "ForceInmemoryBinlogCacheSize": false, "ForceDiskRelayLogSizeLimit": false, "ForceDiskRelayLogSizeLimitSize": 1000000000, "ForceSyncBinlog": true, "ForceSyncInnoDB": true, "ForceNoslaveBehind": false, "RplChecks": true, "MasterConn": "", "MultiMaster": false, "MultiTierSlave": false, "Spider": false, "BindAddr": "localhost", "HttpPort": "10001", "HttpServ": true, "HttpRoot": "../../dashboard", "HttpAuth": false, "HttpBootstrapButton": true, "SessionLifeTime": 3600, "Daemon": true, "MailFrom": "mrm@localhost", "MailTo": "", "MailSMTPAddr": "localhost:25", "MasterConnectRetry": 10, "FailLimit": 999, "FailTime": 1, "FailSync": false, "FailEventScheduler": false, "FailEventStatus": false, "FailRestartUnsafe": false, "MaxFail": 3, "FailResetTime": 300, "FailMaxDelay": 0, "CheckFalsePositiveHeartbeat": false, "CheckFalsePositiveMaxscale": false, "CheckFalsePositiveHeartbeatTimeout": 3, "CheckFalsePositiveMaxscaleTimeout": 14, "CheckFalsePositiveExternal": false, "CheckFalsePositiveExternalPort": 80, "Heartbeat": false, "MdbsProxyOn": false, "MdbsProxyHosts": "127.0.0.1:3307", "MdbsProxyUser": "admin", "MxsOn": true, "MxsHost": "192.168.100.50", "MxsPort": "3307", "MxsUser": "admin", "MxsPass": "mariadb", "MxsWritePort": 4007, "MxsReadPort": 4008, "MxsReadWritePort": 4006, "MxsMaxinfoPort": 3307, "MxsBinlogOn": false, "MxsBinlogPort": 3309, "MxsDisableMonitor": false, "MxsGetInfoMethod": "maxadmin", "MxsServerMatchPort": false, "HaproxyOn": false, "HaproxyWritePort": 3306, "HaproxyReadPort": 3307, "HaproxyStatPort": 1988, "HaproxyWriteBindIp": "0.0.0.0", "HaproxyReadBindIp": "0.0.0.0", "HaproxyBinaryPath": "/usr/sbin/haproxy", "KeyPath": "/etc/replication-manager/.replication-manager.key", "LogLevel": 0, "Test": true, "TestInjectTraffic": false, "Topology": "", "GraphiteMetrics": false, "GraphiteEmbedded": false, "GraphiteCarbonHost": "127.0.0.1", "GraphiteCarbonPort": 2003, "GraphiteCarbonApiPort": 10002, "GraphiteCarbonServerPort": 10003, "GraphiteCarbonLinkPort": 7002, "GraphiteCarbonPicklePort": 2004, "GraphiteCarbonPprofPort": 7007, "SysbenchBinaryPath": "/usr/local/bin/sysbench", "SysbenchTime": 60, "SysbenchThreads": 4, "MariaDBBinaryPath": "/usr/local/mysql/bin", "Arbitration": false, "ArbitrationSasSecret": "", "ArbitrationSasHosts": "88.191.151.84:80", "ArbitrationSasUniqueId": 0, "ArbitrationPeerHosts": "127.0.0.1:10002", "ReplicationSSL": false, "FailForceGtid": true, "RegTestStopCluster": false, "Enterprise": true, "ProvHost": "192.168.100.101:443", "ProvAdminUser": "root@localhost.localdomain:opensvc", "ProvUser": "replication-manager@localhost.localdomain:mariadb", "ProvType": "docker", "ProvAgents": "agent1,agent2", "ProvMem": "256", "ProvIops": "300", "ProvTags": "smallredolog,semisync,innodb,noquerycache,threadpool,logslow,multidomains", "ProvDisk": "1G", "ProvDiskFS": "zfs", "ProvDiskPool": "zpool", "ProvDiskDevice": "/srv", "ProvDiskType": "loopback", "ProvNetIface": "br0", "ProvNetmask": "255.255.255.0", "ProvGateway": "192.168.100.254", "ProvProxType": "docker", "ProvProxAgents": "agent2", "ProvProxDisk": "1G", "ProvProxDiskFS": "zfs", "ProvProxDiskPool": "zpool", "ProvProxDiskDevice": "/srv", "ProvProxDiskType": "loopback", "ProvProxNetIface": "br0", "ProvProxNetmask": "255.255.255.0", "ProvProxGateway": "192.168.100.254", "ProvMaxscaleVip": "", "ProvMdbshardproxyVip": "", "ProvHaproxyVip": "", "ProvWebsqlproxyVip": "", "ProvDbImg": "mariadb:10.2", "ProvProxImg": "asosso/maxscale:latest", "APIUser": "admin:mariadb", "APIPort": "3000", "ConfigFile": "././config/masterslave/mariadb/without_traffic/10.2/x2/multidomains/innodb/maxscale/latest/x1/replication-manager.conf" }, "config-test": { "WorkingDir": "/var/lib/replication-manager", "ShareDir": "/usr/local/share/mrm", "User": "root:mariadb", "Hosts": "192.168.100.70,192.168.100.71", "HostsTLSCA": "", "HostsTLSKEY": "", "HostsTLSCLI": "", "Socket": "", "RplUser": "root:mariadb", "Interactive": false, "Verbose": false, "PreScript": "", "PostScript": "", "RejoinScript": "", "PrefMaster": "192.168.100.70", "IgnoreSrv": "", "SwitchWaitKill": 5000, "SwitchWaitTrx": 10, "SwitchWaitWrite": 10, "SwitchGtidCheck": false, "SwitchSync": false, "SwitchMaxDelay": 0, "ReadOnly": true, "Autorejoin": true, "AutorejoinFlashback": true, "AutorejoinMysqldump": true, "AutorejoinBackupBinlog": true, "AutorejoinSemisync": true, "LogFile": "./config/masterslave/mariadb/without_traffic/10.2/x2/multidomains/innodb/maxscale/latest/x1/1.1.0-preview3-99-gc75a256/testSwitchover2TimesReplicationOkNoSemiSyncNoRplCheck.log", "MonitoringTicker": 2, "Timeout": 1, "CheckType": "tcp", "CheckReplFilter": true, "CheckBinFilter": true, "ForceSlaveHeartbeat": false, "ForceSlaveHeartbeatTime": 3, "ForceSlaveHeartbeatRetry": 5, "ForceSlaveGtid": false, "ForceSlaveNoGtid": false, "ForceSlaveSemisync": true, "ForceSlaveReadOnly": true, "ForceBinlogRow": false, "ForceBinlogAnnotate": false, "ForceBinlogCompress": false, "ForceBinlogSlowqueries": false, "ForceBinlogChecksum": false, "ForceInmemoryBinlogCacheSize": false, "ForceDiskRelayLogSizeLimit": false, "ForceDiskRelayLogSizeLimitSize": 1000000000, "ForceSyncBinlog": true, "ForceSyncInnoDB": true, "ForceNoslaveBehind": false, "RplChecks": false, "MasterConn": "", "MultiMaster": false, "MultiTierSlave": false, "Spider": false, "BindAddr": "localhost", "HttpPort": "10001", "HttpServ": true, "HttpRoot": "../../dashboard", "HttpAuth": false, "HttpBootstrapButton": true, "SessionLifeTime": 3600, "Daemon": true, "MailFrom": "mrm@localhost", "MailTo": "", "MailSMTPAddr": "localhost:25", "MasterConnectRetry": 10, "FailLimit": 999, "FailTime": 1, "FailSync": false, "FailEventScheduler": false, "FailEventStatus": false, "FailRestartUnsafe": false, "MaxFail": 3, "FailResetTime": 300, "FailMaxDelay": 0, "CheckFalsePositiveHeartbeat": false, "CheckFalsePositiveMaxscale": false, "CheckFalsePositiveHeartbeatTimeout": 3, "CheckFalsePositiveMaxscaleTimeout": 14, "CheckFalsePositiveExternal": false, "CheckFalsePositiveExternalPort": 80, "Heartbeat": false, "MdbsProxyOn": false, "MdbsProxyHosts": "127.0.0.1:3307", "MdbsProxyUser": "admin", "MxsOn": true, "MxsHost": "192.168.100.50", "MxsPort": "3307", "MxsUser": "admin", "MxsPass": "mariadb", "MxsWritePort": 4007, "MxsReadPort": 4008, "MxsReadWritePort": 4006, "MxsMaxinfoPort": 3307, "MxsBinlogOn": false, "MxsBinlogPort": 3309, "MxsDisableMonitor": false, "MxsGetInfoMethod": "maxadmin", "MxsServerMatchPort": false, "HaproxyOn": false, "HaproxyWritePort": 3306, "HaproxyReadPort": 3307, "HaproxyStatPort": 1988, "HaproxyWriteBindIp": "0.0.0.0", "HaproxyReadBindIp": "0.0.0.0", "HaproxyBinaryPath": "/usr/sbin/haproxy", "KeyPath": "/etc/replication-manager/.replication-manager.key", "LogLevel": 0, "Test": true, "TestInjectTraffic": false, "Topology": "", "GraphiteMetrics": false, "GraphiteEmbedded": false, "GraphiteCarbonHost": "127.0.0.1", "GraphiteCarbonPort": 2003, "GraphiteCarbonApiPort": 10002, "GraphiteCarbonServerPort": 10003, "GraphiteCarbonLinkPort": 7002, "GraphiteCarbonPicklePort": 2004, "GraphiteCarbonPprofPort": 7007, "SysbenchBinaryPath": "/usr/local/bin/sysbench", "SysbenchTime": 60, "SysbenchThreads": 4, "MariaDBBinaryPath": "/usr/local/mysql/bin", "Arbitration": false, "ArbitrationSasSecret": "", "ArbitrationSasHosts": "88.191.151.84:80", "ArbitrationSasUniqueId": 0, "ArbitrationPeerHosts": "127.0.0.1:10002", "ReplicationSSL": false, "FailForceGtid": true, "RegTestStopCluster": false, "Enterprise": true, "ProvHost": "192.168.100.101:443", "ProvAdminUser": "root@localhost.localdomain:opensvc", "ProvUser": "replication-manager@localhost.localdomain:mariadb", "ProvType": "docker", "ProvAgents": "agent1,agent2", "ProvMem": "256", "ProvIops": "300", "ProvTags": "smallredolog,semisync,innodb,noquerycache,threadpool,logslow,multidomains", "ProvDisk": "1G", "ProvDiskFS": "zfs", "ProvDiskPool": "zpool", "ProvDiskDevice": "/srv", "ProvDiskType": "loopback", "ProvNetIface": "br0", "ProvNetmask": "255.255.255.0", "ProvGateway": "192.168.100.254", "ProvProxType": "docker", "ProvProxAgents": "agent2", "ProvProxDisk": "1G", "ProvProxDiskFS": "zfs", "ProvProxDiskPool": "zpool", "ProvProxDiskDevice": "/srv", "ProvProxDiskType": "loopback", "ProvProxNetIface": "br0", "ProvProxNetmask": "255.255.255.0", "ProvProxGateway": "192.168.100.254", "ProvMaxscaleVip": "", "ProvMdbshardproxyVip": "", "ProvHaproxyVip": "", "ProvWebsqlproxyVip": "", "ProvDbImg": "mariadb:10.2", "ProvProxImg": "asosso/maxscale:latest", "APIUser": "admin:mariadb", "APIPort": "3000", "ConfigFile": "././config/masterslave/mariadb/without_traffic/10.2/x2/multidomains/innodb/maxscale/latest/x1/replication-manager.conf" } }
,
{ "name": "testSwitchover2TimesReplicationOkSemiSyncNoRplCheck", "result": "PASS", "config-file": "././config/masterslave/mariadb/without_traffic/10.2/x2/multidomains/innodb/maxscale/latest/x1/replication-manager.conf", "config-init": { "WorkingDir": "/var/lib/replication-manager", "ShareDir": "/usr/local/share/mrm", "User": "root:mariadb", "Hosts": "192.168.100.70,192.168.100.71", "HostsTLSCA": "", "HostsTLSKEY": "", "HostsTLSCLI": "", "Socket": "", "RplUser": "root:mariadb", "Interactive": false, "Verbose": false, "PreScript": "", "PostScript": "", "RejoinScript": "", "PrefMaster": "192.168.100.70", "IgnoreSrv": "", "SwitchWaitKill": 5000, "SwitchWaitTrx": 10, "SwitchWaitWrite": 10, "SwitchGtidCheck": false, "SwitchSync": false, "SwitchMaxDelay": 0, "ReadOnly": true, "Autorejoin": true, "AutorejoinFlashback": true, "AutorejoinMysqldump": true, "AutorejoinBackupBinlog": true, "AutorejoinSemisync": true, "LogFile": "./config/masterslave/mariadb/without_traffic/10.2/x2/multidomains/innodb/maxscale/latest/x1/1.1.0-preview3-99-gc75a256/testSwitchover2TimesReplicationOkSemiSyncNoRplCheck.log", "MonitoringTicker": 2, "Timeout": 1, "CheckType": "tcp", "CheckReplFilter": true, "CheckBinFilter": true, "ForceSlaveHeartbeat": false, "ForceSlaveHeartbeatTime": 3, "ForceSlaveHeartbeatRetry": 5, "ForceSlaveGtid": false, "ForceSlaveNoGtid": false, "ForceSlaveSemisync": true, "ForceSlaveReadOnly": true, "ForceBinlogRow": false, "ForceBinlogAnnotate": false, "ForceBinlogCompress": false, "ForceBinlogSlowqueries": false, "ForceBinlogChecksum": false, "ForceInmemoryBinlogCacheSize": false, "ForceDiskRelayLogSizeLimit": false, "ForceDiskRelayLogSizeLimitSize": 1000000000, "ForceSyncBinlog": true, "ForceSyncInnoDB": true, "ForceNoslaveBehind": false, "RplChecks": true, "MasterConn": "", "MultiMaster": false, "MultiTierSlave": false, "Spider": false, "BindAddr": "localhost", "HttpPort": "10001", "HttpServ": true, "HttpRoot": "../../dashboard", "HttpAuth": false, "HttpBootstrapButton": true, "SessionLifeTime": 3600, "Daemon": true, "MailFrom": "mrm@localhost", "MailTo": "", "MailSMTPAddr": "localhost:25", "MasterConnectRetry": 10, "FailLimit": 999, "FailTime": 1, "FailSync": false, "FailEventScheduler": false, "FailEventStatus": false, "FailRestartUnsafe": false, "MaxFail": 3, "FailResetTime": 300, "FailMaxDelay": 0, "CheckFalsePositiveHeartbeat": false, "CheckFalsePositiveMaxscale": false, "CheckFalsePositiveHeartbeatTimeout": 3, "CheckFalsePositiveMaxscaleTimeout": 14, "CheckFalsePositiveExternal": false, "CheckFalsePositiveExternalPort": 80, "Heartbeat": false, "MdbsProxyOn": false, "MdbsProxyHosts": "127.0.0.1:3307", "MdbsProxyUser": "admin", "MxsOn": true, "MxsHost": "192.168.100.50", "MxsPort": "3307", "MxsUser": "admin", "MxsPass": "mariadb", "MxsWritePort": 4007, "MxsReadPort": 4008, "MxsReadWritePort": 4006, "MxsMaxinfoPort": 3307, "MxsBinlogOn": false, "MxsBinlogPort": 3309, "MxsDisableMonitor": false, "MxsGetInfoMethod": "maxadmin", "MxsServerMatchPort": false, "HaproxyOn": false, "HaproxyWritePort": 3306, "HaproxyReadPort": 3307, "HaproxyStatPort": 1988, "HaproxyWriteBindIp": "0.0.0.0", "HaproxyReadBindIp": "0.0.0.0", "HaproxyBinaryPath": "/usr/sbin/haproxy", "KeyPath": "/etc/replication-manager/.replication-manager.key", "LogLevel": 0, "Test": true, "TestInjectTraffic": false, "Topology": "", "GraphiteMetrics": false, "GraphiteEmbedded": false, "GraphiteCarbonHost": "127.0.0.1", "GraphiteCarbonPort": 2003, "GraphiteCarbonApiPort": 10002, "GraphiteCarbonServerPort": 10003, "GraphiteCarbonLinkPort": 7002, "GraphiteCarbonPicklePort": 2004, "GraphiteCarbonPprofPort": 7007, "SysbenchBinaryPath": "/usr/local/bin/sysbench", "SysbenchTime": 60, "SysbenchThreads": 4, "MariaDBBinaryPath": "/usr/local/mysql/bin", "Arbitration": false, "ArbitrationSasSecret": "", "ArbitrationSasHosts": "88.191.151.84:80", "ArbitrationSasUniqueId": 0, "ArbitrationPeerHosts": "127.0.0.1:10002", "ReplicationSSL": false, "FailForceGtid": true, "RegTestStopCluster": false, "Enterprise": true, "ProvHost": "192.168.100.101:443", "ProvAdminUser": "root@localhost.localdomain:opensvc", "ProvUser": "replication-manager@localhost.localdomain:mariadb", "ProvType": "docker", "ProvAgents": "agent1,agent2", "ProvMem": "256", "ProvIops": "300", "ProvTags": "smallredolog,semisync,innodb,noquerycache,threadpool,logslow,multidomains", "ProvDisk": "1G", "ProvDiskFS": "zfs", "ProvDiskPool": "zpool", "ProvDiskDevice": "/srv", "ProvDiskType": "loopback", "ProvNetIface": "br0", "ProvNetmask": "255.255.255.0", "ProvGateway": "192.168.100.254", "ProvProxType": "docker", "ProvProxAgents": "agent2", "ProvProxDisk": "1G", "ProvProxDiskFS": "zfs", "ProvProxDiskPool": "zpool", "ProvProxDiskDevice": "/srv", "ProvProxDiskType": "loopback", "ProvProxNetIface": "br0", "ProvProxNetmask": "255.255.255.0", "ProvProxGateway": "192.168.100.254", "ProvMaxscaleVip": "", "ProvMdbshardproxyVip": "", "ProvHaproxyVip": "", "ProvWebsqlproxyVip": "", "ProvDbImg": "mariadb:10.2", "ProvProxImg": "asosso/maxscale:latest", "APIUser": "admin:mariadb", "APIPort": "3000", "ConfigFile": "././config/masterslave/mariadb/without_traffic/10.2/x2/multidomains/innodb/maxscale/latest/x1/replication-manager.conf" }, "config-test": { "WorkingDir": "/var/lib/replication-manager", "ShareDir": "/usr/local/share/mrm", "User": "root:mariadb", "Hosts": "192.168.100.70,192.168.100.71", "HostsTLSCA": "", "HostsTLSKEY": "", "HostsTLSCLI": "", "Socket": "", "RplUser": "root:mariadb", "Interactive": false, "Verbose": false, "PreScript": "", "PostScript": "", "RejoinScript": "", "PrefMaster": "192.168.100.70", "IgnoreSrv": "", "SwitchWaitKill": 5000, "SwitchWaitTrx": 10, "SwitchWaitWrite": 10, "SwitchGtidCheck": false, "SwitchSync": false, "SwitchMaxDelay": 0, "ReadOnly": true, "Autorejoin": true, "AutorejoinFlashback": true, "AutorejoinMysqldump": true, "AutorejoinBackupBinlog": true, "AutorejoinSemisync": true, "LogFile": "./config/masterslave/mariadb/without_traffic/10.2/x2/multidomains/innodb/maxscale/latest/x1/1.1.0-preview3-99-gc75a256/testSwitchover2TimesReplicationOkSemiSyncNoRplCheck.log", "MonitoringTicker": 2, "Timeout": 1, "CheckType": "tcp", "CheckReplFilter": true, "CheckBinFilter": true, "ForceSlaveHeartbeat": false, "ForceSlaveHeartbeatTime": 3, "ForceSlaveHeartbeatRetry": 5, "ForceSlaveGtid": false, "ForceSlaveNoGtid": false, "ForceSlaveSemisync": true, "ForceSlaveReadOnly": true, "ForceBinlogRow": false, "ForceBinlogAnnotate": false, "ForceBinlogCompress": false, "ForceBinlogSlowqueries": false, "ForceBinlogChecksum": false, "ForceInmemoryBinlogCacheSize": false, "ForceDiskRelayLogSizeLimit": false, "ForceDiskRelayLogSizeLimitSize": 1000000000, "ForceSyncBinlog": true, "ForceSyncInnoDB": true, "ForceNoslaveBehind": false, "RplChecks": false, "MasterConn": "", "MultiMaster": false, "MultiTierSlave": false, "Spider": false, "BindAddr": "localhost", "HttpPort": "10001", "HttpServ": true, "HttpRoot": "../../dashboard", "HttpAuth": false, "HttpBootstrapButton": true, "SessionLifeTime": 3600, "Daemon": true, "MailFrom": "mrm@localhost", "MailTo": "", "MailSMTPAddr": "localhost:25", "MasterConnectRetry": 10, "FailLimit": 999, "FailTime": 1, "FailSync": false, "FailEventScheduler": false, "FailEventStatus": false, "FailRestartUnsafe": false, "MaxFail": 3, "FailResetTime": 300, "FailMaxDelay": 0, "CheckFalsePositiveHeartbeat": false, "CheckFalsePositiveMaxscale": false, "CheckFalsePositiveHeartbeatTimeout": 3, "CheckFalsePositiveMaxscaleTimeout": 14, "CheckFalsePositiveExternal": false, "CheckFalsePositiveExternalPort": 80, "Heartbeat": false, "MdbsProxyOn": false, "MdbsProxyHosts": "127.0.0.1:3307", "MdbsProxyUser": "admin", "MxsOn": true, "MxsHost": "192.168.100.50", "MxsPort": "3307", "MxsUser": "admin", "MxsPass": "mariadb", "MxsWritePort": 4007, "MxsReadPort": 4008, "MxsReadWritePort": 4006, "MxsMaxinfoPort": 3307, "MxsBinlogOn": false, "MxsBinlogPort": 3309, "MxsDisableMonitor": false, "MxsGetInfoMethod": "maxadmin", "MxsServerMatchPort": false, "HaproxyOn": false, "HaproxyWritePort": 3306, "HaproxyReadPort": 3307, "HaproxyStatPort": 1988, "HaproxyWriteBindIp": "0.0.0.0", "HaproxyReadBindIp": "0.0.0.0", "HaproxyBinaryPath": "/usr/sbin/haproxy", "KeyPath": "/etc/replication-manager/.replication-manager.key", "LogLevel": 0, "Test": true, "TestInjectTraffic": false, "Topology": "", "GraphiteMetrics": false, "GraphiteEmbedded": false, "GraphiteCarbonHost": "127.0.0.1", "GraphiteCarbonPort": 2003, "GraphiteCarbonApiPort": 10002, "GraphiteCarbonServerPort": 10003, "GraphiteCarbonLinkPort": 7002, "GraphiteCarbonPicklePort": 2004, "GraphiteCarbonPprofPort": 7007, "SysbenchBinaryPath": "/usr/local/bin/sysbench", "SysbenchTime": 60, "SysbenchThreads": 4, "MariaDBBinaryPath": "/usr/local/mysql/bin", "Arbitration": false, "ArbitrationSasSecret": "", "ArbitrationSasHosts": "88.191.151.84:80", "ArbitrationSasUniqueId": 0, "ArbitrationPeerHosts": "127.0.0.1:10002", "ReplicationSSL": false, "FailForceGtid": true, "RegTestStopCluster": false, "Enterprise": true, "ProvHost": "192.168.100.101:443", "ProvAdminUser": "root@localhost.localdomain:opensvc", "ProvUser": "replication-manager@localhost.localdomain:mariadb", "ProvType": "docker", "ProvAgents": "agent1,agent2", "ProvMem": "256", "ProvIops": "300", "ProvTags": "smallredolog,semisync,innodb,noquerycache,threadpool,logslow,multidomains", "ProvDisk": "1G", "ProvDiskFS": "zfs", "ProvDiskPool": "zpool", "ProvDiskDevice": "/srv", "ProvDiskType": "loopback", "ProvNetIface": "br0", "ProvNetmask": "255.255.255.0", "ProvGateway": "192.168.100.254", "ProvProxType": "docker", "ProvProxAgents": "agent2", "ProvProxDisk": "1G", "ProvProxDiskFS": "zfs", "ProvProxDiskPool": "zpool", "ProvProxDiskDevice": "/srv", "ProvProxDiskType": "loopback", "ProvProxNetIface": "br0", "ProvProxNetmask": "255.255.255.0", "ProvProxGateway": "192.168.100.254", "ProvMaxscaleVip": "", "ProvMdbshardproxyVip": "", "ProvHaproxyVip": "", "ProvWebsqlproxyVip": "", "ProvDbImg": "mariadb:10.2", "ProvProxImg": "asosso/maxscale:latest", "APIUser": "admin:mariadb", "APIPort": "3000", "ConfigFile": "././config/masterslave/mariadb/without_traffic/10.2/x2/multidomains/innodb/maxscale/latest/x1/replication-manager.conf" } }
,
{ "name": "testSwitchoverBackPreferedMasterNoRplCheckSemiSync", "result": "PASS", "config-file": "././config/masterslave/mariadb/without_traffic/10.2/x2/multidomains/innodb/maxscale/latest/x1/replication-manager.conf", "config-init": { "WorkingDir": "/var/lib/replication-manager", "ShareDir": "/usr/local/share/mrm", "User": "root:mariadb", "Hosts": "192.168.100.70,192.168.100.71", "HostsTLSCA": "", "HostsTLSKEY": "", "HostsTLSCLI": "", "Socket": "", "RplUser": "root:mariadb", "Interactive": false, "Verbose": false, "PreScript": "", "PostScript": "", "RejoinScript": "", "PrefMaster": "192.168.100.70", "IgnoreSrv": "", "SwitchWaitKill": 5000, "SwitchWaitTrx": 10, "SwitchWaitWrite": 10, "SwitchGtidCheck": false, "SwitchSync": false, "SwitchMaxDelay": 0, "ReadOnly": true, "Autorejoin": true, "AutorejoinFlashback": true, "AutorejoinMysqldump": true, "AutorejoinBackupBinlog": true, "AutorejoinSemisync": true, "LogFile": "./config/masterslave/mariadb/without_traffic/10.2/x2/multidomains/innodb/maxscale/latest/x1/1.1.0-preview3-99-gc75a256/testSwitchoverBackPreferedMasterNoRplCheckSemiSync.log", "MonitoringTicker": 2, "Timeout": 1, "CheckType": "tcp", "CheckReplFilter": true, "CheckBinFilter": true, "ForceSlaveHeartbeat": false, "ForceSlaveHeartbeatTime": 3, "ForceSlaveHeartbeatRetry": 5, "ForceSlaveGtid": false, "ForceSlaveNoGtid": false, "ForceSlaveSemisync": true, "ForceSlaveReadOnly": true, "ForceBinlogRow": false, "ForceBinlogAnnotate": false, "ForceBinlogCompress": false, "ForceBinlogSlowqueries": false, "ForceBinlogChecksum": false, "ForceInmemoryBinlogCacheSize": false, "ForceDiskRelayLogSizeLimit": false, "ForceDiskRelayLogSizeLimitSize": 1000000000, "ForceSyncBinlog": true, "ForceSyncInnoDB": true, "ForceNoslaveBehind": false, "RplChecks": true, "MasterConn": "", "MultiMaster": false, "MultiTierSlave": false, "Spider": false, "BindAddr": "localhost", "HttpPort": "10001", "HttpServ": true, "HttpRoot": "../../dashboard", "HttpAuth": false, "HttpBootstrapButton": true, "SessionLifeTime": 3600, "Daemon": true, "MailFrom": "mrm@localhost", "MailTo": "", "MailSMTPAddr": "localhost:25", "MasterConnectRetry": 10, "FailLimit": 999, "FailTime": 1, "FailSync": false, "FailEventScheduler": false, "FailEventStatus": false, "FailRestartUnsafe": false, "MaxFail": 3, "FailResetTime": 300, "FailMaxDelay": 0, "CheckFalsePositiveHeartbeat": false, "CheckFalsePositiveMaxscale": false, "CheckFalsePositiveHeartbeatTimeout": 3, "CheckFalsePositiveMaxscaleTimeout": 14, "CheckFalsePositiveExternal": false, "CheckFalsePositiveExternalPort": 80, "Heartbeat": false, "MdbsProxyOn": false, "MdbsProxyHosts": "127.0.0.1:3307", "MdbsProxyUser": "admin", "MxsOn": true, "MxsHost": "192.168.100.50", "MxsPort": "3307", "MxsUser": "admin", "MxsPass": "mariadb", "MxsWritePort": 4007, "MxsReadPort": 4008, "MxsReadWritePort": 4006, "MxsMaxinfoPort": 3307, "MxsBinlogOn": false, "MxsBinlogPort": 3309, "MxsDisableMonitor": false, "MxsGetInfoMethod": "maxadmin", "MxsServerMatchPort": false, "HaproxyOn": false, "HaproxyWritePort": 3306, "HaproxyReadPort": 3307, "HaproxyStatPort": 1988, "HaproxyWriteBindIp": "0.0.0.0", "HaproxyReadBindIp": "0.0.0.0", "HaproxyBinaryPath": "/usr/sbin/haproxy", "KeyPath": "/etc/replication-manager/.replication-manager.key", "LogLevel": 0, "Test": true, "TestInjectTraffic": false, "Topology": "", "GraphiteMetrics": false, "GraphiteEmbedded": false, "GraphiteCarbonHost": "127.0.0.1", "GraphiteCarbonPort": 2003, "GraphiteCarbonApiPort": 10002, "GraphiteCarbonServerPort": 10003, "GraphiteCarbonLinkPort": 7002, "GraphiteCarbonPicklePort": 2004, "GraphiteCarbonPprofPort": 7007, "SysbenchBinaryPath": "/usr/local/bin/sysbench", "SysbenchTime": 60, "SysbenchThreads": 4, "MariaDBBinaryPath": "/usr/local/mysql/bin", "Arbitration": false, "ArbitrationSasSecret": "", "ArbitrationSasHosts": "88.191.151.84:80", "ArbitrationSasUniqueId": 0, "ArbitrationPeerHosts": "127.0.0.1:10002", "ReplicationSSL": false, "FailForceGtid": true, "RegTestStopCluster": false, "Enterprise": true, "ProvHost": "192.168.100.101:443", "ProvAdminUser": "root@localhost.localdomain:opensvc", "ProvUser": "replication-manager@localhost.localdomain:mariadb", "ProvType": "docker", "ProvAgents": "agent1,agent2", "ProvMem": "256", "ProvIops": "300", "ProvTags": "smallredolog,semisync,innodb,noquerycache,threadpool,logslow,multidomains", "ProvDisk": "1G", "ProvDiskFS": "zfs", "ProvDiskPool": "zpool", "ProvDiskDevice": "/srv", "ProvDiskType": "loopback", "ProvNetIface": "br0", "ProvNetmask": "255.255.255.0", "ProvGateway": "192.168.100.254", "ProvProxType": "docker", "ProvProxAgents": "agent2", "ProvProxDisk": "1G", "ProvProxDiskFS": "zfs", "ProvProxDiskPool": "zpool", "ProvProxDiskDevice": "/srv", "ProvProxDiskType": "loopback", "ProvProxNetIface": "br0", "ProvProxNetmask": "255.255.255.0", "ProvProxGateway": "192.168.100.254", "ProvMaxscaleVip": "", "ProvMdbshardproxyVip": "", "ProvHaproxyVip": "", "ProvWebsqlproxyVip": "", "ProvDbImg": "mariadb:10.2", "ProvProxImg": "asosso/maxscale:latest", "APIUser": "admin:mariadb", "APIPort": "3000", "ConfigFile": "././config/masterslave/mariadb/without_traffic/10.2/x2/multidomains/innodb/maxscale/latest/x1/replication-manager.conf" }, "config-test": { "WorkingDir": "/var/lib/replication-manager", "ShareDir": "/usr/local/share/mrm", "User": "root:mariadb", "Hosts": "192.168.100.70,192.168.100.71", "HostsTLSCA": "", "HostsTLSKEY": "", "HostsTLSCLI": "", "Socket": "", "RplUser": "root:mariadb", "Interactive": false, "Verbose": false, "PreScript": "", "PostScript": "", "RejoinScript": "", "PrefMaster": "192.168.100.70", "IgnoreSrv": "", "SwitchWaitKill": 5000, "SwitchWaitTrx": 10, "SwitchWaitWrite": 10, "SwitchGtidCheck": false, "SwitchSync": false, "SwitchMaxDelay": 0, "ReadOnly": true, "Autorejoin": true, "AutorejoinFlashback": true, "AutorejoinMysqldump": true, "AutorejoinBackupBinlog": true, "AutorejoinSemisync": true, "LogFile": "./config/masterslave/mariadb/without_traffic/10.2/x2/multidomains/innodb/maxscale/latest/x1/1.1.0-preview3-99-gc75a256/testSwitchoverBackPreferedMasterNoRplCheckSemiSync.log", "MonitoringTicker": 2, "Timeout": 1, "CheckType": "tcp", "CheckReplFilter": true, "CheckBinFilter": true, "ForceSlaveHeartbeat": false, "ForceSlaveHeartbeatTime": 3, "ForceSlaveHeartbeatRetry": 5, "ForceSlaveGtid": false, "ForceSlaveNoGtid": false, "ForceSlaveSemisync": true, "ForceSlaveReadOnly": true, "ForceBinlogRow": false, "ForceBinlogAnnotate": false, "ForceBinlogCompress": false, "ForceBinlogSlowqueries": false, "ForceBinlogChecksum": false, "ForceInmemoryBinlogCacheSize": false, "ForceDiskRelayLogSizeLimit": false, "ForceDiskRelayLogSizeLimitSize": 1000000000, "ForceSyncBinlog": true, "ForceSyncInnoDB": true, "ForceNoslaveBehind": false, "RplChecks": false, "MasterConn": "", "MultiMaster": false, "MultiTierSlave": false, "Spider": false, "BindAddr": "localhost", "HttpPort": "10001", "HttpServ": true, "HttpRoot": "../../dashboard", "HttpAuth": false, "HttpBootstrapButton": true, "SessionLifeTime": 3600, "Daemon": true, "MailFrom": "mrm@localhost", "MailTo": "", "MailSMTPAddr": "localhost:25", "MasterConnectRetry": 10, "FailLimit": 999, "FailTime": 1, "FailSync": false, "FailEventScheduler": false, "FailEventStatus": false, "FailRestartUnsafe": false, "MaxFail": 3, "FailResetTime": 300, "FailMaxDelay": 0, "CheckFalsePositiveHeartbeat": false, "CheckFalsePositiveMaxscale": false, "CheckFalsePositiveHeartbeatTimeout": 3, "CheckFalsePositiveMaxscaleTimeout": 14, "CheckFalsePositiveExternal": false, "CheckFalsePositiveExternalPort": 80, "Heartbeat": false, "MdbsProxyOn": false, "MdbsProxyHosts": "127.0.0.1:3307", "MdbsProxyUser": "admin", "MxsOn": true, "MxsHost": "192.168.100.50", "MxsPort": "3307", "MxsUser": "admin", "MxsPass": "mariadb", "MxsWritePort": 4007, "MxsReadPort": 4008, "MxsReadWritePort": 4006, "MxsMaxinfoPort": 3307, "MxsBinlogOn": false, "MxsBinlogPort": 3309, "MxsDisableMonitor": false, "MxsGetInfoMethod": "maxadmin", "MxsServerMatchPort": false, "HaproxyOn": false, "HaproxyWritePort": 3306, "HaproxyReadPort": 3307, "HaproxyStatPort": 1988, "HaproxyWriteBindIp": "0.0.0.0", "HaproxyReadBindIp": "0.0.0.0", "HaproxyBinaryPath": "/usr/sbin/haproxy", "KeyPath": "/etc/replication-manager/.replication-manager.key", "LogLevel": 0, "Test": true, "TestInjectTraffic": false, "Topology": "", "GraphiteMetrics": false, "GraphiteEmbedded": false, "GraphiteCarbonHost": "127.0.0.1", "GraphiteCarbonPort": 2003, "GraphiteCarbonApiPort": 10002, "GraphiteCarbonServerPort": 10003, "GraphiteCarbonLinkPort": 7002, "GraphiteCarbonPicklePort": 2004, "GraphiteCarbonPprofPort": 7007, "SysbenchBinaryPath": "/usr/local/bin/sysbench", "SysbenchTime": 60, "SysbenchThreads": 4, "MariaDBBinaryPath": "/usr/local/mysql/bin", "Arbitration": false, "ArbitrationSasSecret": "", "ArbitrationSasHosts": "88.191.151.84:80", "ArbitrationSasUniqueId": 0, "ArbitrationPeerHosts": "127.0.0.1:10002", "ReplicationSSL": false, "FailForceGtid": true, "RegTestStopCluster": false, "Enterprise": true, "ProvHost": "192.168.100.101:443", "ProvAdminUser": "root@localhost.localdomain:opensvc", "ProvUser": "replication-manager@localhost.localdomain:mariadb", "ProvType": "docker", "ProvAgents": "agent1,agent2", "ProvMem": "256", "ProvIops": "300", "ProvTags": "smallredolog,semisync,innodb,noquerycache,threadpool,logslow,multidomains", "ProvDisk": "1G", "ProvDiskFS": "zfs", "ProvDiskPool": "zpool", "ProvDiskDevice": "/srv", "ProvDiskType": "loopback", "ProvNetIface": "br0", "ProvNetmask": "255.255.255.0", "ProvGateway": "192.168.100.254", "ProvProxType": "docker", "ProvProxAgents": "agent2", "ProvProxDisk": "1G", "ProvProxDiskFS": "zfs", "ProvProxDiskPool": "zpool", "ProvProxDiskDevice": "/srv", "ProvProxDiskType": "loopback", "ProvProxNetIface": "br0", "ProvProxNetmask": "255.255.255.0", "ProvProxGateway": "192.168.100.254", "ProvMaxscaleVip": "", "ProvMdbshardproxyVip": "", "ProvHaproxyVip": "", "ProvWebsqlproxyVip": "", "ProvDbImg": "mariadb:10.2", "ProvProxImg": "asosso/maxscale:latest", "APIUser": "admin:mariadb", "APIPort": "3000", "ConfigFile": "././config/masterslave/mariadb/without_traffic/10.2/x2/multidomains/innodb/maxscale/latest/x1/replication-manager.conf" } }
,
{ "name": "testSwitchoverAllSlavesStopRplCheckNoSemiSync", "result": "PASS", "config-file": "././config/masterslave/mariadb/without_traffic/10.2/x2/multidomains/innodb/maxscale/latest/x1/replication-manager.conf", "config-init": { "WorkingDir": "/var/lib/replication-manager", "ShareDir": "/usr/local/share/mrm", "User": "root:mariadb", "Hosts": "192.168.100.70,192.168.100.71", "HostsTLSCA": "", "HostsTLSKEY": "", "HostsTLSCLI": "", "Socket": "", "RplUser": "root:mariadb", "Interactive": false, "Verbose": false, "PreScript": "", "PostScript": "", "RejoinScript": "", "PrefMaster": "192.168.100.70", "IgnoreSrv": "", "SwitchWaitKill": 5000, "SwitchWaitTrx": 10, "SwitchWaitWrite": 10, "SwitchGtidCheck": false, "SwitchSync": false, "SwitchMaxDelay": 0, "ReadOnly": true, "Autorejoin": true, "AutorejoinFlashback": true, "AutorejoinMysqldump": true, "AutorejoinBackupBinlog": true, "AutorejoinSemisync": true, "LogFile": "./config/masterslave/mariadb/without_traffic/10.2/x2/multidomains/innodb/maxscale/latest/x1/1.1.0-preview3-99-gc75a256/testSwitchoverAllSlavesStopRplCheckNoSemiSync.log", "MonitoringTicker": 2, "Timeout": 1, "CheckType": "tcp", "CheckReplFilter": true, "CheckBinFilter": true, "ForceSlaveHeartbeat": false, "ForceSlaveHeartbeatTime": 3, "ForceSlaveHeartbeatRetry": 5, "ForceSlaveGtid": false, "ForceSlaveNoGtid": false, "ForceSlaveSemisync": true, "ForceSlaveReadOnly": true, "ForceBinlogRow": false, "ForceBinlogAnnotate": false, "ForceBinlogCompress": false, "ForceBinlogSlowqueries": false, "ForceBinlogChecksum": false, "ForceInmemoryBinlogCacheSize": false, "ForceDiskRelayLogSizeLimit": false, "ForceDiskRelayLogSizeLimitSize": 1000000000, "ForceSyncBinlog": true, "ForceSyncInnoDB": true, "ForceNoslaveBehind": false, "RplChecks": true, "MasterConn": "", "MultiMaster": false, "MultiTierSlave": false, "Spider": false, "BindAddr": "localhost", "HttpPort": "10001", "HttpServ": true, "HttpRoot": "../../dashboard", "HttpAuth": false, "HttpBootstrapButton": true, "SessionLifeTime": 3600, "Daemon": true, "MailFrom": "mrm@localhost", "MailTo": "", "MailSMTPAddr": "localhost:25", "MasterConnectRetry": 10, "FailLimit": 999, "FailTime": 1, "FailSync": false, "FailEventScheduler": false, "FailEventStatus": false, "FailRestartUnsafe": false, "MaxFail": 3, "FailResetTime": 300, "FailMaxDelay": 0, "CheckFalsePositiveHeartbeat": false, "CheckFalsePositiveMaxscale": false, "CheckFalsePositiveHeartbeatTimeout": 3, "CheckFalsePositiveMaxscaleTimeout": 14, "CheckFalsePositiveExternal": false, "CheckFalsePositiveExternalPort": 80, "Heartbeat": false, "MdbsProxyOn": false, "MdbsProxyHosts": "127.0.0.1:3307", "MdbsProxyUser": "admin", "MxsOn": true, "MxsHost": "192.168.100.50", "MxsPort": "3307", "MxsUser": "admin", "MxsPass": "mariadb", "MxsWritePort": 4007, "MxsReadPort": 4008, "MxsReadWritePort": 4006, "MxsMaxinfoPort": 3307, "MxsBinlogOn": false, "MxsBinlogPort": 3309, "MxsDisableMonitor": false, "MxsGetInfoMethod": "maxadmin", "MxsServerMatchPort": false, "HaproxyOn": false, "HaproxyWritePort": 3306, "HaproxyReadPort": 3307, "HaproxyStatPort": 1988, "HaproxyWriteBindIp": "0.0.0.0", "HaproxyReadBindIp": "0.0.0.0", "HaproxyBinaryPath": "/usr/sbin/haproxy", "KeyPath": "/etc/replication-manager/.replication-manager.key", "LogLevel": 0, "Test": true, "TestInjectTraffic": false, "Topology": "", "GraphiteMetrics": false, "GraphiteEmbedded": false, "GraphiteCarbonHost": "127.0.0.1", "GraphiteCarbonPort": 2003, "GraphiteCarbonApiPort": 10002, "GraphiteCarbonServerPort": 10003, "GraphiteCarbonLinkPort": 7002, "GraphiteCarbonPicklePort": 2004, "GraphiteCarbonPprofPort": 7007, "SysbenchBinaryPath": "/usr/local/bin/sysbench", "SysbenchTime": 60, "SysbenchThreads": 4, "MariaDBBinaryPath": "/usr/local/mysql/bin", "Arbitration": false, "ArbitrationSasSecret": "", "ArbitrationSasHosts": "88.191.151.84:80", "ArbitrationSasUniqueId": 0, "ArbitrationPeerHosts": "127.0.0.1:10002", "ReplicationSSL": false, "FailForceGtid": true, "RegTestStopCluster": false, "Enterprise": true, "ProvHost": "192.168.100.101:443", "ProvAdminUser": "root@localhost.localdomain:opensvc", "ProvUser": "replication-manager@localhost.localdomain:mariadb", "ProvType": "docker", "ProvAgents": "agent1,agent2", "ProvMem": "256", "ProvIops": "300", "ProvTags": "smallredolog,semisync,innodb,noquerycache,threadpool,logslow,multidomains", "ProvDisk": "1G", "ProvDiskFS": "zfs", "ProvDiskPool": "zpool", "ProvDiskDevice": "/srv", "ProvDiskType": "loopback", "ProvNetIface": "br0", "ProvNetmask": "255.255.255.0", "ProvGateway": "192.168.100.254", "ProvProxType": "docker", "ProvProxAgents": "agent2", "ProvProxDisk": "1G", "ProvProxDiskFS": "zfs", "ProvProxDiskPool": "zpool", "ProvProxDiskDevice": "/srv", "ProvProxDiskType": "loopback", "ProvProxNetIface": "br0", "ProvProxNetmask": "255.255.255.0", "ProvProxGateway": "192.168.100.254", "ProvMaxscaleVip": "", "ProvMdbshardproxyVip": "", "ProvHaproxyVip": "", "ProvWebsqlproxyVip": "", "ProvDbImg": "mariadb:10.2", "ProvProxImg": "asosso/maxscale:latest", "APIUser": "admin:mariadb", "APIPort": "3000", "ConfigFile": "././config/masterslave/mariadb/without_traffic/10.2/x2/multidomains/innodb/maxscale/latest/x1/replication-manager.conf" }, "config-test": { "WorkingDir": "/var/lib/replication-manager", "ShareDir": "/usr/local/share/mrm", "User": "root:mariadb", "Hosts": "192.168.100.70,192.168.100.71", "HostsTLSCA": "", "HostsTLSKEY": "", "HostsTLSCLI": "", "Socket": "", "RplUser": "root:mariadb", "Interactive": false, "Verbose": false, "PreScript": "", "PostScript": "", "RejoinScript": "", "PrefMaster": "192.168.100.70", "IgnoreSrv": "", "SwitchWaitKill": 5000, "SwitchWaitTrx": 10, "SwitchWaitWrite": 10, "SwitchGtidCheck": false, "SwitchSync": false, "SwitchMaxDelay": 0, "ReadOnly": true, "Autorejoin": true, "AutorejoinFlashback": true, "AutorejoinMysqldump": true, "AutorejoinBackupBinlog": true, "AutorejoinSemisync": true, "LogFile": "./config/masterslave/mariadb/without_traffic/10.2/x2/multidomains/innodb/maxscale/latest/x1/1.1.0-preview3-99-gc75a256/testSwitchoverAllSlavesStopRplCheckNoSemiSync.log", "MonitoringTicker": 2, "Timeout": 1, "CheckType": "tcp", "CheckReplFilter": true, "CheckBinFilter": true, "ForceSlaveHeartbeat": false, "ForceSlaveHeartbeatTime": 3, "ForceSlaveHeartbeatRetry": 5, "ForceSlaveGtid": false, "ForceSlaveNoGtid": false, "ForceSlaveSemisync": true, "ForceSlaveReadOnly": true, "ForceBinlogRow": false, "ForceBinlogAnnotate": false, "ForceBinlogCompress": false, "ForceBinlogSlowqueries": false, "ForceBinlogChecksum": false, "ForceInmemoryBinlogCacheSize": false, "ForceDiskRelayLogSizeLimit": false, "ForceDiskRelayLogSizeLimitSize": 1000000000, "ForceSyncBinlog": true, "ForceSyncInnoDB": true, "ForceNoslaveBehind": false, "RplChecks": true, "MasterConn": "", "MultiMaster": false, "MultiTierSlave": false, "Spider": false, "BindAddr": "localhost", "HttpPort": "10001", "HttpServ": true, "HttpRoot": "../../dashboard", "HttpAuth": false, "HttpBootstrapButton": true, "SessionLifeTime": 3600, "Daemon": true, "MailFrom": "mrm@localhost", "MailTo": "", "MailSMTPAddr": "localhost:25", "MasterConnectRetry": 10, "FailLimit": 999, "FailTime": 1, "FailSync": false, "FailEventScheduler": false, "FailEventStatus": false, "FailRestartUnsafe": false, "MaxFail": 3, "FailResetTime": 300, "FailMaxDelay": 0, "CheckFalsePositiveHeartbeat": false, "CheckFalsePositiveMaxscale": false, "CheckFalsePositiveHeartbeatTimeout": 3, "CheckFalsePositiveMaxscaleTimeout": 14, "CheckFalsePositiveExternal": false, "CheckFalsePositiveExternalPort": 80, "Heartbeat": false, "MdbsProxyOn": false, "MdbsProxyHosts": "127.0.0.1:3307", "MdbsProxyUser": "admin", "MxsOn": true, "MxsHost": "192.168.100.50", "MxsPort": "3307", "MxsUser": "admin", "MxsPass": "mariadb", "MxsWritePort": 4007, "MxsReadPort": 4008, "MxsReadWritePort": 4006, "MxsMaxinfoPort": 3307, "MxsBinlogOn": false, "MxsBinlogPort": 3309, "MxsDisableMonitor": false, "MxsGetInfoMethod": "maxadmin", "MxsServerMatchPort": false, "HaproxyOn": false, "HaproxyWritePort": 3306, "HaproxyReadPort": 3307, "HaproxyStatPort": 1988, "HaproxyWriteBindIp": "0.0.0.0", "HaproxyReadBindIp": "0.0.0.0", "HaproxyBinaryPath": "/usr/sbin/haproxy", "KeyPath": "/etc/replication-manager/.replication-manager.key", "LogLevel": 0, "Test": true, "TestInjectTraffic": false, "Topology": "", "GraphiteMetrics": false, "GraphiteEmbedded": false, "GraphiteCarbonHost": "127.0.0.1", "GraphiteCarbonPort": 2003, "GraphiteCarbonApiPort": 10002, "GraphiteCarbonServerPort": 10003, "GraphiteCarbonLinkPort": 7002, "GraphiteCarbonPicklePort": 2004, "GraphiteCarbonPprofPort": 7007, "SysbenchBinaryPath": "/usr/local/bin/sysbench", "SysbenchTime": 60, "SysbenchThreads": 4, "MariaDBBinaryPath": "/usr/local/mysql/bin", "Arbitration": false, "ArbitrationSasSecret": "", "ArbitrationSasHosts": "88.191.151.84:80", "ArbitrationSasUniqueId": 0, "ArbitrationPeerHosts": "127.0.0.1:10002", "ReplicationSSL": false, "FailForceGtid": true, "RegTestStopCluster": false, "Enterprise": true, "ProvHost": "192.168.100.101:443", "ProvAdminUser": "root@localhost.localdomain:opensvc", "ProvUser": "replication-manager@localhost.localdomain:mariadb", "ProvType": "docker", "ProvAgents": "agent1,agent2", "ProvMem": "256", "ProvIops": "300", "ProvTags": "smallredolog,semisync,innodb,noquerycache,threadpool,logslow,multidomains", "ProvDisk": "1G", "ProvDiskFS": "zfs", "ProvDiskPool": "zpool", "ProvDiskDevice": "/srv", "ProvDiskType": "loopback", "ProvNetIface": "br0", "ProvNetmask": "255.255.255.0", "ProvGateway": "192.168.100.254", "ProvProxType": "docker", "ProvProxAgents": "agent2", "ProvProxDisk": "1G", "ProvProxDiskFS": "zfs", "ProvProxDiskPool": "zpool", "ProvProxDiskDevice": "/srv", "ProvProxDiskType": "loopback", "ProvProxNetIface": "br0", "ProvProxNetmask": "255.255.255.0", "ProvProxGateway": "192.168.100.254", "ProvMaxscaleVip": "", "ProvMdbshardproxyVip": "", "ProvHaproxyVip": "", "ProvWebsqlproxyVip": "", "ProvDbImg": "mariadb:10.2", "ProvProxImg": "asosso/maxscale:latest", "APIUser": "admin:mariadb", "APIPort": "3000", "ConfigFile": "././config/masterslave/mariadb/without_traffic/10.2/x2/multidomains/innodb/maxscale/latest/x1/replication-manager.conf" } }
,
{ "name": "testSwitchoverAllSlavesStopNoSemiSyncNoRplCheck", "result": "PASS", "config-file": "././config/masterslave/mariadb/without_traffic/10.2/x2/multidomains/innodb/maxscale/latest/x1/replication-manager.conf", "config-init": { "WorkingDir": "/var/lib/replication-manager", "ShareDir": "/usr/local/share/mrm", "User": "root:mariadb", "Hosts": "192.168.100.70,192.168.100.71", "HostsTLSCA": "", "HostsTLSKEY": "", "HostsTLSCLI": "", "Socket": "", "RplUser": "root:mariadb", "Interactive": false, "Verbose": false, "PreScript": "", "PostScript": "", "RejoinScript": "", "PrefMaster": "192.168.100.70", "IgnoreSrv": "", "SwitchWaitKill": 5000, "SwitchWaitTrx": 10, "SwitchWaitWrite": 10, "SwitchGtidCheck": false, "SwitchSync": false, "SwitchMaxDelay": 0, "ReadOnly": true, "Autorejoin": true, "AutorejoinFlashback": true, "AutorejoinMysqldump": true, "AutorejoinBackupBinlog": true, "AutorejoinSemisync": true, "LogFile": "./config/masterslave/mariadb/without_traffic/10.2/x2/multidomains/innodb/maxscale/latest/x1/1.1.0-preview3-99-gc75a256/testSwitchoverAllSlavesStopNoSemiSyncNoRplCheck.log", "MonitoringTicker": 2, "Timeout": 1, "CheckType": "tcp", "CheckReplFilter": true, "CheckBinFilter": true, "ForceSlaveHeartbeat": false, "ForceSlaveHeartbeatTime": 3, "ForceSlaveHeartbeatRetry": 5, "ForceSlaveGtid": false, "ForceSlaveNoGtid": false, "ForceSlaveSemisync": true, "ForceSlaveReadOnly": true, "ForceBinlogRow": false, "ForceBinlogAnnotate": false, "ForceBinlogCompress": false, "ForceBinlogSlowqueries": false, "ForceBinlogChecksum": false, "ForceInmemoryBinlogCacheSize": false, "ForceDiskRelayLogSizeLimit": false, "ForceDiskRelayLogSizeLimitSize": 1000000000, "ForceSyncBinlog": true, "ForceSyncInnoDB": true, "ForceNoslaveBehind": false, "RplChecks": true, "MasterConn": "", "MultiMaster": false, "MultiTierSlave": false, "Spider": false, "BindAddr": "localhost", "HttpPort": "10001", "HttpServ": true, "HttpRoot": "../../dashboard", "HttpAuth": false, "HttpBootstrapButton": true, "SessionLifeTime": 3600, "Daemon": true, "MailFrom": "mrm@localhost", "MailTo": "", "MailSMTPAddr": "localhost:25", "MasterConnectRetry": 10, "FailLimit": 999, "FailTime": 1, "FailSync": false, "FailEventScheduler": false, "FailEventStatus": false, "FailRestartUnsafe": false, "MaxFail": 3, "FailResetTime": 300, "FailMaxDelay": 0, "CheckFalsePositiveHeartbeat": false, "CheckFalsePositiveMaxscale": false, "CheckFalsePositiveHeartbeatTimeout": 3, "CheckFalsePositiveMaxscaleTimeout": 14, "CheckFalsePositiveExternal": false, "CheckFalsePositiveExternalPort": 80, "Heartbeat": false, "MdbsProxyOn": false, "MdbsProxyHosts": "127.0.0.1:3307", "MdbsProxyUser": "admin", "MxsOn": true, "MxsHost": "192.168.100.50", "MxsPort": "3307", "MxsUser": "admin", "MxsPass": "mariadb", "MxsWritePort": 4007, "MxsReadPort": 4008, "MxsReadWritePort": 4006, "MxsMaxinfoPort": 3307, "MxsBinlogOn": false, "MxsBinlogPort": 3309, "MxsDisableMonitor": false, "MxsGetInfoMethod": "maxadmin", "MxsServerMatchPort": false, "HaproxyOn": false, "HaproxyWritePort": 3306, "HaproxyReadPort": 3307, "HaproxyStatPort": 1988, "HaproxyWriteBindIp": "0.0.0.0", "HaproxyReadBindIp": "0.0.0.0", "HaproxyBinaryPath": "/usr/sbin/haproxy", "KeyPath": "/etc/replication-manager/.replication-manager.key", "LogLevel": 0, "Test": true, "TestInjectTraffic": false, "Topology": "", "GraphiteMetrics": false, "GraphiteEmbedded": false, "GraphiteCarbonHost": "127.0.0.1", "GraphiteCarbonPort": 2003, "GraphiteCarbonApiPort": 10002, "GraphiteCarbonServerPort": 10003, "GraphiteCarbonLinkPort": 7002, "GraphiteCarbonPicklePort": 2004, "GraphiteCarbonPprofPort": 7007, "SysbenchBinaryPath": "/usr/local/bin/sysbench", "SysbenchTime": 60, "SysbenchThreads": 4, "MariaDBBinaryPath": "/usr/local/mysql/bin", "Arbitration": false, "ArbitrationSasSecret": "", "ArbitrationSasHosts": "88.191.151.84:80", "ArbitrationSasUniqueId": 0, "ArbitrationPeerHosts": "127.0.0.1:10002", "ReplicationSSL": false, "FailForceGtid": true, "RegTestStopCluster": false, "Enterprise": true, "ProvHost": "192.168.100.101:443", "ProvAdminUser": "root@localhost.localdomain:opensvc", "ProvUser": "replication-manager@localhost.localdomain:mariadb", "ProvType": "docker", "ProvAgents": "agent1,agent2", "ProvMem": "256", "ProvIops": "300", "ProvTags": "smallredolog,semisync,innodb,noquerycache,threadpool,logslow,multidomains", "ProvDisk": "1G", "ProvDiskFS": "zfs", "ProvDiskPool": "zpool", "ProvDiskDevice": "/srv", "ProvDiskType": "loopback", "ProvNetIface": "br0", "ProvNetmask": "255.255.255.0", "ProvGateway": "192.168.100.254", "ProvProxType": "docker", "ProvProxAgents": "agent2", "ProvProxDisk": "1G", "ProvProxDiskFS": "zfs", "ProvProxDiskPool": "zpool", "ProvProxDiskDevice": "/srv", "ProvProxDiskType": "loopback", "ProvProxNetIface": "br0", "ProvProxNetmask": "255.255.255.0", "ProvProxGateway": "192.168.100.254", "ProvMaxscaleVip": "", "ProvMdbshardproxyVip": "", "ProvHaproxyVip": "", "ProvWebsqlproxyVip": "", "ProvDbImg": "mariadb:10.2", "ProvProxImg": "asosso/maxscale:latest", "APIUser": "admin:mariadb", "APIPort": "3000", "ConfigFile": "././config/masterslave/mariadb/without_traffic/10.2/x2/multidomains/innodb/maxscale/latest/x1/replication-manager.conf" }, "config-test": { "WorkingDir": "/var/lib/replication-manager", "ShareDir": "/usr/local/share/mrm", "User": "root:mariadb", "Hosts": "192.168.100.70,192.168.100.71", "HostsTLSCA": "", "HostsTLSKEY": "", "HostsTLSCLI": "", "Socket": "", "RplUser": "root:mariadb", "Interactive": false, "Verbose": false, "PreScript": "", "PostScript": "", "RejoinScript": "", "PrefMaster": "192.168.100.70", "IgnoreSrv": "", "SwitchWaitKill": 5000, "SwitchWaitTrx": 10, "SwitchWaitWrite": 10, "SwitchGtidCheck": false, "SwitchSync": false, "SwitchMaxDelay": 0, "ReadOnly": true, "Autorejoin": true, "AutorejoinFlashback": true, "AutorejoinMysqldump": true, "AutorejoinBackupBinlog": true, "AutorejoinSemisync": true, "LogFile": "./config/masterslave/mariadb/without_traffic/10.2/x2/multidomains/innodb/maxscale/latest/x1/1.1.0-preview3-99-gc75a256/testSwitchoverAllSlavesStopNoSemiSyncNoRplCheck.log", "MonitoringTicker": 2, "Timeout": 1, "CheckType": "tcp", "CheckReplFilter": true, "CheckBinFilter": true, "ForceSlaveHeartbeat": false, "ForceSlaveHeartbeatTime": 3, "ForceSlaveHeartbeatRetry": 5, "ForceSlaveGtid": false, "ForceSlaveNoGtid": false, "ForceSlaveSemisync": true, "ForceSlaveReadOnly": true, "ForceBinlogRow": false, "ForceBinlogAnnotate": false, "ForceBinlogCompress": false, "ForceBinlogSlowqueries": false, "ForceBinlogChecksum": false, "ForceInmemoryBinlogCacheSize": false, "ForceDiskRelayLogSizeLimit": false, "ForceDiskRelayLogSizeLimitSize": 1000000000, "ForceSyncBinlog": true, "ForceSyncInnoDB": true, "ForceNoslaveBehind": false, "RplChecks": false, "MasterConn": "", "MultiMaster": false, "MultiTierSlave": false, "Spider": false, "BindAddr": "localhost", "HttpPort": "10001", "HttpServ": true, "HttpRoot": "../../dashboard", "HttpAuth": false, "HttpBootstrapButton": true, "SessionLifeTime": 3600, "Daemon": true, "MailFrom": "mrm@localhost", "MailTo": "", "MailSMTPAddr": "localhost:25", "MasterConnectRetry": 10, "FailLimit": 999, "FailTime": 1, "FailSync": false, "FailEventScheduler": false, "FailEventStatus": false, "FailRestartUnsafe": false, "MaxFail": 3, "FailResetTime": 300, "FailMaxDelay": 0, "CheckFalsePositiveHeartbeat": false, "CheckFalsePositiveMaxscale": false, "CheckFalsePositiveHeartbeatTimeout": 3, "CheckFalsePositiveMaxscaleTimeout": 14, "CheckFalsePositiveExternal": false, "CheckFalsePositiveExternalPort": 80, "Heartbeat": false, "MdbsProxyOn": false, "MdbsProxyHosts": "127.0.0.1:3307", "MdbsProxyUser": "admin", "MxsOn": true, "MxsHost": "192.168.100.50", "MxsPort": "3307", "MxsUser": "admin", "MxsPass": "mariadb", "MxsWritePort": 4007, "MxsReadPort": 4008, "MxsReadWritePort": 4006, "MxsMaxinfoPort": 3307, "MxsBinlogOn": false, "MxsBinlogPort": 3309, "MxsDisableMonitor": false, "MxsGetInfoMethod": "maxadmin", "MxsServerMatchPort": false, "HaproxyOn": false, "HaproxyWritePort": 3306, "HaproxyReadPort": 3307, "HaproxyStatPort": 1988, "HaproxyWriteBindIp": "0.0.0.0", "HaproxyReadBindIp": "0.0.0.0", "HaproxyBinaryPath": "/usr/sbin/haproxy", "KeyPath": "/etc/replication-manager/.replication-manager.key", "LogLevel": 0, "Test": true, "TestInjectTraffic": false, "Topology": "", "GraphiteMetrics": false, "GraphiteEmbedded": false, "GraphiteCarbonHost": "127.0.0.1", "GraphiteCarbonPort": 2003, "GraphiteCarbonApiPort": 10002, "GraphiteCarbonServerPort": 10003, "GraphiteCarbonLinkPort": 7002, "GraphiteCarbonPicklePort": 2004, "GraphiteCarbonPprofPort": 7007, "SysbenchBinaryPath": "/usr/local/bin/sysbench", "SysbenchTime": 60, "SysbenchThreads": 4, "MariaDBBinaryPath": "/usr/local/mysql/bin", "Arbitration": false, "ArbitrationSasSecret": "", "ArbitrationSasHosts": "88.191.151.84:80", "ArbitrationSasUniqueId": 0, "ArbitrationPeerHosts": "127.0.0.1:10002", "ReplicationSSL": false, "FailForceGtid": true, "RegTestStopCluster": false, "Enterprise": true, "ProvHost": "192.168.100.101:443", "ProvAdminUser": "root@localhost.localdomain:opensvc", "ProvUser": "replication-manager@localhost.localdomain:mariadb", "ProvType": "docker", "ProvAgents": "agent1,agent2", "ProvMem": "256", "ProvIops": "300", "ProvTags": "smallredolog,semisync,innodb,noquerycache,threadpool,logslow,multidomains", "ProvDisk": "1G", "ProvDiskFS": "zfs", "ProvDiskPool": "zpool", "ProvDiskDevice": "/srv", "ProvDiskType": "loopback", "ProvNetIface": "br0", "ProvNetmask": "255.255.255.0", "ProvGateway": "192.168.100.254", "ProvProxType": "docker", "ProvProxAgents": "agent2", "ProvProxDisk": "1G", "ProvProxDiskFS": "zfs", "ProvProxDiskPool": "zpool", "ProvProxDiskDevice": "/srv", "ProvProxDiskType": "loopback", "ProvProxNetIface": "br0", "ProvProxNetmask": "255.255.255.0", "ProvProxGateway": "192.168.100.254", "ProvMaxscaleVip": "", "ProvMdbshardproxyVip": "", "ProvHaproxyVip": "", "ProvWebsqlproxyVip": "", "ProvDbImg": "mariadb:10.2", "ProvProxImg": "asosso/maxscale:latest", "APIUser": "admin:mariadb", "APIPort": "3000", "ConfigFile": "././config/masterslave/mariadb/without_traffic/10.2/x2/multidomains/innodb/maxscale/latest/x1/replication-manager.conf" } }
,
{ "name": "testSwitchoverAllSlavesDelayRplCheckNoSemiSync", "result": "PASS", "config-file": "././config/masterslave/mariadb/without_traffic/10.2/x2/multidomains/innodb/maxscale/latest/x1/replication-manager.conf", "config-init": { "WorkingDir": "/var/lib/replication-manager", "ShareDir": "/usr/local/share/mrm", "User": "root:mariadb", "Hosts": "192.168.100.70,192.168.100.71", "HostsTLSCA": "", "HostsTLSKEY": "", "HostsTLSCLI": "", "Socket": "", "RplUser": "root:mariadb", "Interactive": false, "Verbose": false, "PreScript": "", "PostScript": "", "RejoinScript": "", "PrefMaster": "192.168.100.70", "IgnoreSrv": "", "SwitchWaitKill": 5000, "SwitchWaitTrx": 10, "SwitchWaitWrite": 10, "SwitchGtidCheck": false, "SwitchSync": false, "SwitchMaxDelay": 0, "ReadOnly": true, "Autorejoin": true, "AutorejoinFlashback": true, "AutorejoinMysqldump": true, "AutorejoinBackupBinlog": true, "AutorejoinSemisync": true, "LogFile": "./config/masterslave/mariadb/without_traffic/10.2/x2/multidomains/innodb/maxscale/latest/x1/1.1.0-preview3-99-gc75a256/testSwitchoverAllSlavesDelayRplCheckNoSemiSync.log", "MonitoringTicker": 2, "Timeout": 1, "CheckType": "tcp", "CheckReplFilter": true, "CheckBinFilter": true, "ForceSlaveHeartbeat": false, "ForceSlaveHeartbeatTime": 3, "ForceSlaveHeartbeatRetry": 5, "ForceSlaveGtid": false, "ForceSlaveNoGtid": false, "ForceSlaveSemisync": true, "ForceSlaveReadOnly": true, "ForceBinlogRow": false, "ForceBinlogAnnotate": false, "ForceBinlogCompress": false, "ForceBinlogSlowqueries": false, "ForceBinlogChecksum": false, "ForceInmemoryBinlogCacheSize": false, "ForceDiskRelayLogSizeLimit": false, "ForceDiskRelayLogSizeLimitSize": 1000000000, "ForceSyncBinlog": true, "ForceSyncInnoDB": true, "ForceNoslaveBehind": false, "RplChecks": true, "MasterConn": "", "MultiMaster": false, "MultiTierSlave": false, "Spider": false, "BindAddr": "localhost", "HttpPort": "10001", "HttpServ": true, "HttpRoot": "../../dashboard", "HttpAuth": false, "HttpBootstrapButton": true, "SessionLifeTime": 3600, "Daemon": true, "MailFrom": "mrm@localhost", "MailTo": "", "MailSMTPAddr": "localhost:25", "MasterConnectRetry": 10, "FailLimit": 999, "FailTime": 1, "FailSync": false, "FailEventScheduler": false, "FailEventStatus": false, "FailRestartUnsafe": false, "MaxFail": 3, "FailResetTime": 300, "FailMaxDelay": 0, "CheckFalsePositiveHeartbeat": false, "CheckFalsePositiveMaxscale": false, "CheckFalsePositiveHeartbeatTimeout": 3, "CheckFalsePositiveMaxscaleTimeout": 14, "CheckFalsePositiveExternal": false, "CheckFalsePositiveExternalPort": 80, "Heartbeat": false, "MdbsProxyOn": false, "MdbsProxyHosts": "127.0.0.1:3307", "MdbsProxyUser": "admin", "MxsOn": true, "MxsHost": "192.168.100.50", "MxsPort": "3307", "MxsUser": "admin", "MxsPass": "mariadb", "MxsWritePort": 4007, "MxsReadPort": 4008, "MxsReadWritePort": 4006, "MxsMaxinfoPort": 3307, "MxsBinlogOn": false, "MxsBinlogPort": 3309, "MxsDisableMonitor": false, "MxsGetInfoMethod": "maxadmin", "MxsServerMatchPort": false, "HaproxyOn": false, "HaproxyWritePort": 3306, "HaproxyReadPort": 3307, "HaproxyStatPort": 1988, "HaproxyWriteBindIp": "0.0.0.0", "HaproxyReadBindIp": "0.0.0.0", "HaproxyBinaryPath": "/usr/sbin/haproxy", "KeyPath": "/etc/replication-manager/.replication-manager.key", "LogLevel": 0, "Test": true, "TestInjectTraffic": false, "Topology": "", "GraphiteMetrics": false, "GraphiteEmbedded": false, "GraphiteCarbonHost": "127.0.0.1", "GraphiteCarbonPort": 2003, "GraphiteCarbonApiPort": 10002, "GraphiteCarbonServerPort": 10003, "GraphiteCarbonLinkPort": 7002, "GraphiteCarbonPicklePort": 2004, "GraphiteCarbonPprofPort": 7007, "SysbenchBinaryPath": "/usr/local/bin/sysbench", "SysbenchTime": 60, "SysbenchThreads": 4, "MariaDBBinaryPath": "/usr/local/mysql/bin", "Arbitration": false, "ArbitrationSasSecret": "", "ArbitrationSasHosts": "88.191.151.84:80", "ArbitrationSasUniqueId": 0, "ArbitrationPeerHosts": "127.0.0.1:10002", "ReplicationSSL": false, "FailForceGtid": true, "RegTestStopCluster": false, "Enterprise": true, "ProvHost": "192.168.100.101:443", "ProvAdminUser": "root@localhost.localdomain:opensvc", "ProvUser": "replication-manager@localhost.localdomain:mariadb", "ProvType": "docker", "ProvAgents": "agent1,agent2", "ProvMem": "256", "ProvIops": "300", "ProvTags": "smallredolog,semisync,innodb,noquerycache,threadpool,logslow,multidomains", "ProvDisk": "1G", "ProvDiskFS": "zfs", "ProvDiskPool": "zpool", "ProvDiskDevice": "/srv", "ProvDiskType": "loopback", "ProvNetIface": "br0", "ProvNetmask": "255.255.255.0", "ProvGateway": "192.168.100.254", "ProvProxType": "docker", "ProvProxAgents": "agent2", "ProvProxDisk": "1G", "ProvProxDiskFS": "zfs", "ProvProxDiskPool": "zpool", "ProvProxDiskDevice": "/srv", "ProvProxDiskType": "loopback", "ProvProxNetIface": "br0", "ProvProxNetmask": "255.255.255.0", "ProvProxGateway": "192.168.100.254", "ProvMaxscaleVip": "", "ProvMdbshardproxyVip": "", "ProvHaproxyVip": "", "ProvWebsqlproxyVip": "", "ProvDbImg": "mariadb:10.2", "ProvProxImg": "asosso/maxscale:latest", "APIUser": "admin:mariadb", "APIPort": "3000", "ConfigFile": "././config/masterslave/mariadb/without_traffic/10.2/x2/multidomains/innodb/maxscale/latest/x1/replication-manager.conf" }, "config-test": { "WorkingDir": "/var/lib/replication-manager", "ShareDir": "/usr/local/share/mrm", "User": "root:mariadb", "Hosts": "192.168.100.70,192.168.100.71", "HostsTLSCA": "", "HostsTLSKEY": "", "HostsTLSCLI": "", "Socket": "", "RplUser": "root:mariadb", "Interactive": false, "Verbose": false, "PreScript": "", "PostScript": "", "RejoinScript": "", "PrefMaster": "192.168.100.70", "IgnoreSrv": "", "SwitchWaitKill": 5000, "SwitchWaitTrx": 10, "SwitchWaitWrite": 10, "SwitchGtidCheck": false, "SwitchSync": false, "SwitchMaxDelay": 8, "ReadOnly": true, "Autorejoin": true, "AutorejoinFlashback": true, "AutorejoinMysqldump": true, "AutorejoinBackupBinlog": true, "AutorejoinSemisync": true, "LogFile": "./config/masterslave/mariadb/without_traffic/10.2/x2/multidomains/innodb/maxscale/latest/x1/1.1.0-preview3-99-gc75a256/testSwitchoverAllSlavesDelayRplCheckNoSemiSync.log", "MonitoringTicker": 2, "Timeout": 1, "CheckType": "tcp", "CheckReplFilter": true, "CheckBinFilter": true, "ForceSlaveHeartbeat": false, "ForceSlaveHeartbeatTime": 3, "ForceSlaveHeartbeatRetry": 5, "ForceSlaveGtid": false, "ForceSlaveNoGtid": false, "ForceSlaveSemisync": true, "ForceSlaveReadOnly": true, "ForceBinlogRow": false, "ForceBinlogAnnotate": false, "ForceBinlogCompress": false, "ForceBinlogSlowqueries": false, "ForceBinlogChecksum": false, "ForceInmemoryBinlogCacheSize": false, "ForceDiskRelayLogSizeLimit": false, "ForceDiskRelayLogSizeLimitSize": 1000000000, "ForceSyncBinlog": true, "ForceSyncInnoDB": true, "ForceNoslaveBehind": false, "RplChecks": true, "MasterConn": "", "MultiMaster": false, "MultiTierSlave": false, "Spider": false, "BindAddr": "localhost", "HttpPort": "10001", "HttpServ": true, "HttpRoot": "../../dashboard", "HttpAuth": false, "HttpBootstrapButton": true, "SessionLifeTime": 3600, "Daemon": true, "MailFrom": "mrm@localhost", "MailTo": "", "MailSMTPAddr": "localhost:25", "MasterConnectRetry": 10, "FailLimit": 999, "FailTime": 1, "FailSync": false, "FailEventScheduler": false, "FailEventStatus": false, "FailRestartUnsafe": false, "MaxFail": 3, "FailResetTime": 300, "FailMaxDelay": 0, "CheckFalsePositiveHeartbeat": false, "CheckFalsePositiveMaxscale": false, "CheckFalsePositiveHeartbeatTimeout": 3, "CheckFalsePositiveMaxscaleTimeout": 14, "CheckFalsePositiveExternal": false, "CheckFalsePositiveExternalPort": 80, "Heartbeat": false, "MdbsProxyOn": false, "MdbsProxyHosts": "127.0.0.1:3307", "MdbsProxyUser": "admin", "MxsOn": true, "MxsHost": "192.168.100.50", "MxsPort": "3307", "MxsUser": "admin", "MxsPass": "mariadb", "MxsWritePort": 4007, "MxsReadPort": 4008, "MxsReadWritePort": 4006, "MxsMaxinfoPort": 3307, "MxsBinlogOn": false, "MxsBinlogPort": 3309, "MxsDisableMonitor": false, "MxsGetInfoMethod": "maxadmin", "MxsServerMatchPort": false, "HaproxyOn": false, "HaproxyWritePort": 3306, "HaproxyReadPort": 3307, "HaproxyStatPort": 1988, "HaproxyWriteBindIp": "0.0.0.0", "HaproxyReadBindIp": "0.0.0.0", "HaproxyBinaryPath": "/usr/sbin/haproxy", "KeyPath": "/etc/replication-manager/.replication-manager.key", "LogLevel": 0, "Test": true, "TestInjectTraffic": false, "Topology": "", "GraphiteMetrics": false, "GraphiteEmbedded": false, "GraphiteCarbonHost": "127.0.0.1", "GraphiteCarbonPort": 2003, "GraphiteCarbonApiPort": 10002, "GraphiteCarbonServerPort": 10003, "GraphiteCarbonLinkPort": 7002, "GraphiteCarbonPicklePort": 2004, "GraphiteCarbonPprofPort": 7007, "SysbenchBinaryPath": "/usr/local/bin/sysbench", "SysbenchTime": 60, "SysbenchThreads": 4, "MariaDBBinaryPath": "/usr/local/mysql/bin", "Arbitration": false, "ArbitrationSasSecret": "", "ArbitrationSasHosts": "88.191.151.84:80", "ArbitrationSasUniqueId": 0, "ArbitrationPeerHosts": "127.0.0.1:10002", "ReplicationSSL": false, "FailForceGtid": true, "RegTestStopCluster": false, "Enterprise": true, "ProvHost": "192.168.100.101:443", "ProvAdminUser": "root@localhost.localdomain:opensvc", "ProvUser": "replication-manager@localhost.localdomain:mariadb", "ProvType": "docker", "ProvAgents": "agent1,agent2", "ProvMem": "256", "ProvIops": "300", "ProvTags": "smallredolog,semisync,innodb,noquerycache,threadpool,logslow,multidomains", "ProvDisk": "1G", "ProvDiskFS": "zfs", "ProvDiskPool": "zpool", "ProvDiskDevice": "/srv", "ProvDiskType": "loopback", "ProvNetIface": "br0", "ProvNetmask": "255.255.255.0", "ProvGateway": "192.168.100.254", "ProvProxType": "docker", "ProvProxAgents": "agent2", "ProvProxDisk": "1G", "ProvProxDiskFS": "zfs", "ProvProxDiskPool": "zpool", "ProvProxDiskDevice": "/srv", "ProvProxDiskType": "loopback", "ProvProxNetIface": "br0", "ProvProxNetmask": "255.255.255.0", "ProvProxGateway": "192.168.100.254", "ProvMaxscaleVip": "", "ProvMdbshardproxyVip": "", "ProvHaproxyVip": "", "ProvWebsqlproxyVip": "", "ProvDbImg": "mariadb:10.2", "ProvProxImg": "asosso/maxscale:latest", "APIUser": "admin:mariadb", "APIPort": "3000", "ConfigFile": "././config/masterslave/mariadb/without_traffic/10.2/x2/multidomains/innodb/maxscale/latest/x1/replication-manager.conf" } }
,
{ "name": "testSwitchoverAllSlavesDelayNoRplChecksNoSemiSync", "result": "PASS", "config-file": "././config/masterslave/mariadb/without_traffic/10.2/x2/multidomains/innodb/maxscale/latest/x1/replication-manager.conf", "config-init": { "WorkingDir": "/var/lib/replication-manager", "ShareDir": "/usr/local/share/mrm", "User": "root:mariadb", "Hosts": "192.168.100.70,192.168.100.71", "HostsTLSCA": "", "HostsTLSKEY": "", "HostsTLSCLI": "", "Socket": "", "RplUser": "root:mariadb", "Interactive": false, "Verbose": false, "PreScript": "", "PostScript": "", "RejoinScript": "", "PrefMaster": "192.168.100.70", "IgnoreSrv": "", "SwitchWaitKill": 5000, "SwitchWaitTrx": 10, "SwitchWaitWrite": 10, "SwitchGtidCheck": false, "SwitchSync": false, "SwitchMaxDelay": 0, "ReadOnly": true, "Autorejoin": true, "AutorejoinFlashback": true, "AutorejoinMysqldump": true, "AutorejoinBackupBinlog": true, "AutorejoinSemisync": true, "LogFile": "./config/masterslave/mariadb/without_traffic/10.2/x2/multidomains/innodb/maxscale/latest/x1/1.1.0-preview3-99-gc75a256/testSwitchoverAllSlavesDelayNoRplChecksNoSemiSync.log", "MonitoringTicker": 2, "Timeout": 1, "CheckType": "tcp", "CheckReplFilter": true, "CheckBinFilter": true, "ForceSlaveHeartbeat": false, "ForceSlaveHeartbeatTime": 3, "ForceSlaveHeartbeatRetry": 5, "ForceSlaveGtid": false, "ForceSlaveNoGtid": false, "ForceSlaveSemisync": true, "ForceSlaveReadOnly": true, "ForceBinlogRow": false, "ForceBinlogAnnotate": false, "ForceBinlogCompress": false, "ForceBinlogSlowqueries": false, "ForceBinlogChecksum": false, "ForceInmemoryBinlogCacheSize": false, "ForceDiskRelayLogSizeLimit": false, "ForceDiskRelayLogSizeLimitSize": 1000000000, "ForceSyncBinlog": true, "ForceSyncInnoDB": true, "ForceNoslaveBehind": false, "RplChecks": true, "MasterConn": "", "MultiMaster": false, "MultiTierSlave": false, "Spider": false, "BindAddr": "localhost", "HttpPort": "10001", "HttpServ": true, "HttpRoot": "../../dashboard", "HttpAuth": false, "HttpBootstrapButton": true, "SessionLifeTime": 3600, "Daemon": true, "MailFrom": "mrm@localhost", "MailTo": "", "MailSMTPAddr": "localhost:25", "MasterConnectRetry": 10, "FailLimit": 999, "FailTime": 1, "FailSync": false, "FailEventScheduler": false, "FailEventStatus": false, "FailRestartUnsafe": false, "MaxFail": 3, "FailResetTime": 300, "FailMaxDelay": 0, "CheckFalsePositiveHeartbeat": false, "CheckFalsePositiveMaxscale": false, "CheckFalsePositiveHeartbeatTimeout": 3, "CheckFalsePositiveMaxscaleTimeout": 14, "CheckFalsePositiveExternal": false, "CheckFalsePositiveExternalPort": 80, "Heartbeat": false, "MdbsProxyOn": false, "MdbsProxyHosts": "127.0.0.1:3307", "MdbsProxyUser": "admin", "MxsOn": true, "MxsHost": "192.168.100.50", "MxsPort": "3307", "MxsUser": "admin", "MxsPass": "mariadb", "MxsWritePort": 4007, "MxsReadPort": 4008, "MxsReadWritePort": 4006, "MxsMaxinfoPort": 3307, "MxsBinlogOn": false, "MxsBinlogPort": 3309, "MxsDisableMonitor": false, "MxsGetInfoMethod": "maxadmin", "MxsServerMatchPort": false, "HaproxyOn": false, "HaproxyWritePort": 3306, "HaproxyReadPort": 3307, "HaproxyStatPort": 1988, "HaproxyWriteBindIp": "0.0.0.0", "HaproxyReadBindIp": "0.0.0.0", "HaproxyBinaryPath": "/usr/sbin/haproxy", "KeyPath": "/etc/replication-manager/.replication-manager.key", "LogLevel": 0, "Test": true, "TestInjectTraffic": false, "Topology": "", "GraphiteMetrics": false, "GraphiteEmbedded": false, "GraphiteCarbonHost": "127.0.0.1", "GraphiteCarbonPort": 2003, "GraphiteCarbonApiPort": 10002, "GraphiteCarbonServerPort": 10003, "GraphiteCarbonLinkPort": 7002, "GraphiteCarbonPicklePort": 2004, "GraphiteCarbonPprofPort": 7007, "SysbenchBinaryPath": "/usr/local/bin/sysbench", "SysbenchTime": 60, "SysbenchThreads": 4, "MariaDBBinaryPath": "/usr/local/mysql/bin", "Arbitration": false, "ArbitrationSasSecret": "", "ArbitrationSasHosts": "88.191.151.84:80", "ArbitrationSasUniqueId": 0, "ArbitrationPeerHosts": "127.0.0.1:10002", "ReplicationSSL": false, "FailForceGtid": true, "RegTestStopCluster": false, "Enterprise": true, "ProvHost": "192.168.100.101:443", "ProvAdminUser": "root@localhost.localdomain:opensvc", "ProvUser": "replication-manager@localhost.localdomain:mariadb", "ProvType": "docker", "ProvAgents": "agent1,agent2", "ProvMem": "256", "ProvIops": "300", "ProvTags": "smallredolog,semisync,innodb,noquerycache,threadpool,logslow,multidomains", "ProvDisk": "1G", "ProvDiskFS": "zfs", "ProvDiskPool": "zpool", "ProvDiskDevice": "/srv", "ProvDiskType": "loopback", "ProvNetIface": "br0", "ProvNetmask": "255.255.255.0", "ProvGateway": "192.168.100.254", "ProvProxType": "docker", "ProvProxAgents": "agent2", "ProvProxDisk": "1G", "ProvProxDiskFS": "zfs", "ProvProxDiskPool": "zpool", "ProvProxDiskDevice": "/srv", "ProvProxDiskType": "loopback", "ProvProxNetIface": "br0", "ProvProxNetmask": "255.255.255.0", "ProvProxGateway": "192.168.100.254", "ProvMaxscaleVip": "", "ProvMdbshardproxyVip": "", "ProvHaproxyVip": "", "ProvWebsqlproxyVip": "", "ProvDbImg": "mariadb:10.2", "ProvProxImg": "asosso/maxscale:latest", "APIUser": "admin:mariadb", "APIPort": "3000", "ConfigFile": "././config/masterslave/mariadb/without_traffic/10.2/x2/multidomains/innodb/maxscale/latest/x1/replication-manager.conf" }, "config-test": { "WorkingDir": "/var/lib/replication-manager", "ShareDir": "/usr/local/share/mrm", "User": "root:mariadb", "Hosts": "192.168.100.70,192.168.100.71", "HostsTLSCA": "", "HostsTLSKEY": "", "HostsTLSCLI": "", "Socket": "", "RplUser": "root:mariadb", "Interactive": false, "Verbose": false, "PreScript": "", "PostScript": "", "RejoinScript": "", "PrefMaster": "192.168.100.70", "IgnoreSrv": "", "SwitchWaitKill": 5000, "SwitchWaitTrx": 10, "SwitchWaitWrite": 10, "SwitchGtidCheck": false, "SwitchSync": false, "SwitchMaxDelay": 8, "ReadOnly": true, "Autorejoin": true, "AutorejoinFlashback": true, "AutorejoinMysqldump": true, "AutorejoinBackupBinlog": true, "AutorejoinSemisync": true, "LogFile": "./config/masterslave/mariadb/without_traffic/10.2/x2/multidomains/innodb/maxscale/latest/x1/1.1.0-preview3-99-gc75a256/testSwitchoverAllSlavesDelayNoRplChecksNoSemiSync.log", "MonitoringTicker": 2, "Timeout": 1, "CheckType": "tcp", "CheckReplFilter": true, "CheckBinFilter": true, "ForceSlaveHeartbeat": false, "ForceSlaveHeartbeatTime": 3, "ForceSlaveHeartbeatRetry": 5, "ForceSlaveGtid": false, "ForceSlaveNoGtid": false, "ForceSlaveSemisync": true, "ForceSlaveReadOnly": true, "ForceBinlogRow": false, "ForceBinlogAnnotate": false, "ForceBinlogCompress": false, "ForceBinlogSlowqueries": false, "ForceBinlogChecksum": false, "ForceInmemoryBinlogCacheSize": false, "ForceDiskRelayLogSizeLimit": false, "ForceDiskRelayLogSizeLimitSize": 1000000000, "ForceSyncBinlog": true, "ForceSyncInnoDB": true, "ForceNoslaveBehind": false, "RplChecks": false, "MasterConn": "", "MultiMaster": false, "MultiTierSlave": false, "Spider": false, "BindAddr": "localhost", "HttpPort": "10001", "HttpServ": true, "HttpRoot": "../../dashboard", "HttpAuth": false, "HttpBootstrapButton": true, "SessionLifeTime": 3600, "Daemon": true, "MailFrom": "mrm@localhost", "MailTo": "", "MailSMTPAddr": "localhost:25", "MasterConnectRetry": 10, "FailLimit": 999, "FailTime": 1, "FailSync": false, "FailEventScheduler": false, "FailEventStatus": false, "FailRestartUnsafe": false, "MaxFail": 3, "FailResetTime": 300, "FailMaxDelay": 0, "CheckFalsePositiveHeartbeat": false, "CheckFalsePositiveMaxscale": false, "CheckFalsePositiveHeartbeatTimeout": 3, "CheckFalsePositiveMaxscaleTimeout": 14, "CheckFalsePositiveExternal": false, "CheckFalsePositiveExternalPort": 80, "Heartbeat": false, "MdbsProxyOn": false, "MdbsProxyHosts": "127.0.0.1:3307", "MdbsProxyUser": "admin", "MxsOn": true, "MxsHost": "192.168.100.50", "MxsPort": "3307", "MxsUser": "admin", "MxsPass": "mariadb", "MxsWritePort": 4007, "MxsReadPort": 4008, "MxsReadWritePort": 4006, "MxsMaxinfoPort": 3307, "MxsBinlogOn": false, "MxsBinlogPort": 3309, "MxsDisableMonitor": false, "MxsGetInfoMethod": "maxadmin", "MxsServerMatchPort": false, "HaproxyOn": false, "HaproxyWritePort": 3306, "HaproxyReadPort": 3307, "HaproxyStatPort": 1988, "HaproxyWriteBindIp": "0.0.0.0", "HaproxyReadBindIp": "0.0.0.0", "HaproxyBinaryPath": "/usr/sbin/haproxy", "KeyPath": "/etc/replication-manager/.replication-manager.key", "LogLevel": 0, "Test": true, "TestInjectTraffic": false, "Topology": "", "GraphiteMetrics": false, "GraphiteEmbedded": false, "GraphiteCarbonHost": "127.0.0.1", "GraphiteCarbonPort": 2003, "GraphiteCarbonApiPort": 10002, "GraphiteCarbonServerPort": 10003, "GraphiteCarbonLinkPort": 7002, "GraphiteCarbonPicklePort": 2004, "GraphiteCarbonPprofPort": 7007, "SysbenchBinaryPath": "/usr/local/bin/sysbench", "SysbenchTime": 60, "SysbenchThreads": 4, "MariaDBBinaryPath": "/usr/local/mysql/bin", "Arbitration": false, "ArbitrationSasSecret": "", "ArbitrationSasHosts": "88.191.151.84:80", "ArbitrationSasUniqueId": 0, "ArbitrationPeerHosts": "127.0.0.1:10002", "ReplicationSSL": false, "FailForceGtid": true, "RegTestStopCluster": false, "Enterprise": true, "ProvHost": "192.168.100.101:443", "ProvAdminUser": "root@localhost.localdomain:opensvc", "ProvUser": "replication-manager@localhost.localdomain:mariadb", "ProvType": "docker", "ProvAgents": "agent1,agent2", "ProvMem": "256", "ProvIops": "300", "ProvTags": "smallredolog,semisync,innodb,noquerycache,threadpool,logslow,multidomains", "ProvDisk": "1G", "ProvDiskFS": "zfs", "ProvDiskPool": "zpool", "ProvDiskDevice": "/srv", "ProvDiskType": "loopback", "ProvNetIface": "br0", "ProvNetmask": "255.255.255.0", "ProvGateway": "192.168.100.254", "ProvProxType": "docker", "ProvProxAgents": "agent2", "ProvProxDisk": "1G", "ProvProxDiskFS": "zfs", "ProvProxDiskPool": "zpool", "ProvProxDiskDevice": "/srv", "ProvProxDiskType": "loopback", "ProvProxNetIface": "br0", "ProvProxNetmask": "255.255.255.0", "ProvProxGateway": "192.168.100.254", "ProvMaxscaleVip": "", "ProvMdbshardproxyVip": "", "ProvHaproxyVip": "", "ProvWebsqlproxyVip": "", "ProvDbImg": "mariadb:10.2", "ProvProxImg": "asosso/maxscale:latest", "APIUser": "admin:mariadb", "APIPort": "3000", "ConfigFile": "././config/masterslave/mariadb/without_traffic/10.2/x2/multidomains/innodb/maxscale/latest/x1/replication-manager.conf" } }
,
{ "name": "testFailoverSemisyncAutoRejoinSafeMSMXMS", "result": "PASS", "config-file": "././config/masterslave/mariadb/without_traffic/10.2/x2/multidomains/innodb/maxscale/latest/x1/replication-manager.conf", "config-init": { "WorkingDir": "/var/lib/replication-manager", "ShareDir": "/usr/local/share/mrm", "User": "root:mariadb", "Hosts": "192.168.100.70,192.168.100.71", "HostsTLSCA": "", "HostsTLSKEY": "", "HostsTLSCLI": "", "Socket": "", "RplUser": "root:mariadb", "Interactive": false, "Verbose": false, "PreScript": "", "PostScript": "", "RejoinScript": "", "PrefMaster": "192.168.100.70", "IgnoreSrv": "", "SwitchWaitKill": 5000, "SwitchWaitTrx": 10, "SwitchWaitWrite": 10, "SwitchGtidCheck": false, "SwitchSync": false, "SwitchMaxDelay": 0, "ReadOnly": true, "Autorejoin": true, "AutorejoinFlashback": true, "AutorejoinMysqldump": true, "AutorejoinBackupBinlog": true, "AutorejoinSemisync": true, "LogFile": "./config/masterslave/mariadb/without_traffic/10.2/x2/multidomains/innodb/maxscale/latest/x1/1.1.0-preview3-99-gc75a256/testFailoverSemisyncAutoRejoinSafeMSMXMS.log", "MonitoringTicker": 2, "Timeout": 1, "CheckType": "tcp", "CheckReplFilter": true, "CheckBinFilter": true, "ForceSlaveHeartbeat": false, "ForceSlaveHeartbeatTime": 3, "ForceSlaveHeartbeatRetry": 5, "ForceSlaveGtid": false, "ForceSlaveNoGtid": false, "ForceSlaveSemisync": true, "ForceSlaveReadOnly": true, "ForceBinlogRow": false, "ForceBinlogAnnotate": false, "ForceBinlogCompress": false, "ForceBinlogSlowqueries": false, "ForceBinlogChecksum": false, "ForceInmemoryBinlogCacheSize": false, "ForceDiskRelayLogSizeLimit": false, "ForceDiskRelayLogSizeLimitSize": 1000000000, "ForceSyncBinlog": true, "ForceSyncInnoDB": true, "ForceNoslaveBehind": false, "RplChecks": true, "MasterConn": "", "MultiMaster": false, "MultiTierSlave": false, "Spider": false, "BindAddr": "localhost", "HttpPort": "10001", "HttpServ": true, "HttpRoot": "../../dashboard", "HttpAuth": false, "HttpBootstrapButton": true, "SessionLifeTime": 3600, "Daemon": true, "MailFrom": "mrm@localhost", "MailTo": "", "MailSMTPAddr": "localhost:25", "MasterConnectRetry": 10, "FailLimit": 999, "FailTime": 1, "FailSync": false, "FailEventScheduler": false, "FailEventStatus": false, "FailRestartUnsafe": false, "MaxFail": 3, "FailResetTime": 300, "FailMaxDelay": 0, "CheckFalsePositiveHeartbeat": false, "CheckFalsePositiveMaxscale": false, "CheckFalsePositiveHeartbeatTimeout": 3, "CheckFalsePositiveMaxscaleTimeout": 14, "CheckFalsePositiveExternal": false, "CheckFalsePositiveExternalPort": 80, "Heartbeat": false, "MdbsProxyOn": false, "MdbsProxyHosts": "127.0.0.1:3307", "MdbsProxyUser": "admin", "MxsOn": true, "MxsHost": "192.168.100.50", "MxsPort": "3307", "MxsUser": "admin", "MxsPass": "mariadb", "MxsWritePort": 4007, "MxsReadPort": 4008, "MxsReadWritePort": 4006, "MxsMaxinfoPort": 3307, "MxsBinlogOn": false, "MxsBinlogPort": 3309, "MxsDisableMonitor": false, "MxsGetInfoMethod": "maxadmin", "MxsServerMatchPort": false, "HaproxyOn": false, "HaproxyWritePort": 3306, "HaproxyReadPort": 3307, "HaproxyStatPort": 1988, "HaproxyWriteBindIp": "0.0.0.0", "HaproxyReadBindIp": "0.0.0.0", "HaproxyBinaryPath": "/usr/sbin/haproxy", "KeyPath": "/etc/replication-manager/.replication-manager.key", "LogLevel": 0, "Test": true, "TestInjectTraffic": false, "Topology": "", "GraphiteMetrics": false, "GraphiteEmbedded": false, "GraphiteCarbonHost": "127.0.0.1", "GraphiteCarbonPort": 2003, "GraphiteCarbonApiPort": 10002, "GraphiteCarbonServerPort": 10003, "GraphiteCarbonLinkPort": 7002, "GraphiteCarbonPicklePort": 2004, "GraphiteCarbonPprofPort": 7007, "SysbenchBinaryPath": "/usr/local/bin/sysbench", "SysbenchTime": 60, "SysbenchThreads": 4, "MariaDBBinaryPath": "/usr/local/mysql/bin", "Arbitration": false, "ArbitrationSasSecret": "", "ArbitrationSasHosts": "88.191.151.84:80", "ArbitrationSasUniqueId": 0, "ArbitrationPeerHosts": "127.0.0.1:10002", "ReplicationSSL": false, "FailForceGtid": true, "RegTestStopCluster": false, "Enterprise": true, "ProvHost": "192.168.100.101:443", "ProvAdminUser": "root@localhost.localdomain:opensvc", "ProvUser": "replication-manager@localhost.localdomain:mariadb", "ProvType": "docker", "ProvAgents": "agent1,agent2", "ProvMem": "256", "ProvIops": "300", "ProvTags": "smallredolog,semisync,innodb,noquerycache,threadpool,logslow,multidomains", "ProvDisk": "1G", "ProvDiskFS": "zfs", "ProvDiskPool": "zpool", "ProvDiskDevice": "/srv", "ProvDiskType": "loopback", "ProvNetIface": "br0", "ProvNetmask": "255.255.255.0", "ProvGateway": "192.168.100.254", "ProvProxType": "docker", "ProvProxAgents": "agent2", "ProvProxDisk": "1G", "ProvProxDiskFS": "zfs", "ProvProxDiskPool": "zpool", "ProvProxDiskDevice": "/srv", "ProvProxDiskType": "loopback", "ProvProxNetIface": "br0", "ProvProxNetmask": "255.255.255.0", "ProvProxGateway": "192.168.100.254", "ProvMaxscaleVip": "", "ProvMdbshardproxyVip": "", "ProvHaproxyVip": "", "ProvWebsqlproxyVip": "", "ProvDbImg": "mariadb:10.2", "ProvProxImg": "asosso/maxscale:latest", "APIUser": "admin:mariadb", "APIPort": "3000", "ConfigFile": "././config/masterslave/mariadb/without_traffic/10.2/x2/multidomains/innodb/maxscale/latest/x1/replication-manager.conf" }, "config-test": { "WorkingDir": "/var/lib/replication-manager", "ShareDir": "/usr/local/share/mrm", "User": "root:mariadb", "Hosts": "192.168.100.70,192.168.100.71", "HostsTLSCA": "", "HostsTLSKEY": "", "HostsTLSCLI": "", "Socket": "", "RplUser": "root:mariadb", "Interactive": false, "Verbose": false, "PreScript": "", "PostScript": "", "RejoinScript": "", "PrefMaster": "192.168.100.70", "IgnoreSrv": "", "SwitchWaitKill": 5000, "SwitchWaitTrx": 10, "SwitchWaitWrite": 10, "SwitchGtidCheck": false, "SwitchSync": false, "SwitchMaxDelay": 0, "ReadOnly": true, "Autorejoin": true, "AutorejoinFlashback": true, "AutorejoinMysqldump": true, "AutorejoinBackupBinlog": true, "AutorejoinSemisync": true, "LogFile": "./config/masterslave/mariadb/without_traffic/10.2/x2/multidomains/innodb/maxscale/latest/x1/1.1.0-preview3-99-gc75a256/testFailoverSemisyncAutoRejoinSafeMSMXMS.log", "MonitoringTicker": 2, "Timeout": 1, "CheckType": "tcp", "CheckReplFilter": true, "CheckBinFilter": true, "ForceSlaveHeartbeat": false, "ForceSlaveHeartbeatTime": 3, "ForceSlaveHeartbeatRetry": 5, "ForceSlaveGtid": false, "ForceSlaveNoGtid": false, "ForceSlaveSemisync": true, "ForceSlaveReadOnly": true, "ForceBinlogRow": false, "ForceBinlogAnnotate": false, "ForceBinlogCompress": false, "ForceBinlogSlowqueries": false, "ForceBinlogChecksum": false, "ForceInmemoryBinlogCacheSize": false, "ForceDiskRelayLogSizeLimit": false, "ForceDiskRelayLogSizeLimitSize": 1000000000, "ForceSyncBinlog": true, "ForceSyncInnoDB": true, "ForceNoslaveBehind": false, "RplChecks": false, "MasterConn": "", "MultiMaster": false, "MultiTierSlave": false, "Spider": false, "BindAddr": "localhost", "HttpPort": "10001", "HttpServ": true, "HttpRoot": "../../dashboard", "HttpAuth": false, "HttpBootstrapButton": true, "SessionLifeTime": 3600, "Daemon": true, "MailFrom": "mrm@localhost", "MailTo": "", "MailSMTPAddr": "localhost:25", "MasterConnectRetry": 10, "FailLimit": 999, "FailTime": 0, "FailSync": false, "FailEventScheduler": false, "FailEventStatus": false, "FailRestartUnsafe": false, "MaxFail": 3, "FailResetTime": 300, "FailMaxDelay": 0, "CheckFalsePositiveHeartbeat": false, "CheckFalsePositiveMaxscale": false, "CheckFalsePositiveHeartbeatTimeout": 3, "CheckFalsePositiveMaxscaleTimeout": 14, "CheckFalsePositiveExternal": false, "CheckFalsePositiveExternalPort": 80, "Heartbeat": false, "MdbsProxyOn": false, "MdbsProxyHosts": "127.0.0.1:3307", "MdbsProxyUser": "admin", "MxsOn": true, "MxsHost": "192.168.100.50", "MxsPort": "3307", "MxsUser": "admin", "MxsPass": "mariadb", "MxsWritePort": 4007, "MxsReadPort": 4008, "MxsReadWritePort": 4006, "MxsMaxinfoPort": 3307, "MxsBinlogOn": false, "MxsBinlogPort": 3309, "MxsDisableMonitor": false, "MxsGetInfoMethod": "maxadmin", "MxsServerMatchPort": false, "HaproxyOn": false, "HaproxyWritePort": 3306, "HaproxyReadPort": 3307, "HaproxyStatPort": 1988, "HaproxyWriteBindIp": "0.0.0.0", "HaproxyReadBindIp": "0.0.0.0", "HaproxyBinaryPath": "/usr/sbin/haproxy", "KeyPath": "/etc/replication-manager/.replication-manager.key", "LogLevel": 0, "Test": true, "TestInjectTraffic": false, "Topology": "", "GraphiteMetrics": false, "GraphiteEmbedded": false, "GraphiteCarbonHost": "127.0.0.1", "GraphiteCarbonPort": 2003, "GraphiteCarbonApiPort": 10002, "GraphiteCarbonServerPort": 10003, "GraphiteCarbonLinkPort": 7002, "GraphiteCarbonPicklePort": 2004, "GraphiteCarbonPprofPort": 7007, "SysbenchBinaryPath": "/usr/local/bin/sysbench", "SysbenchTime": 60, "SysbenchThreads": 4, "MariaDBBinaryPath": "/usr/local/mysql/bin", "Arbitration": false, "ArbitrationSasSecret": "", "ArbitrationSasHosts": "88.191.151.84:80", "ArbitrationSasUniqueId": 0, "ArbitrationPeerHosts": "127.0.0.1:10002", "ReplicationSSL": false, "FailForceGtid": true, "RegTestStopCluster": false, "Enterprise": true, "ProvHost": "192.168.100.101:443", "ProvAdminUser": "root@localhost.localdomain:opensvc", "ProvUser": "replication-manager@localhost.localdomain:mariadb", "ProvType": "docker", "ProvAgents": "agent1,agent2", "ProvMem": "256", "ProvIops": "300", "ProvTags": "smallredolog,semisync,innodb,noquerycache,threadpool,logslow,multidomains", "ProvDisk": "1G", "ProvDiskFS": "zfs", "ProvDiskPool": "zpool", "ProvDiskDevice": "/srv", "ProvDiskType": "loopback", "ProvNetIface": "br0", "ProvNetmask": "255.255.255.0", "ProvGateway": "192.168.100.254", "ProvProxType": "docker", "ProvProxAgents": "agent2", "ProvProxDisk": "1G", "ProvProxDiskFS": "zfs", "ProvProxDiskPool": "zpool", "ProvProxDiskDevice": "/srv", "ProvProxDiskType": "loopback", "ProvProxNetIface": "br0", "ProvProxNetmask": "255.255.255.0", "ProvProxGateway": "192.168.100.254", "ProvMaxscaleVip": "", "ProvMdbshardproxyVip": "", "ProvHaproxyVip": "", "ProvWebsqlproxyVip": "", "ProvDbImg": "mariadb:10.2", "ProvProxImg": "asosso/maxscale:latest", "APIUser": "admin:mariadb", "APIPort": "3000", "ConfigFile": "././config/masterslave/mariadb/without_traffic/10.2/x2/multidomains/innodb/maxscale/latest/x1/replication-manager.conf" } }
,
{ "name": "testFailoverSemisyncAutoRejoinSafeMSXMSM", "result": "PASS", "config-file": "././config/masterslave/mariadb/without_traffic/10.2/x2/multidomains/innodb/maxscale/latest/x1/replication-manager.conf", "config-init": { "WorkingDir": "/var/lib/replication-manager", "ShareDir": "/usr/local/share/mrm", "User": "root:mariadb", "Hosts": "192.168.100.70,192.168.100.71", "HostsTLSCA": "", "HostsTLSKEY": "", "HostsTLSCLI": "", "Socket": "", "RplUser": "root:mariadb", "Interactive": false, "Verbose": false, "PreScript": "", "PostScript": "", "RejoinScript": "", "PrefMaster": "192.168.100.70", "IgnoreSrv": "", "SwitchWaitKill": 5000, "SwitchWaitTrx": 10, "SwitchWaitWrite": 10, "SwitchGtidCheck": false, "SwitchSync": false, "SwitchMaxDelay": 0, "ReadOnly": true, "Autorejoin": true, "AutorejoinFlashback": true, "AutorejoinMysqldump": true, "AutorejoinBackupBinlog": true, "AutorejoinSemisync": true, "LogFile": "./config/masterslave/mariadb/without_traffic/10.2/x2/multidomains/innodb/maxscale/latest/x1/1.1.0-preview3-99-gc75a256/testFailoverSemisyncAutoRejoinSafeMSXMSM.log", "MonitoringTicker": 2, "Timeout": 1, "CheckType": "tcp", "CheckReplFilter": true, "CheckBinFilter": true, "ForceSlaveHeartbeat": false, "ForceSlaveHeartbeatTime": 3, "ForceSlaveHeartbeatRetry": 5, "ForceSlaveGtid": false, "ForceSlaveNoGtid": false, "ForceSlaveSemisync": true, "ForceSlaveReadOnly": true, "ForceBinlogRow": false, "ForceBinlogAnnotate": false, "ForceBinlogCompress": false, "ForceBinlogSlowqueries": false, "ForceBinlogChecksum": false, "ForceInmemoryBinlogCacheSize": false, "ForceDiskRelayLogSizeLimit": false, "ForceDiskRelayLogSizeLimitSize": 1000000000, "ForceSyncBinlog": true, "ForceSyncInnoDB": true, "ForceNoslaveBehind": false, "RplChecks": true, "MasterConn": "", "MultiMaster": false, "MultiTierSlave": false, "Spider": false, "BindAddr": "localhost", "HttpPort": "10001", "HttpServ": true, "HttpRoot": "../../dashboard", "HttpAuth": false, "HttpBootstrapButton": true, "SessionLifeTime": 3600, "Daemon": true, "MailFrom": "mrm@localhost", "MailTo": "", "MailSMTPAddr": "localhost:25", "MasterConnectRetry": 10, "FailLimit": 999, "FailTime": 1, "FailSync": false, "FailEventScheduler": false, "FailEventStatus": false, "FailRestartUnsafe": false, "MaxFail": 3, "FailResetTime": 300, "FailMaxDelay": 0, "CheckFalsePositiveHeartbeat": false, "CheckFalsePositiveMaxscale": false, "CheckFalsePositiveHeartbeatTimeout": 3, "CheckFalsePositiveMaxscaleTimeout": 14, "CheckFalsePositiveExternal": false, "CheckFalsePositiveExternalPort": 80, "Heartbeat": false, "MdbsProxyOn": false, "MdbsProxyHosts": "127.0.0.1:3307", "MdbsProxyUser": "admin", "MxsOn": true, "MxsHost": "192.168.100.50", "MxsPort": "3307", "MxsUser": "admin", "MxsPass": "mariadb", "MxsWritePort": 4007, "MxsReadPort": 4008, "MxsReadWritePort": 4006, "MxsMaxinfoPort": 3307, "MxsBinlogOn": false, "MxsBinlogPort": 3309, "MxsDisableMonitor": false, "MxsGetInfoMethod": "maxadmin", "MxsServerMatchPort": false, "HaproxyOn": false, "HaproxyWritePort": 3306, "HaproxyReadPort": 3307, "HaproxyStatPort": 1988, "HaproxyWriteBindIp": "0.0.0.0", "HaproxyReadBindIp": "0.0.0.0", "HaproxyBinaryPath": "/usr/sbin/haproxy", "KeyPath": "/etc/replication-manager/.replication-manager.key", "LogLevel": 0, "Test": true, "TestInjectTraffic": false, "Topology": "", "GraphiteMetrics": false, "GraphiteEmbedded": false, "GraphiteCarbonHost": "127.0.0.1", "GraphiteCarbonPort": 2003, "GraphiteCarbonApiPort": 10002, "GraphiteCarbonServerPort": 10003, "GraphiteCarbonLinkPort": 7002, "GraphiteCarbonPicklePort": 2004, "GraphiteCarbonPprofPort": 7007, "SysbenchBinaryPath": "/usr/local/bin/sysbench", "SysbenchTime": 60, "SysbenchThreads": 4, "MariaDBBinaryPath": "/usr/local/mysql/bin", "Arbitration": false, "ArbitrationSasSecret": "", "ArbitrationSasHosts": "88.191.151.84:80", "ArbitrationSasUniqueId": 0, "ArbitrationPeerHosts": "127.0.0.1:10002", "ReplicationSSL": false, "FailForceGtid": true, "RegTestStopCluster": false, "Enterprise": true, "ProvHost": "192.168.100.101:443", "ProvAdminUser": "root@localhost.localdomain:opensvc", "ProvUser": "replication-manager@localhost.localdomain:mariadb", "ProvType": "docker", "ProvAgents": "agent1,agent2", "ProvMem": "256", "ProvIops": "300", "ProvTags": "smallredolog,semisync,innodb,noquerycache,threadpool,logslow,multidomains", "ProvDisk": "1G", "ProvDiskFS": "zfs", "ProvDiskPool": "zpool", "ProvDiskDevice": "/srv", "ProvDiskType": "loopback", "ProvNetIface": "br0", "ProvNetmask": "255.255.255.0", "ProvGateway": "192.168.100.254", "ProvProxType": "docker", "ProvProxAgents": "agent2", "ProvProxDisk": "1G", "ProvProxDiskFS": "zfs", "ProvProxDiskPool": "zpool", "ProvProxDiskDevice": "/srv", "ProvProxDiskType": "loopback", "ProvProxNetIface": "br0", "ProvProxNetmask": "255.255.255.0", "ProvProxGateway": "192.168.100.254", "ProvMaxscaleVip": "", "ProvMdbshardproxyVip": "", "ProvHaproxyVip": "", "ProvWebsqlproxyVip": "", "ProvDbImg": "mariadb:10.2", "ProvProxImg": "asosso/maxscale:latest", "APIUser": "admin:mariadb", "APIPort": "3000", "ConfigFile": "././config/masterslave/mariadb/without_traffic/10.2/x2/multidomains/innodb/maxscale/latest/x1/replication-manager.conf" }, "config-test": { "WorkingDir": "/var/lib/replication-manager", "ShareDir": "/usr/local/share/mrm", "User": "root:mariadb", "Hosts": "192.168.100.70,192.168.100.71", "HostsTLSCA": "", "HostsTLSKEY": "", "HostsTLSCLI": "", "Socket": "", "RplUser": "root:mariadb", "Interactive": false, "Verbose": false, "PreScript": "", "PostScript": "", "RejoinScript": "", "PrefMaster": "192.168.100.70", "IgnoreSrv": "", "SwitchWaitKill": 5000, "SwitchWaitTrx": 10, "SwitchWaitWrite": 10, "SwitchGtidCheck": false, "SwitchSync": false, "SwitchMaxDelay": 0, "ReadOnly": true, "Autorejoin": true, "AutorejoinFlashback": true, "AutorejoinMysqldump": true, "AutorejoinBackupBinlog": true, "AutorejoinSemisync": true, "LogFile": "./config/masterslave/mariadb/without_traffic/10.2/x2/multidomains/innodb/maxscale/latest/x1/1.1.0-preview3-99-gc75a256/testFailoverSemisyncAutoRejoinSafeMSXMSM.log", "MonitoringTicker": 2, "Timeout": 1, "CheckType": "tcp", "CheckReplFilter": true, "CheckBinFilter": true, "ForceSlaveHeartbeat": false, "ForceSlaveHeartbeatTime": 3, "ForceSlaveHeartbeatRetry": 5, "ForceSlaveGtid": false, "ForceSlaveNoGtid": false, "ForceSlaveSemisync": true, "ForceSlaveReadOnly": true, "ForceBinlogRow": false, "ForceBinlogAnnotate": false, "ForceBinlogCompress": false, "ForceBinlogSlowqueries": false, "ForceBinlogChecksum": false, "ForceInmemoryBinlogCacheSize": false, "ForceDiskRelayLogSizeLimit": false, "ForceDiskRelayLogSizeLimitSize": 1000000000, "ForceSyncBinlog": true, "ForceSyncInnoDB": true, "ForceNoslaveBehind": false, "RplChecks": false, "MasterConn": "", "MultiMaster": false, "MultiTierSlave": false, "Spider": false, "BindAddr": "localhost", "HttpPort": "10001", "HttpServ": true, "HttpRoot": "../../dashboard", "HttpAuth": false, "HttpBootstrapButton": true, "SessionLifeTime": 3600, "Daemon": true, "MailFrom": "mrm@localhost", "MailTo": "", "MailSMTPAddr": "localhost:25", "MasterConnectRetry": 10, "FailLimit": 999, "FailTime": 0, "FailSync": false, "FailEventScheduler": false, "FailEventStatus": false, "FailRestartUnsafe": false, "MaxFail": 3, "FailResetTime": 300, "FailMaxDelay": 0, "CheckFalsePositiveHeartbeat": false, "CheckFalsePositiveMaxscale": false, "CheckFalsePositiveHeartbeatTimeout": 3, "CheckFalsePositiveMaxscaleTimeout": 14, "CheckFalsePositiveExternal": false, "CheckFalsePositiveExternalPort": 80, "Heartbeat": false, "MdbsProxyOn": false, "MdbsProxyHosts": "127.0.0.1:3307", "MdbsProxyUser": "admin", "MxsOn": true, "MxsHost": "192.168.100.50", "MxsPort": "3307", "MxsUser": "admin", "MxsPass": "mariadb", "MxsWritePort": 4007, "MxsReadPort": 4008, "MxsReadWritePort": 4006, "MxsMaxinfoPort": 3307, "MxsBinlogOn": false, "MxsBinlogPort": 3309, "MxsDisableMonitor": false, "MxsGetInfoMethod": "maxadmin", "MxsServerMatchPort": false, "HaproxyOn": false, "HaproxyWritePort": 3306, "HaproxyReadPort": 3307, "HaproxyStatPort": 1988, "HaproxyWriteBindIp": "0.0.0.0", "HaproxyReadBindIp": "0.0.0.0", "HaproxyBinaryPath": "/usr/sbin/haproxy", "KeyPath": "/etc/replication-manager/.replication-manager.key", "LogLevel": 0, "Test": true, "TestInjectTraffic": false, "Topology": "", "GraphiteMetrics": false, "GraphiteEmbedded": false, "GraphiteCarbonHost": "127.0.0.1", "GraphiteCarbonPort": 2003, "GraphiteCarbonApiPort": 10002, "GraphiteCarbonServerPort": 10003, "GraphiteCarbonLinkPort": 7002, "GraphiteCarbonPicklePort": 2004, "GraphiteCarbonPprofPort": 7007, "SysbenchBinaryPath": "/usr/local/bin/sysbench", "SysbenchTime": 60, "SysbenchThreads": 4, "MariaDBBinaryPath": "/usr/local/mysql/bin", "Arbitration": false, "ArbitrationSasSecret": "", "ArbitrationSasHosts": "88.191.151.84:80", "ArbitrationSasUniqueId": 0, "ArbitrationPeerHosts": "127.0.0.1:10002", "ReplicationSSL": false, "FailForceGtid": true, "RegTestStopCluster": false, "Enterprise": true, "ProvHost": "192.168.100.101:443", "ProvAdminUser": "root@localhost.localdomain:opensvc", "ProvUser": "replication-manager@localhost.localdomain:mariadb", "ProvType": "docker", "ProvAgents": "agent1,agent2", "ProvMem": "256", "ProvIops": "300", "ProvTags": "smallredolog,semisync,innodb,noquerycache,threadpool,logslow,multidomains", "ProvDisk": "1G", "ProvDiskFS": "zfs", "ProvDiskPool": "zpool", "ProvDiskDevice": "/srv", "ProvDiskType": "loopback", "ProvNetIface": "br0", "ProvNetmask": "255.255.255.0", "ProvGateway": "192.168.100.254", "ProvProxType": "docker", "ProvProxAgents": "agent2", "ProvProxDisk": "1G", "ProvProxDiskFS": "zfs", "ProvProxDiskPool": "zpool", "ProvProxDiskDevice": "/srv", "ProvProxDiskType": "loopback", "ProvProxNetIface": "br0", "ProvProxNetmask": "255.255.255.0", "ProvProxGateway": "192.168.100.254", "ProvMaxscaleVip": "", "ProvMdbshardproxyVip": "", "ProvHaproxyVip": "", "ProvWebsqlproxyVip": "", "ProvDbImg": "mariadb:10.2", "ProvProxImg": "asosso/maxscale:latest", "APIUser": "admin:mariadb", "APIPort": "3000", "ConfigFile": "././config/masterslave/mariadb/without_traffic/10.2/x2/multidomains/innodb/maxscale/latest/x1/replication-manager.conf" } }
,
{ "name": "testFailoverSemisyncAutoRejoinSafeMSMXXXRXSMS", "result": "PASS", "config-file": "././config/masterslave/mariadb/without_traffic/10.2/x2/multidomains/innodb/maxscale/latest/x1/replication-manager.conf", "config-init": { "WorkingDir": "/var/lib/replication-manager", "ShareDir": "/usr/local/share/mrm", "User": "root:mariadb", "Hosts": "192.168.100.70,192.168.100.71", "HostsTLSCA": "", "HostsTLSKEY": "", "HostsTLSCLI": "", "Socket": "", "RplUser": "root:mariadb", "Interactive": false, "Verbose": false, "PreScript": "", "PostScript": "", "RejoinScript": "", "PrefMaster": "192.168.100.70", "IgnoreSrv": "", "SwitchWaitKill": 5000, "SwitchWaitTrx": 10, "SwitchWaitWrite": 10, "SwitchGtidCheck": false, "SwitchSync": false, "SwitchMaxDelay": 0, "ReadOnly": true, "Autorejoin": true, "AutorejoinFlashback": true, "AutorejoinMysqldump": true, "AutorejoinBackupBinlog": true, "AutorejoinSemisync": true, "LogFile": "./config/masterslave/mariadb/without_traffic/10.2/x2/multidomains/innodb/maxscale/latest/x1/1.1.0-preview3-99-gc75a256/testFailoverSemisyncAutoRejoinSafeMSMXXXRXSMS.log", "MonitoringTicker": 2, "Timeout": 1, "CheckType": "tcp", "CheckReplFilter": true, "CheckBinFilter": true, "ForceSlaveHeartbeat": false, "ForceSlaveHeartbeatTime": 3, "ForceSlaveHeartbeatRetry": 5, "ForceSlaveGtid": false, "ForceSlaveNoGtid": false, "ForceSlaveSemisync": true, "ForceSlaveReadOnly": true, "ForceBinlogRow": false, "ForceBinlogAnnotate": false, "ForceBinlogCompress": false, "ForceBinlogSlowqueries": false, "ForceBinlogChecksum": false, "ForceInmemoryBinlogCacheSize": false, "ForceDiskRelayLogSizeLimit": false, "ForceDiskRelayLogSizeLimitSize": 1000000000, "ForceSyncBinlog": true, "ForceSyncInnoDB": true, "ForceNoslaveBehind": false, "RplChecks": true, "MasterConn": "", "MultiMaster": false, "MultiTierSlave": false, "Spider": false, "BindAddr": "localhost", "HttpPort": "10001", "HttpServ": true, "HttpRoot": "../../dashboard", "HttpAuth": false, "HttpBootstrapButton": true, "SessionLifeTime": 3600, "Daemon": true, "MailFrom": "mrm@localhost", "MailTo": "", "MailSMTPAddr": "localhost:25", "MasterConnectRetry": 10, "FailLimit": 999, "FailTime": 1, "FailSync": false, "FailEventScheduler": false, "FailEventStatus": false, "FailRestartUnsafe": false, "MaxFail": 3, "FailResetTime": 300, "FailMaxDelay": 0, "CheckFalsePositiveHeartbeat": false, "CheckFalsePositiveMaxscale": false, "CheckFalsePositiveHeartbeatTimeout": 3, "CheckFalsePositiveMaxscaleTimeout": 14, "CheckFalsePositiveExternal": false, "CheckFalsePositiveExternalPort": 80, "Heartbeat": false, "MdbsProxyOn": false, "MdbsProxyHosts": "127.0.0.1:3307", "MdbsProxyUser": "admin", "MxsOn": true, "MxsHost": "192.168.100.50", "MxsPort": "3307", "MxsUser": "admin", "MxsPass": "mariadb", "MxsWritePort": 4007, "MxsReadPort": 4008, "MxsReadWritePort": 4006, "MxsMaxinfoPort": 3307, "MxsBinlogOn": false, "MxsBinlogPort": 3309, "MxsDisableMonitor": false, "MxsGetInfoMethod": "maxadmin", "MxsServerMatchPort": false, "HaproxyOn": false, "HaproxyWritePort": 3306, "HaproxyReadPort": 3307, "HaproxyStatPort": 1988, "HaproxyWriteBindIp": "0.0.0.0", "HaproxyReadBindIp": "0.0.0.0", "HaproxyBinaryPath": "/usr/sbin/haproxy", "KeyPath": "/etc/replication-manager/.replication-manager.key", "LogLevel": 0, "Test": true, "TestInjectTraffic": false, "Topology": "", "GraphiteMetrics": false, "GraphiteEmbedded": false, "GraphiteCarbonHost": "127.0.0.1", "GraphiteCarbonPort": 2003, "GraphiteCarbonApiPort": 10002, "GraphiteCarbonServerPort": 10003, "GraphiteCarbonLinkPort": 7002, "GraphiteCarbonPicklePort": 2004, "GraphiteCarbonPprofPort": 7007, "SysbenchBinaryPath": "/usr/local/bin/sysbench", "SysbenchTime": 60, "SysbenchThreads": 4, "MariaDBBinaryPath": "/usr/local/mysql/bin", "Arbitration": false, "ArbitrationSasSecret": "", "ArbitrationSasHosts": "88.191.151.84:80", "ArbitrationSasUniqueId": 0, "ArbitrationPeerHosts": "127.0.0.1:10002", "ReplicationSSL": false, "FailForceGtid": true, "RegTestStopCluster": false, "Enterprise": true, "ProvHost": "192.168.100.101:443", "ProvAdminUser": "root@localhost.localdomain:opensvc", "ProvUser": "replication-manager@localhost.localdomain:mariadb", "ProvType": "docker", "ProvAgents": "agent1,agent2", "ProvMem": "256", "ProvIops": "300", "ProvTags": "smallredolog,semisync,innodb,noquerycache,threadpool,logslow,multidomains", "ProvDisk": "1G", "ProvDiskFS": "zfs", "ProvDiskPool": "zpool", "ProvDiskDevice": "/srv", "ProvDiskType": "loopback", "ProvNetIface": "br0", "ProvNetmask": "255.255.255.0", "ProvGateway": "192.168.100.254", "ProvProxType": "docker", "ProvProxAgents": "agent2", "ProvProxDisk": "1G", "ProvProxDiskFS": "zfs", "ProvProxDiskPool": "zpool", "ProvProxDiskDevice": "/srv", "ProvProxDiskType": "loopback", "ProvProxNetIface": "br0", "ProvProxNetmask": "255.255.255.0", "ProvProxGateway": "192.168.100.254", "ProvMaxscaleVip": "", "ProvMdbshardproxyVip": "", "ProvHaproxyVip": "", "ProvWebsqlproxyVip": "", "ProvDbImg": "mariadb:10.2", "ProvProxImg": "asosso/maxscale:latest", "APIUser": "admin:mariadb", "APIPort": "3000", "ConfigFile": "././config/masterslave/mariadb/without_traffic/10.2/x2/multidomains/innodb/maxscale/latest/x1/replication-manager.conf" }, "config-test": { "WorkingDir": "/var/lib/replication-manager", "ShareDir": "/usr/local/share/mrm", "User": "root:mariadb", "Hosts": "192.168.100.70,192.168.100.71", "HostsTLSCA": "", "HostsTLSKEY": "", "HostsTLSCLI": "", "Socket": "", "RplUser": "root:mariadb", "Interactive": false, "Verbose": false, "PreScript": "", "PostScript": "", "RejoinScript": "", "PrefMaster": "192.168.100.70", "IgnoreSrv": "", "SwitchWaitKill": 5000, "SwitchWaitTrx": 10, "SwitchWaitWrite": 10, "SwitchGtidCheck": false, "SwitchSync": false, "SwitchMaxDelay": 0, "ReadOnly": true, "Autorejoin": true, "AutorejoinFlashback": true, "AutorejoinMysqldump": true, "AutorejoinBackupBinlog": true, "AutorejoinSemisync": true, "LogFile": "./config/masterslave/mariadb/without_traffic/10.2/x2/multidomains/innodb/maxscale/latest/x1/1.1.0-preview3-99-gc75a256/testFailoverSemisyncAutoRejoinSafeMSMXXXRXSMS.log", "MonitoringTicker": 2, "Timeout": 1, "CheckType": "tcp", "CheckReplFilter": true, "CheckBinFilter": true, "ForceSlaveHeartbeat": false, "ForceSlaveHeartbeatTime": 3, "ForceSlaveHeartbeatRetry": 5, "ForceSlaveGtid": false, "ForceSlaveNoGtid": false, "ForceSlaveSemisync": true, "ForceSlaveReadOnly": true, "ForceBinlogRow": false, "ForceBinlogAnnotate": false, "ForceBinlogCompress": false, "ForceBinlogSlowqueries": false, "ForceBinlogChecksum": false, "ForceInmemoryBinlogCacheSize": false, "ForceDiskRelayLogSizeLimit": false, "ForceDiskRelayLogSizeLimitSize": 1000000000, "ForceSyncBinlog": true, "ForceSyncInnoDB": true, "ForceNoslaveBehind": false, "RplChecks": false, "MasterConn": "", "MultiMaster": false, "MultiTierSlave": false, "Spider": false, "BindAddr": "localhost", "HttpPort": "10001", "HttpServ": true, "HttpRoot": "../../dashboard", "HttpAuth": false, "HttpBootstrapButton": true, "SessionLifeTime": 3600, "Daemon": true, "MailFrom": "mrm@localhost", "MailTo": "", "MailSMTPAddr": "localhost:25", "MasterConnectRetry": 10, "FailLimit": 999, "FailTime": 0, "FailSync": false, "FailEventScheduler": false, "FailEventStatus": false, "FailRestartUnsafe": false, "MaxFail": 3, "FailResetTime": 300, "FailMaxDelay": 0, "CheckFalsePositiveHeartbeat": false, "CheckFalsePositiveMaxscale": false, "CheckFalsePositiveHeartbeatTimeout": 3, "CheckFalsePositiveMaxscaleTimeout": 14, "CheckFalsePositiveExternal": false, "CheckFalsePositiveExternalPort": 80, "Heartbeat": false, "MdbsProxyOn": false, "MdbsProxyHosts": "127.0.0.1:3307", "MdbsProxyUser": "admin", "MxsOn": true, "MxsHost": "192.168.100.50", "MxsPort": "3307", "MxsUser": "admin", "MxsPass": "mariadb", "MxsWritePort": 4007, "MxsReadPort": 4008, "MxsReadWritePort": 4006, "MxsMaxinfoPort": 3307, "MxsBinlogOn": false, "MxsBinlogPort": 3309, "MxsDisableMonitor": false, "MxsGetInfoMethod": "maxadmin", "MxsServerMatchPort": false, "HaproxyOn": false, "HaproxyWritePort": 3306, "HaproxyReadPort": 3307, "HaproxyStatPort": 1988, "HaproxyWriteBindIp": "0.0.0.0", "HaproxyReadBindIp": "0.0.0.0", "HaproxyBinaryPath": "/usr/sbin/haproxy", "KeyPath": "/etc/replication-manager/.replication-manager.key", "LogLevel": 0, "Test": true, "TestInjectTraffic": false, "Topology": "", "GraphiteMetrics": false, "GraphiteEmbedded": false, "GraphiteCarbonHost": "127.0.0.1", "GraphiteCarbonPort": 2003, "GraphiteCarbonApiPort": 10002, "GraphiteCarbonServerPort": 10003, "GraphiteCarbonLinkPort": 7002, "GraphiteCarbonPicklePort": 2004, "GraphiteCarbonPprofPort": 7007, "SysbenchBinaryPath": "/usr/local/bin/sysbench", "SysbenchTime": 60, "SysbenchThreads": 4, "MariaDBBinaryPath": "/usr/local/mysql/bin", "Arbitration": false, "ArbitrationSasSecret": "", "ArbitrationSasHosts": "88.191.151.84:80", "ArbitrationSasUniqueId": 0, "ArbitrationPeerHosts": "127.0.0.1:10002", "ReplicationSSL": false, "FailForceGtid": true, "RegTestStopCluster": false, "Enterprise": true, "ProvHost": "192.168.100.101:443", "ProvAdminUser": "root@localhost.localdomain:opensvc", "ProvUser": "replication-manager@localhost.localdomain:mariadb", "ProvType": "docker", "ProvAgents": "agent1,agent2", "ProvMem": "256", "ProvIops": "300", "ProvTags": "smallredolog,semisync,innodb,noquerycache,threadpool,logslow,multidomains", "ProvDisk": "1G", "ProvDiskFS": "zfs", "ProvDiskPool": "zpool", "ProvDiskDevice": "/srv", "ProvDiskType": "loopback", "ProvNetIface": "br0", "ProvNetmask": "255.255.255.0", "ProvGateway": "192.168.100.254", "ProvProxType": "docker", "ProvProxAgents": "agent2", "ProvProxDisk": "1G", "ProvProxDiskFS": "zfs", "ProvProxDiskPool": "zpool", "ProvProxDiskDevice": "/srv", "ProvProxDiskType": "loopback", "ProvProxNetIface": "br0", "ProvProxNetmask": "255.255.255.0", "ProvProxGateway": "192.168.100.254", "ProvMaxscaleVip": "", "ProvMdbshardproxyVip": "", "ProvHaproxyVip": "", "ProvWebsqlproxyVip": "", "ProvDbImg": "mariadb:10.2", "ProvProxImg": "asosso/maxscale:latest", "APIUser": "admin:mariadb", "APIPort": "3000", "ConfigFile": "././config/masterslave/mariadb/without_traffic/10.2/x2/multidomains/innodb/maxscale/latest/x1/replication-manager.conf" } }
,
{ "name": "testFailoverSemisyncAutoRejoinUnsafeMSMXMS", "result": "PASS", "config-file": "././config/masterslave/mariadb/without_traffic/10.2/x2/multidomains/innodb/maxscale/latest/x1/replication-manager.conf", "config-init": { "WorkingDir": "/var/lib/replication-manager", "ShareDir": "/usr/local/share/mrm", "User": "root:mariadb", "Hosts": "192.168.100.70,192.168.100.71", "HostsTLSCA": "", "HostsTLSKEY": "", "HostsTLSCLI": "", "Socket": "", "RplUser": "root:mariadb", "Interactive": false, "Verbose": false, "PreScript": "", "PostScript": "", "RejoinScript": "", "PrefMaster": "192.168.100.70", "IgnoreSrv": "", "SwitchWaitKill": 5000, "SwitchWaitTrx": 10, "SwitchWaitWrite": 10, "SwitchGtidCheck": false, "SwitchSync": false, "SwitchMaxDelay": 0, "ReadOnly": true, "Autorejoin": true, "AutorejoinFlashback": true, "AutorejoinMysqldump": true, "AutorejoinBackupBinlog": true, "AutorejoinSemisync": true, "LogFile": "./config/masterslave/mariadb/without_traffic/10.2/x2/multidomains/innodb/maxscale/latest/x1/1.1.0-preview3-99-gc75a256/testFailoverSemisyncAutoRejoinUnsafeMSMXMS.log", "MonitoringTicker": 2, "Timeout": 1, "CheckType": "tcp", "CheckReplFilter": true, "CheckBinFilter": true, "ForceSlaveHeartbeat": false, "ForceSlaveHeartbeatTime": 3, "ForceSlaveHeartbeatRetry": 5, "ForceSlaveGtid": false, "ForceSlaveNoGtid": false, "ForceSlaveSemisync": true, "ForceSlaveReadOnly": true, "ForceBinlogRow": false, "ForceBinlogAnnotate": false, "ForceBinlogCompress": false, "ForceBinlogSlowqueries": false, "ForceBinlogChecksum": false, "ForceInmemoryBinlogCacheSize": false, "ForceDiskRelayLogSizeLimit": false, "ForceDiskRelayLogSizeLimitSize": 1000000000, "ForceSyncBinlog": true, "ForceSyncInnoDB": true, "ForceNoslaveBehind": false, "RplChecks": true, "MasterConn": "", "MultiMaster": false, "MultiTierSlave": false, "Spider": false, "BindAddr": "localhost", "HttpPort": "10001", "HttpServ": true, "HttpRoot": "../../dashboard", "HttpAuth": false, "HttpBootstrapButton": true, "SessionLifeTime": 3600, "Daemon": true, "MailFrom": "mrm@localhost", "MailTo": "", "MailSMTPAddr": "localhost:25", "MasterConnectRetry": 10, "FailLimit": 999, "FailTime": 1, "FailSync": false, "FailEventScheduler": false, "FailEventStatus": false, "FailRestartUnsafe": false, "MaxFail": 3, "FailResetTime": 300, "FailMaxDelay": 0, "CheckFalsePositiveHeartbeat": false, "CheckFalsePositiveMaxscale": false, "CheckFalsePositiveHeartbeatTimeout": 3, "CheckFalsePositiveMaxscaleTimeout": 14, "CheckFalsePositiveExternal": false, "CheckFalsePositiveExternalPort": 80, "Heartbeat": false, "MdbsProxyOn": false, "MdbsProxyHosts": "127.0.0.1:3307", "MdbsProxyUser": "admin", "MxsOn": true, "MxsHost": "192.168.100.50", "MxsPort": "3307", "MxsUser": "admin", "MxsPass": "mariadb", "MxsWritePort": 4007, "MxsReadPort": 4008, "MxsReadWritePort": 4006, "MxsMaxinfoPort": 3307, "MxsBinlogOn": false, "MxsBinlogPort": 3309, "MxsDisableMonitor": false, "MxsGetInfoMethod": "maxadmin", "MxsServerMatchPort": false, "HaproxyOn": false, "HaproxyWritePort": 3306, "HaproxyReadPort": 3307, "HaproxyStatPort": 1988, "HaproxyWriteBindIp": "0.0.0.0", "HaproxyReadBindIp": "0.0.0.0", "HaproxyBinaryPath": "/usr/sbin/haproxy", "KeyPath": "/etc/replication-manager/.replication-manager.key", "LogLevel": 0, "Test": true, "TestInjectTraffic": false, "Topology": "", "GraphiteMetrics": false, "GraphiteEmbedded": false, "GraphiteCarbonHost": "127.0.0.1", "GraphiteCarbonPort": 2003, "GraphiteCarbonApiPort": 10002, "GraphiteCarbonServerPort": 10003, "GraphiteCarbonLinkPort": 7002, "GraphiteCarbonPicklePort": 2004, "GraphiteCarbonPprofPort": 7007, "SysbenchBinaryPath": "/usr/local/bin/sysbench", "SysbenchTime": 60, "SysbenchThreads": 4, "MariaDBBinaryPath": "/usr/local/mysql/bin", "Arbitration": false, "ArbitrationSasSecret": "", "ArbitrationSasHosts": "88.191.151.84:80", "ArbitrationSasUniqueId": 0, "ArbitrationPeerHosts": "127.0.0.1:10002", "ReplicationSSL": false, "FailForceGtid": true, "RegTestStopCluster": false, "Enterprise": true, "ProvHost": "192.168.100.101:443", "ProvAdminUser": "root@localhost.localdomain:opensvc", "ProvUser": "replication-manager@localhost.localdomain:mariadb", "ProvType": "docker", "ProvAgents": "agent1,agent2", "ProvMem": "256", "ProvIops": "300", "ProvTags": "smallredolog,semisync,innodb,noquerycache,threadpool,logslow,multidomains", "ProvDisk": "1G", "ProvDiskFS": "zfs", "ProvDiskPool": "zpool", "ProvDiskDevice": "/srv", "ProvDiskType": "loopback", "ProvNetIface": "br0", "ProvNetmask": "255.255.255.0", "ProvGateway": "192.168.100.254", "ProvProxType": "docker", "ProvProxAgents": "agent2", "ProvProxDisk": "1G", "ProvProxDiskFS": "zfs", "ProvProxDiskPool": "zpool", "ProvProxDiskDevice": "/srv", "ProvProxDiskType": "loopback", "ProvProxNetIface": "br0", "ProvProxNetmask": "255.255.255.0", "ProvProxGateway": "192.168.100.254", "ProvMaxscaleVip": "", "ProvMdbshardproxyVip": "", "ProvHaproxyVip": "", "ProvWebsqlproxyVip": "", "ProvDbImg": "mariadb:10.2", "ProvProxImg": "asosso/maxscale:latest", "APIUser": "admin:mariadb", "APIPort": "3000", "ConfigFile": "././config/masterslave/mariadb/without_traffic/10.2/x2/multidomains/innodb/maxscale/latest/x1/replication-manager.conf" }, "config-test": { "WorkingDir": "/var/lib/replication-manager", "ShareDir": "/usr/local/share/mrm", "User": "root:mariadb", "Hosts": "192.168.100.70,192.168.100.71", "HostsTLSCA": "", "HostsTLSKEY": "", "HostsTLSCLI": "", "Socket": "", "RplUser": "root:mariadb", "Interactive": false, "Verbose": false, "PreScript": "", "PostScript": "", "RejoinScript": "", "PrefMaster": "192.168.100.70", "IgnoreSrv": "", "SwitchWaitKill": 5000, "SwitchWaitTrx": 10, "SwitchWaitWrite": 10, "SwitchGtidCheck": false, "SwitchSync": false, "SwitchMaxDelay": 0, "ReadOnly": true, "Autorejoin": true, "AutorejoinFlashback": true, "AutorejoinMysqldump": true, "AutorejoinBackupBinlog": true, "AutorejoinSemisync": true, "LogFile": "./config/masterslave/mariadb/without_traffic/10.2/x2/multidomains/innodb/maxscale/latest/x1/1.1.0-preview3-99-gc75a256/testFailoverSemisyncAutoRejoinUnsafeMSMXMS.log", "MonitoringTicker": 2, "Timeout": 1, "CheckType": "tcp", "CheckReplFilter": true, "CheckBinFilter": true, "ForceSlaveHeartbeat": false, "ForceSlaveHeartbeatTime": 3, "ForceSlaveHeartbeatRetry": 5, "ForceSlaveGtid": false, "ForceSlaveNoGtid": false, "ForceSlaveSemisync": true, "ForceSlaveReadOnly": true, "ForceBinlogRow": false, "ForceBinlogAnnotate": false, "ForceBinlogCompress": false, "ForceBinlogSlowqueries": false, "ForceBinlogChecksum": false, "ForceInmemoryBinlogCacheSize": false, "ForceDiskRelayLogSizeLimit": false, "ForceDiskRelayLogSizeLimitSize": 1000000000, "ForceSyncBinlog": true, "ForceSyncInnoDB": true, "ForceNoslaveBehind": false, "RplChecks": false, "MasterConn": "", "MultiMaster": false, "MultiTierSlave": false, "Spider": false, "BindAddr": "localhost", "HttpPort": "10001", "HttpServ": true, "HttpRoot": "../../dashboard", "HttpAuth": false, "HttpBootstrapButton": true, "SessionLifeTime": 3600, "Daemon": true, "MailFrom": "mrm@localhost", "MailTo": "", "MailSMTPAddr": "localhost:25", "MasterConnectRetry": 10, "FailLimit": 999, "FailTime": 0, "FailSync": false, "FailEventScheduler": false, "FailEventStatus": false, "FailRestartUnsafe": true, "MaxFail": 3, "FailResetTime": 300, "FailMaxDelay": 0, "CheckFalsePositiveHeartbeat": false, "CheckFalsePositiveMaxscale": false, "CheckFalsePositiveHeartbeatTimeout": 3, "CheckFalsePositiveMaxscaleTimeout": 14, "CheckFalsePositiveExternal": false, "CheckFalsePositiveExternalPort": 80, "Heartbeat": false, "MdbsProxyOn": false, "MdbsProxyHosts": "127.0.0.1:3307", "MdbsProxyUser": "admin", "MxsOn": true, "MxsHost": "192.168.100.50", "MxsPort": "3307", "MxsUser": "admin", "MxsPass": "mariadb", "MxsWritePort": 4007, "MxsReadPort": 4008, "MxsReadWritePort": 4006, "MxsMaxinfoPort": 3307, "MxsBinlogOn": false, "MxsBinlogPort": 3309, "MxsDisableMonitor": false, "MxsGetInfoMethod": "maxadmin", "MxsServerMatchPort": false, "HaproxyOn": false, "HaproxyWritePort": 3306, "HaproxyReadPort": 3307, "HaproxyStatPort": 1988, "HaproxyWriteBindIp": "0.0.0.0", "HaproxyReadBindIp": "0.0.0.0", "HaproxyBinaryPath": "/usr/sbin/haproxy", "KeyPath": "/etc/replication-manager/.replication-manager.key", "LogLevel": 0, "Test": true, "TestInjectTraffic": false, "Topology": "", "GraphiteMetrics": false, "GraphiteEmbedded": false, "GraphiteCarbonHost": "127.0.0.1", "GraphiteCarbonPort": 2003, "GraphiteCarbonApiPort": 10002, "GraphiteCarbonServerPort": 10003, "GraphiteCarbonLinkPort": 7002, "GraphiteCarbonPicklePort": 2004, "GraphiteCarbonPprofPort": 7007, "SysbenchBinaryPath": "/usr/local/bin/sysbench", "SysbenchTime": 60, "SysbenchThreads": 4, "MariaDBBinaryPath": "/usr/local/mysql/bin", "Arbitration": false, "ArbitrationSasSecret": "", "ArbitrationSasHosts": "88.191.151.84:80", "ArbitrationSasUniqueId": 0, "ArbitrationPeerHosts": "127.0.0.1:10002", "ReplicationSSL": false, "FailForceGtid": true, "RegTestStopCluster": false, "Enterprise": true, "ProvHost": "192.168.100.101:443", "ProvAdminUser": "root@localhost.localdomain:opensvc", "ProvUser": "replication-manager@localhost.localdomain:mariadb", "ProvType": "docker", "ProvAgents": "agent1,agent2", "ProvMem": "256", "ProvIops": "300", "ProvTags": "smallredolog,semisync,innodb,noquerycache,threadpool,logslow,multidomains", "ProvDisk": "1G", "ProvDiskFS": "zfs", "ProvDiskPool": "zpool", "ProvDiskDevice": "/srv", "ProvDiskType": "loopback", "ProvNetIface": "br0", "ProvNetmask": "255.255.255.0", "ProvGateway": "192.168.100.254", "ProvProxType": "docker", "ProvProxAgents": "agent2", "ProvProxDisk": "1G", "ProvProxDiskFS": "zfs", "ProvProxDiskPool": "zpool", "ProvProxDiskDevice": "/srv", "ProvProxDiskType": "loopback", "ProvProxNetIface": "br0", "ProvProxNetmask": "255.255.255.0", "ProvProxGateway": "192.168.100.254", "ProvMaxscaleVip": "", "ProvMdbshardproxyVip": "", "ProvHaproxyVip": "", "ProvWebsqlproxyVip": "", "ProvDbImg": "mariadb:10.2", "ProvProxImg": "asosso/maxscale:latest", "APIUser": "admin:mariadb", "APIPort": "3000", "ConfigFile": "././config/masterslave/mariadb/without_traffic/10.2/x2/multidomains/innodb/maxscale/latest/x1/replication-manager.conf" } }
,
{ "name": "testFailoverSemisyncAutoRejoinUnsafeMSMXXXMXMS", "result": "PASS", "config-file": "././config/masterslave/mariadb/without_traffic/10.2/x2/multidomains/innodb/maxscale/latest/x1/replication-manager.conf", "config-init": { "WorkingDir": "/var/lib/replication-manager", "ShareDir": "/usr/local/share/mrm", "User": "root:mariadb", "Hosts": "192.168.100.70,192.168.100.71", "HostsTLSCA": "", "HostsTLSKEY": "", "HostsTLSCLI": "", "Socket": "", "RplUser": "root:mariadb", "Interactive": false, "Verbose": false, "PreScript": "", "PostScript": "", "RejoinScript": "", "PrefMaster": "192.168.100.70", "IgnoreSrv": "", "SwitchWaitKill": 5000, "SwitchWaitTrx": 10, "SwitchWaitWrite": 10, "SwitchGtidCheck": false, "SwitchSync": false, "SwitchMaxDelay": 0, "ReadOnly": true, "Autorejoin": true, "AutorejoinFlashback": true, "AutorejoinMysqldump": true, "AutorejoinBackupBinlog": true, "AutorejoinSemisync": true, "LogFile": "./config/masterslave/mariadb/without_traffic/10.2/x2/multidomains/innodb/maxscale/latest/x1/1.1.0-preview3-99-gc75a256/testFailoverSemisyncAutoRejoinUnsafeMSMXXXMXMS.log", "MonitoringTicker": 2, "Timeout": 1, "CheckType": "tcp", "CheckReplFilter": true, "CheckBinFilter": true, "ForceSlaveHeartbeat": false, "ForceSlaveHeartbeatTime": 3, "ForceSlaveHeartbeatRetry": 5, "ForceSlaveGtid": false, "ForceSlaveNoGtid": false, "ForceSlaveSemisync": true, "ForceSlaveReadOnly": true, "ForceBinlogRow": false, "ForceBinlogAnnotate": false, "ForceBinlogCompress": false, "ForceBinlogSlowqueries": false, "ForceBinlogChecksum": false, "ForceInmemoryBinlogCacheSize": false, "ForceDiskRelayLogSizeLimit": false, "ForceDiskRelayLogSizeLimitSize": 1000000000, "ForceSyncBinlog": true, "ForceSyncInnoDB": true, "ForceNoslaveBehind": false, "RplChecks": true, "MasterConn": "", "MultiMaster": false, "MultiTierSlave": false, "Spider": false, "BindAddr": "localhost", "HttpPort": "10001", "HttpServ": true, "HttpRoot": "../../dashboard", "HttpAuth": false, "HttpBootstrapButton": true, "SessionLifeTime": 3600, "Daemon": true, "MailFrom": "mrm@localhost", "MailTo": "", "MailSMTPAddr": "localhost:25", "MasterConnectRetry": 10, "FailLimit": 999, "FailTime": 1, "FailSync": false, "FailEventScheduler": false, "FailEventStatus": false, "FailRestartUnsafe": false, "MaxFail": 3, "FailResetTime": 300, "FailMaxDelay": 0, "CheckFalsePositiveHeartbeat": false, "CheckFalsePositiveMaxscale": false, "CheckFalsePositiveHeartbeatTimeout": 3, "CheckFalsePositiveMaxscaleTimeout": 14, "CheckFalsePositiveExternal": false, "CheckFalsePositiveExternalPort": 80, "Heartbeat": false, "MdbsProxyOn": false, "MdbsProxyHosts": "127.0.0.1:3307", "MdbsProxyUser": "admin", "MxsOn": true, "MxsHost": "192.168.100.50", "MxsPort": "3307", "MxsUser": "admin", "MxsPass": "mariadb", "MxsWritePort": 4007, "MxsReadPort": 4008, "MxsReadWritePort": 4006, "MxsMaxinfoPort": 3307, "MxsBinlogOn": false, "MxsBinlogPort": 3309, "MxsDisableMonitor": false, "MxsGetInfoMethod": "maxadmin", "MxsServerMatchPort": false, "HaproxyOn": false, "HaproxyWritePort": 3306, "HaproxyReadPort": 3307, "HaproxyStatPort": 1988, "HaproxyWriteBindIp": "0.0.0.0", "HaproxyReadBindIp": "0.0.0.0", "HaproxyBinaryPath": "/usr/sbin/haproxy", "KeyPath": "/etc/replication-manager/.replication-manager.key", "LogLevel": 0, "Test": true, "TestInjectTraffic": false, "Topology": "", "GraphiteMetrics": false, "GraphiteEmbedded": false, "GraphiteCarbonHost": "127.0.0.1", "GraphiteCarbonPort": 2003, "GraphiteCarbonApiPort": 10002, "GraphiteCarbonServerPort": 10003, "GraphiteCarbonLinkPort": 7002, "GraphiteCarbonPicklePort": 2004, "GraphiteCarbonPprofPort": 7007, "SysbenchBinaryPath": "/usr/local/bin/sysbench", "SysbenchTime": 60, "SysbenchThreads": 4, "MariaDBBinaryPath": "/usr/local/mysql/bin", "Arbitration": false, "ArbitrationSasSecret": "", "ArbitrationSasHosts": "88.191.151.84:80", "ArbitrationSasUniqueId": 0, "ArbitrationPeerHosts": "127.0.0.1:10002", "ReplicationSSL": false, "FailForceGtid": true, "RegTestStopCluster": false, "Enterprise": true, "ProvHost": "192.168.100.101:443", "ProvAdminUser": "root@localhost.localdomain:opensvc", "ProvUser": "replication-manager@localhost.localdomain:mariadb", "ProvType": "docker", "ProvAgents": "agent1,agent2", "ProvMem": "256", "ProvIops": "300", "ProvTags": "smallredolog,semisync,innodb,noquerycache,threadpool,logslow,multidomains", "ProvDisk": "1G", "ProvDiskFS": "zfs", "ProvDiskPool": "zpool", "ProvDiskDevice": "/srv", "ProvDiskType": "loopback", "ProvNetIface": "br0", "ProvNetmask": "255.255.255.0", "ProvGateway": "192.168.100.254", "ProvProxType": "docker", "ProvProxAgents": "agent2", "ProvProxDisk": "1G", "ProvProxDiskFS": "zfs", "ProvProxDiskPool": "zpool", "ProvProxDiskDevice": "/srv", "ProvProxDiskType": "loopback", "ProvProxNetIface": "br0", "ProvProxNetmask": "255.255.255.0", "ProvProxGateway": "192.168.100.254", "ProvMaxscaleVip": "", "ProvMdbshardproxyVip": "", "ProvHaproxyVip": "", "ProvWebsqlproxyVip": "", "ProvDbImg": "mariadb:10.2", "ProvProxImg": "asosso/maxscale:latest", "APIUser": "admin:mariadb", "APIPort": "3000", "ConfigFile": "././config/masterslave/mariadb/without_traffic/10.2/x2/multidomains/innodb/maxscale/latest/x1/replication-manager.conf" }, "config-test": { "WorkingDir": "/var/lib/replication-manager", "ShareDir": "/usr/local/share/mrm", "User": "root:mariadb", "Hosts": "192.168.100.70,192.168.100.71", "HostsTLSCA": "", "HostsTLSKEY": "", "HostsTLSCLI": "", "Socket": "", "RplUser": "root:mariadb", "Interactive": false, "Verbose": false, "PreScript": "", "PostScript": "", "RejoinScript": "", "PrefMaster": "192.168.100.70", "IgnoreSrv": "", "SwitchWaitKill": 5000, "SwitchWaitTrx": 10, "SwitchWaitWrite": 10, "SwitchGtidCheck": false, "SwitchSync": false, "SwitchMaxDelay": 0, "ReadOnly": true, "Autorejoin": true, "AutorejoinFlashback": true, "AutorejoinMysqldump": true, "AutorejoinBackupBinlog": true, "AutorejoinSemisync": true, "LogFile": "./config/masterslave/mariadb/without_traffic/10.2/x2/multidomains/innodb/maxscale/latest/x1/1.1.0-preview3-99-gc75a256/testFailoverSemisyncAutoRejoinUnsafeMSMXXXMXMS.log", "MonitoringTicker": 2, "Timeout": 1, "CheckType": "tcp", "CheckReplFilter": true, "CheckBinFilter": true, "ForceSlaveHeartbeat": false, "ForceSlaveHeartbeatTime": 3, "ForceSlaveHeartbeatRetry": 5, "ForceSlaveGtid": false, "ForceSlaveNoGtid": false, "ForceSlaveSemisync": true, "ForceSlaveReadOnly": true, "ForceBinlogRow": false, "ForceBinlogAnnotate": false, "ForceBinlogCompress": false, "ForceBinlogSlowqueries": false, "ForceBinlogChecksum": false, "ForceInmemoryBinlogCacheSize": false, "ForceDiskRelayLogSizeLimit": false, "ForceDiskRelayLogSizeLimitSize": 1000000000, "ForceSyncBinlog": true, "ForceSyncInnoDB": true, "ForceNoslaveBehind": false, "RplChecks": false, "MasterConn": "", "MultiMaster": false, "MultiTierSlave": false, "Spider": false, "BindAddr": "localhost", "HttpPort": "10001", "HttpServ": true, "HttpRoot": "../../dashboard", "HttpAuth": false, "HttpBootstrapButton": true, "SessionLifeTime": 3600, "Daemon": true, "MailFrom": "mrm@localhost", "MailTo": "", "MailSMTPAddr": "localhost:25", "MasterConnectRetry": 10, "FailLimit": 999, "FailTime": 0, "FailSync": false, "FailEventScheduler": false, "FailEventStatus": false, "FailRestartUnsafe": true, "MaxFail": 3, "FailResetTime": 300, "FailMaxDelay": 0, "CheckFalsePositiveHeartbeat": false, "CheckFalsePositiveMaxscale": false, "CheckFalsePositiveHeartbeatTimeout": 3, "CheckFalsePositiveMaxscaleTimeout": 14, "CheckFalsePositiveExternal": false, "CheckFalsePositiveExternalPort": 80, "Heartbeat": false, "MdbsProxyOn": false, "MdbsProxyHosts": "127.0.0.1:3307", "MdbsProxyUser": "admin", "MxsOn": true, "MxsHost": "192.168.100.50", "MxsPort": "3307", "MxsUser": "admin", "MxsPass": "mariadb", "MxsWritePort": 4007, "MxsReadPort": 4008, "MxsReadWritePort": 4006, "MxsMaxinfoPort": 3307, "MxsBinlogOn": false, "MxsBinlogPort": 3309, "MxsDisableMonitor": false, "MxsGetInfoMethod": "maxadmin", "MxsServerMatchPort": false, "HaproxyOn": false, "HaproxyWritePort": 3306, "HaproxyReadPort": 3307, "HaproxyStatPort": 1988, "HaproxyWriteBindIp": "0.0.0.0", "HaproxyReadBindIp": "0.0.0.0", "HaproxyBinaryPath": "/usr/sbin/haproxy", "KeyPath": "/etc/replication-manager/.replication-manager.key", "LogLevel": 0, "Test": true, "TestInjectTraffic": false, "Topology": "", "GraphiteMetrics": false, "GraphiteEmbedded": false, "GraphiteCarbonHost": "127.0.0.1", "GraphiteCarbonPort": 2003, "GraphiteCarbonApiPort": 10002, "GraphiteCarbonServerPort": 10003, "GraphiteCarbonLinkPort": 7002, "GraphiteCarbonPicklePort": 2004, "GraphiteCarbonPprofPort": 7007, "SysbenchBinaryPath": "/usr/local/bin/sysbench", "SysbenchTime": 60, "SysbenchThreads": 4, "MariaDBBinaryPath": "/usr/local/mysql/bin", "Arbitration": false, "ArbitrationSasSecret": "", "ArbitrationSasHosts": "88.191.151.84:80", "ArbitrationSasUniqueId": 0, "ArbitrationPeerHosts": "127.0.0.1:10002", "ReplicationSSL": false, "FailForceGtid": true, "RegTestStopCluster": false, "Enterprise": true, "ProvHost": "192.168.100.101:443", "ProvAdminUser": "root@localhost.localdomain:opensvc", "ProvUser": "replication-manager@localhost.localdomain:mariadb", "ProvType": "docker", "ProvAgents": "agent1,agent2", "ProvMem": "256", "ProvIops": "300", "ProvTags": "smallredolog,semisync,innodb,noquerycache,threadpool,logslow,multidomains", "ProvDisk": "1G", "ProvDiskFS": "zfs", "ProvDiskPool": "zpool", "ProvDiskDevice": "/srv", "ProvDiskType": "loopback", "ProvNetIface": "br0", "ProvNetmask": "255.255.255.0", "ProvGateway": "192.168.100.254", "ProvProxType": "docker", "ProvProxAgents": "agent2", "ProvProxDisk": "1G", "ProvProxDiskFS": "zfs", "ProvProxDiskPool": "zpool", "ProvProxDiskDevice": "/srv", "ProvProxDiskType": "loopback", "ProvProxNetIface": "br0", "ProvProxNetmask": "255.255.255.0", "ProvProxGateway": "192.168.100.254", "ProvMaxscaleVip": "", "ProvMdbshardproxyVip": "", "ProvHaproxyVip": "", "ProvWebsqlproxyVip": "", "ProvDbImg": "mariadb:10.2", "ProvProxImg": "asosso/maxscale:latest", "APIUser": "admin:mariadb", "APIPort": "3000", "ConfigFile": "././config/masterslave/mariadb/without_traffic/10.2/x2/multidomains/innodb/maxscale/latest/x1/replication-manager.conf" } }
,
{ "name": "testFailoverSemisyncAutoRejoinUnsafeMSMXXXXMSM", "result": "PASS", "config-file": "././config/masterslave/mariadb/without_traffic/10.2/x2/multidomains/innodb/maxscale/latest/x1/replication-manager.conf", "config-init": { "WorkingDir": "/var/lib/replication-manager", "ShareDir": "/usr/local/share/mrm", "User": "root:mariadb", "Hosts": "192.168.100.70,192.168.100.71", "HostsTLSCA": "", "HostsTLSKEY": "", "HostsTLSCLI": "", "Socket": "", "RplUser": "root:mariadb", "Interactive": false, "Verbose": false, "PreScript": "", "PostScript": "", "RejoinScript": "", "PrefMaster": "192.168.100.70", "IgnoreSrv": "", "SwitchWaitKill": 5000, "SwitchWaitTrx": 10, "SwitchWaitWrite": 10, "SwitchGtidCheck": false, "SwitchSync": false, "SwitchMaxDelay": 0, "ReadOnly": true, "Autorejoin": true, "AutorejoinFlashback": true, "AutorejoinMysqldump": true, "AutorejoinBackupBinlog": true, "AutorejoinSemisync": true, "LogFile": "./config/masterslave/mariadb/without_traffic/10.2/x2/multidomains/innodb/maxscale/latest/x1/1.1.0-preview3-99-gc75a256/testFailoverSemisyncAutoRejoinUnsafeMSMXXXXMSM.log", "MonitoringTicker": 2, "Timeout": 1, "CheckType": "tcp", "CheckReplFilter": true, "CheckBinFilter": true, "ForceSlaveHeartbeat": false, "ForceSlaveHeartbeatTime": 3, "ForceSlaveHeartbeatRetry": 5, "ForceSlaveGtid": false, "ForceSlaveNoGtid": false, "ForceSlaveSemisync": true, "ForceSlaveReadOnly": true, "ForceBinlogRow": false, "ForceBinlogAnnotate": false, "ForceBinlogCompress": false, "ForceBinlogSlowqueries": false, "ForceBinlogChecksum": false, "ForceInmemoryBinlogCacheSize": false, "ForceDiskRelayLogSizeLimit": false, "ForceDiskRelayLogSizeLimitSize": 1000000000, "ForceSyncBinlog": true, "ForceSyncInnoDB": true, "ForceNoslaveBehind": false, "RplChecks": true, "MasterConn": "", "MultiMaster": false, "MultiTierSlave": false, "Spider": false, "BindAddr": "localhost", "HttpPort": "10001", "HttpServ": true, "HttpRoot": "../../dashboard", "HttpAuth": false, "HttpBootstrapButton": true, "SessionLifeTime": 3600, "Daemon": true, "MailFrom": "mrm@localhost", "MailTo": "", "MailSMTPAddr": "localhost:25", "MasterConnectRetry": 10, "FailLimit": 999, "FailTime": 1, "FailSync": false, "FailEventScheduler": false, "FailEventStatus": false, "FailRestartUnsafe": false, "MaxFail": 3, "FailResetTime": 300, "FailMaxDelay": 0, "CheckFalsePositiveHeartbeat": false, "CheckFalsePositiveMaxscale": false, "CheckFalsePositiveHeartbeatTimeout": 3, "CheckFalsePositiveMaxscaleTimeout": 14, "CheckFalsePositiveExternal": false, "CheckFalsePositiveExternalPort": 80, "Heartbeat": false, "MdbsProxyOn": false, "MdbsProxyHosts": "127.0.0.1:3307", "MdbsProxyUser": "admin", "MxsOn": true, "MxsHost": "192.168.100.50", "MxsPort": "3307", "MxsUser": "admin", "MxsPass": "mariadb", "MxsWritePort": 4007, "MxsReadPort": 4008, "MxsReadWritePort": 4006, "MxsMaxinfoPort": 3307, "MxsBinlogOn": false, "MxsBinlogPort": 3309, "MxsDisableMonitor": false, "MxsGetInfoMethod": "maxadmin", "MxsServerMatchPort": false, "HaproxyOn": false, "HaproxyWritePort": 3306, "HaproxyReadPort": 3307, "HaproxyStatPort": 1988, "HaproxyWriteBindIp": "0.0.0.0", "HaproxyReadBindIp": "0.0.0.0", "HaproxyBinaryPath": "/usr/sbin/haproxy", "KeyPath": "/etc/replication-manager/.replication-manager.key", "LogLevel": 0, "Test": true, "TestInjectTraffic": false, "Topology": "", "GraphiteMetrics": false, "GraphiteEmbedded": false, "GraphiteCarbonHost": "127.0.0.1", "GraphiteCarbonPort": 2003, "GraphiteCarbonApiPort": 10002, "GraphiteCarbonServerPort": 10003, "GraphiteCarbonLinkPort": 7002, "GraphiteCarbonPicklePort": 2004, "GraphiteCarbonPprofPort": 7007, "SysbenchBinaryPath": "/usr/local/bin/sysbench", "SysbenchTime": 60, "SysbenchThreads": 4, "MariaDBBinaryPath": "/usr/local/mysql/bin", "Arbitration": false, "ArbitrationSasSecret": "", "ArbitrationSasHosts": "88.191.151.84:80", "ArbitrationSasUniqueId": 0, "ArbitrationPeerHosts": "127.0.0.1:10002", "ReplicationSSL": false, "FailForceGtid": true, "RegTestStopCluster": false, "Enterprise": true, "ProvHost": "192.168.100.101:443", "ProvAdminUser": "root@localhost.localdomain:opensvc", "ProvUser": "replication-manager@localhost.localdomain:mariadb", "ProvType": "docker", "ProvAgents": "agent1,agent2", "ProvMem": "256", "ProvIops": "300", "ProvTags": "smallredolog,semisync,innodb,noquerycache,threadpool,logslow,multidomains", "ProvDisk": "1G", "ProvDiskFS": "zfs", "ProvDiskPool": "zpool", "ProvDiskDevice": "/srv", "ProvDiskType": "loopback", "ProvNetIface": "br0", "ProvNetmask": "255.255.255.0", "ProvGateway": "192.168.100.254", "ProvProxType": "docker", "ProvProxAgents": "agent2", "ProvProxDisk": "1G", "ProvProxDiskFS": "zfs", "ProvProxDiskPool": "zpool", "ProvProxDiskDevice": "/srv", "ProvProxDiskType": "loopback", "ProvProxNetIface": "br0", "ProvProxNetmask": "255.255.255.0", "ProvProxGateway": "192.168.100.254", "ProvMaxscaleVip": "", "ProvMdbshardproxyVip": "", "ProvHaproxyVip": "", "ProvWebsqlproxyVip": "", "ProvDbImg": "mariadb:10.2", "ProvProxImg": "asosso/maxscale:latest", "APIUser": "admin:mariadb", "APIPort": "3000", "ConfigFile": "././config/masterslave/mariadb/without_traffic/10.2/x2/multidomains/innodb/maxscale/latest/x1/replication-manager.conf" }, "config-test": { "WorkingDir": "/var/lib/replication-manager", "ShareDir": "/usr/local/share/mrm", "User": "root:mariadb", "Hosts": "192.168.100.70,192.168.100.71", "HostsTLSCA": "", "HostsTLSKEY": "", "HostsTLSCLI": "", "Socket": "", "RplUser": "root:mariadb", "Interactive": false, "Verbose": false, "PreScript": "", "PostScript": "", "RejoinScript": "", "PrefMaster": "192.168.100.70", "IgnoreSrv": "", "SwitchWaitKill": 5000, "SwitchWaitTrx": 10, "SwitchWaitWrite": 10, "SwitchGtidCheck": false, "SwitchSync": false, "SwitchMaxDelay": 0, "ReadOnly": true, "Autorejoin": true, "AutorejoinFlashback": true, "AutorejoinMysqldump": true, "AutorejoinBackupBinlog": true, "AutorejoinSemisync": true, "LogFile": "./config/masterslave/mariadb/without_traffic/10.2/x2/multidomains/innodb/maxscale/latest/x1/1.1.0-preview3-99-gc75a256/testFailoverSemisyncAutoRejoinUnsafeMSMXXXXMSM.log", "MonitoringTicker": 2, "Timeout": 1, "CheckType": "tcp", "CheckReplFilter": true, "CheckBinFilter": true, "ForceSlaveHeartbeat": false, "ForceSlaveHeartbeatTime": 3, "ForceSlaveHeartbeatRetry": 5, "ForceSlaveGtid": false, "ForceSlaveNoGtid": false, "ForceSlaveSemisync": true, "ForceSlaveReadOnly": true, "ForceBinlogRow": false, "ForceBinlogAnnotate": false, "ForceBinlogCompress": false, "ForceBinlogSlowqueries": false, "ForceBinlogChecksum": false, "ForceInmemoryBinlogCacheSize": false, "ForceDiskRelayLogSizeLimit": false, "ForceDiskRelayLogSizeLimitSize": 1000000000, "ForceSyncBinlog": true, "ForceSyncInnoDB": true, "ForceNoslaveBehind": false, "RplChecks": false, "MasterConn": "", "MultiMaster": false, "MultiTierSlave": false, "Spider": false, "BindAddr": "localhost", "HttpPort": "10001", "HttpServ": true, "HttpRoot": "../../dashboard", "HttpAuth": false, "HttpBootstrapButton": true, "SessionLifeTime": 3600, "Daemon": true, "MailFrom": "mrm@localhost", "MailTo": "", "MailSMTPAddr": "localhost:25", "MasterConnectRetry": 10, "FailLimit": 999, "FailTime": 0, "FailSync": false, "FailEventScheduler": false, "FailEventStatus": false, "FailRestartUnsafe": true, "MaxFail": 3, "FailResetTime": 300, "FailMaxDelay": 0, "CheckFalsePositiveHeartbeat": false, "CheckFalsePositiveMaxscale": false, "CheckFalsePositiveHeartbeatTimeout": 3, "CheckFalsePositiveMaxscaleTimeout": 14, "CheckFalsePositiveExternal": false, "CheckFalsePositiveExternalPort": 80, "Heartbeat": false, "MdbsProxyOn": false, "MdbsProxyHosts": "127.0.0.1:3307", "MdbsProxyUser": "admin", "MxsOn": true, "MxsHost": "192.168.100.50", "MxsPort": "3307", "MxsUser": "admin", "MxsPass": "mariadb", "MxsWritePort": 4007, "MxsReadPort": 4008, "MxsReadWritePort": 4006, "MxsMaxinfoPort": 3307, "MxsBinlogOn": false, "MxsBinlogPort": 3309, "MxsDisableMonitor": false, "MxsGetInfoMethod": "maxadmin", "MxsServerMatchPort": false, "HaproxyOn": false, "HaproxyWritePort": 3306, "HaproxyReadPort": 3307, "HaproxyStatPort": 1988, "HaproxyWriteBindIp": "0.0.0.0", "HaproxyReadBindIp": "0.0.0.0", "HaproxyBinaryPath": "/usr/sbin/haproxy", "KeyPath": "/etc/replication-manager/.replication-manager.key", "LogLevel": 0, "Test": true, "TestInjectTraffic": false, "Topology": "", "GraphiteMetrics": false, "GraphiteEmbedded": false, "GraphiteCarbonHost": "127.0.0.1", "GraphiteCarbonPort": 2003, "GraphiteCarbonApiPort": 10002, "GraphiteCarbonServerPort": 10003, "GraphiteCarbonLinkPort": 7002, "GraphiteCarbonPicklePort": 2004, "GraphiteCarbonPprofPort": 7007, "SysbenchBinaryPath": "/usr/local/bin/sysbench", "SysbenchTime": 60, "SysbenchThreads": 4, "MariaDBBinaryPath": "/usr/local/mysql/bin", "Arbitration": false, "ArbitrationSasSecret": "", "ArbitrationSasHosts": "88.191.151.84:80", "ArbitrationSasUniqueId": 0, "ArbitrationPeerHosts": "127.0.0.1:10002", "ReplicationSSL": false, "FailForceGtid": true, "RegTestStopCluster": false, "Enterprise": true, "ProvHost": "192.168.100.101:443", "ProvAdminUser": "root@localhost.localdomain:opensvc", "ProvUser": "replication-manager@localhost.localdomain:mariadb", "ProvType": "docker", "ProvAgents": "agent1,agent2", "ProvMem": "256", "ProvIops": "300", "ProvTags": "smallredolog,semisync,innodb,noquerycache,threadpool,logslow,multidomains", "ProvDisk": "1G", "ProvDiskFS": "zfs", "ProvDiskPool": "zpool", "ProvDiskDevice": "/srv", "ProvDiskType": "loopback", "ProvNetIface": "br0", "ProvNetmask": "255.255.255.0", "ProvGateway": "192.168.100.254", "ProvProxType": "docker", "ProvProxAgents": "agent2", "ProvProxDisk": "1G", "ProvProxDiskFS": "zfs", "ProvProxDiskPool": "zpool", "ProvProxDiskDevice": "/srv", "ProvProxDiskType": "loopback", "ProvProxNetIface": "br0", "ProvProxNetmask": "255.255.255.0", "ProvProxGateway": "192.168.100.254", "ProvMaxscaleVip": "", "ProvMdbshardproxyVip": "", "ProvHaproxyVip": "", "ProvWebsqlproxyVip": "", "ProvDbImg": "mariadb:10.2", "ProvProxImg": "asosso/maxscale:latest", "APIUser": "admin:mariadb", "APIPort": "3000", "ConfigFile": "././config/masterslave/mariadb/without_traffic/10.2/x2/multidomains/innodb/maxscale/latest/x1/replication-manager.conf" } }
,
{ "name": "testFailoverSemisyncAutoRejoinUnsafeMSXMSM", "result": "PASS", "config-file": "././config/masterslave/mariadb/without_traffic/10.2/x2/multidomains/innodb/maxscale/latest/x1/replication-manager.conf", "config-init": { "WorkingDir": "/var/lib/replication-manager", "ShareDir": "/usr/local/share/mrm", "User": "root:mariadb", "Hosts": "192.168.100.70,192.168.100.71", "HostsTLSCA": "", "HostsTLSKEY": "", "HostsTLSCLI": "", "Socket": "", "RplUser": "root:mariadb", "Interactive": false, "Verbose": false, "PreScript": "", "PostScript": "", "RejoinScript": "", "PrefMaster": "192.168.100.70", "IgnoreSrv": "", "SwitchWaitKill": 5000, "SwitchWaitTrx": 10, "SwitchWaitWrite": 10, "SwitchGtidCheck": false, "SwitchSync": false, "SwitchMaxDelay": 0, "ReadOnly": true, "Autorejoin": true, "AutorejoinFlashback": true, "AutorejoinMysqldump": true, "AutorejoinBackupBinlog": true, "AutorejoinSemisync": true, "LogFile": "./config/masterslave/mariadb/without_traffic/10.2/x2/multidomains/innodb/maxscale/latest/x1/1.1.0-preview3-99-gc75a256/testFailoverSemisyncAutoRejoinUnsafeMSXMSM.log", "MonitoringTicker": 2, "Timeout": 1, "CheckType": "tcp", "CheckReplFilter": true, "CheckBinFilter": true, "ForceSlaveHeartbeat": false, "ForceSlaveHeartbeatTime": 3, "ForceSlaveHeartbeatRetry": 5, "ForceSlaveGtid": false, "ForceSlaveNoGtid": false, "ForceSlaveSemisync": true, "ForceSlaveReadOnly": true, "ForceBinlogRow": false, "ForceBinlogAnnotate": false, "ForceBinlogCompress": false, "ForceBinlogSlowqueries": false, "ForceBinlogChecksum": false, "ForceInmemoryBinlogCacheSize": false, "ForceDiskRelayLogSizeLimit": false, "ForceDiskRelayLogSizeLimitSize": 1000000000, "ForceSyncBinlog": true, "ForceSyncInnoDB": true, "ForceNoslaveBehind": false, "RplChecks": true, "MasterConn": "", "MultiMaster": false, "MultiTierSlave": false, "Spider": false, "BindAddr": "localhost", "HttpPort": "10001", "HttpServ": true, "HttpRoot": "../../dashboard", "HttpAuth": false, "HttpBootstrapButton": true, "SessionLifeTime": 3600, "Daemon": true, "MailFrom": "mrm@localhost", "MailTo": "", "MailSMTPAddr": "localhost:25", "MasterConnectRetry": 10, "FailLimit": 999, "FailTime": 1, "FailSync": false, "FailEventScheduler": false, "FailEventStatus": false, "FailRestartUnsafe": false, "MaxFail": 3, "FailResetTime": 300, "FailMaxDelay": 0, "CheckFalsePositiveHeartbeat": false, "CheckFalsePositiveMaxscale": false, "CheckFalsePositiveHeartbeatTimeout": 3, "CheckFalsePositiveMaxscaleTimeout": 14, "CheckFalsePositiveExternal": false, "CheckFalsePositiveExternalPort": 80, "Heartbeat": false, "MdbsProxyOn": false, "MdbsProxyHosts": "127.0.0.1:3307", "MdbsProxyUser": "admin", "MxsOn": true, "MxsHost": "192.168.100.50", "MxsPort": "3307", "MxsUser": "admin", "MxsPass": "mariadb", "MxsWritePort": 4007, "MxsReadPort": 4008, "MxsReadWritePort": 4006, "MxsMaxinfoPort": 3307, "MxsBinlogOn": false, "MxsBinlogPort": 3309, "MxsDisableMonitor": false, "MxsGetInfoMethod": "maxadmin", "MxsServerMatchPort": false, "HaproxyOn": false, "HaproxyWritePort": 3306, "HaproxyReadPort": 3307, "HaproxyStatPort": 1988, "HaproxyWriteBindIp": "0.0.0.0", "HaproxyReadBindIp": "0.0.0.0", "HaproxyBinaryPath": "/usr/sbin/haproxy", "KeyPath": "/etc/replication-manager/.replication-manager.key", "LogLevel": 0, "Test": true, "TestInjectTraffic": false, "Topology": "", "GraphiteMetrics": false, "GraphiteEmbedded": false, "GraphiteCarbonHost": "127.0.0.1", "GraphiteCarbonPort": 2003, "GraphiteCarbonApiPort": 10002, "GraphiteCarbonServerPort": 10003, "GraphiteCarbonLinkPort": 7002, "GraphiteCarbonPicklePort": 2004, "GraphiteCarbonPprofPort": 7007, "SysbenchBinaryPath": "/usr/local/bin/sysbench", "SysbenchTime": 60, "SysbenchThreads": 4, "MariaDBBinaryPath": "/usr/local/mysql/bin", "Arbitration": false, "ArbitrationSasSecret": "", "ArbitrationSasHosts": "88.191.151.84:80", "ArbitrationSasUniqueId": 0, "ArbitrationPeerHosts": "127.0.0.1:10002", "ReplicationSSL": false, "FailForceGtid": true, "RegTestStopCluster": false, "Enterprise": true, "ProvHost": "192.168.100.101:443", "ProvAdminUser": "root@localhost.localdomain:opensvc", "ProvUser": "replication-manager@localhost.localdomain:mariadb", "ProvType": "docker", "ProvAgents": "agent1,agent2", "ProvMem": "256", "ProvIops": "300", "ProvTags": "smallredolog,semisync,innodb,noquerycache,threadpool,logslow,multidomains", "ProvDisk": "1G", "ProvDiskFS": "zfs", "ProvDiskPool": "zpool", "ProvDiskDevice": "/srv", "ProvDiskType": "loopback", "ProvNetIface": "br0", "ProvNetmask": "255.255.255.0", "ProvGateway": "192.168.100.254", "ProvProxType": "docker", "ProvProxAgents": "agent2", "ProvProxDisk": "1G", "ProvProxDiskFS": "zfs", "ProvProxDiskPool": "zpool", "ProvProxDiskDevice": "/srv", "ProvProxDiskType": "loopback", "ProvProxNetIface": "br0", "ProvProxNetmask": "255.255.255.0", "ProvProxGateway": "192.168.100.254", "ProvMaxscaleVip": "", "ProvMdbshardproxyVip": "", "ProvHaproxyVip": "", "ProvWebsqlproxyVip": "", "ProvDbImg": "mariadb:10.2", "ProvProxImg": "asosso/maxscale:latest", "APIUser": "admin:mariadb", "APIPort": "3000", "ConfigFile": "././config/masterslave/mariadb/without_traffic/10.2/x2/multidomains/innodb/maxscale/latest/x1/replication-manager.conf" }, "config-test": { "WorkingDir": "/var/lib/replication-manager", "ShareDir": "/usr/local/share/mrm", "User": "root:mariadb", "Hosts": "192.168.100.70,192.168.100.71", "HostsTLSCA": "", "HostsTLSKEY": "", "HostsTLSCLI": "", "Socket": "", "RplUser": "root:mariadb", "Interactive": false, "Verbose": false, "PreScript": "", "PostScript": "", "RejoinScript": "", "PrefMaster": "192.168.100.70", "IgnoreSrv": "", "SwitchWaitKill": 5000, "SwitchWaitTrx": 10, "SwitchWaitWrite": 10, "SwitchGtidCheck": false, "SwitchSync": false, "SwitchMaxDelay": 0, "ReadOnly": true, "Autorejoin": true, "AutorejoinFlashback": true, "AutorejoinMysqldump": true, "AutorejoinBackupBinlog": true, "AutorejoinSemisync": true, "LogFile": "./config/masterslave/mariadb/without_traffic/10.2/x2/multidomains/innodb/maxscale/latest/x1/1.1.0-preview3-99-gc75a256/testFailoverSemisyncAutoRejoinUnsafeMSXMSM.log", "MonitoringTicker": 2, "Timeout": 1, "CheckType": "tcp", "CheckReplFilter": true, "CheckBinFilter": true, "ForceSlaveHeartbeat": false, "ForceSlaveHeartbeatTime": 3, "ForceSlaveHeartbeatRetry": 5, "ForceSlaveGtid": false, "ForceSlaveNoGtid": false, "ForceSlaveSemisync": true, "ForceSlaveReadOnly": true, "ForceBinlogRow": false, "ForceBinlogAnnotate": false, "ForceBinlogCompress": false, "ForceBinlogSlowqueries": false, "ForceBinlogChecksum": false, "ForceInmemoryBinlogCacheSize": false, "ForceDiskRelayLogSizeLimit": false, "ForceDiskRelayLogSizeLimitSize": 1000000000, "ForceSyncBinlog": true, "ForceSyncInnoDB": true, "ForceNoslaveBehind": false, "RplChecks": false, "MasterConn": "", "MultiMaster": false, "MultiTierSlave": false, "Spider": false, "BindAddr": "localhost", "HttpPort": "10001", "HttpServ": true, "HttpRoot": "../../dashboard", "HttpAuth": false, "HttpBootstrapButton": true, "SessionLifeTime": 3600, "Daemon": true, "MailFrom": "mrm@localhost", "MailTo": "", "MailSMTPAddr": "localhost:25", "MasterConnectRetry": 10, "FailLimit": 999, "FailTime": 0, "FailSync": false, "FailEventScheduler": false, "FailEventStatus": false, "FailRestartUnsafe": true, "MaxFail": 3, "FailResetTime": 300, "FailMaxDelay": 0, "CheckFalsePositiveHeartbeat": false, "CheckFalsePositiveMaxscale": false, "CheckFalsePositiveHeartbeatTimeout": 3, "CheckFalsePositiveMaxscaleTimeout": 14, "CheckFalsePositiveExternal": false, "CheckFalsePositiveExternalPort": 80, "Heartbeat": false, "MdbsProxyOn": false, "MdbsProxyHosts": "127.0.0.1:3307", "MdbsProxyUser": "admin", "MxsOn": true, "MxsHost": "192.168.100.50", "MxsPort": "3307", "MxsUser": "admin", "MxsPass": "mariadb", "MxsWritePort": 4007, "MxsReadPort": 4008, "MxsReadWritePort": 4006, "MxsMaxinfoPort": 3307, "MxsBinlogOn": false, "MxsBinlogPort": 3309, "MxsDisableMonitor": false, "MxsGetInfoMethod": "maxadmin", "MxsServerMatchPort": false, "HaproxyOn": false, "HaproxyWritePort": 3306, "HaproxyReadPort": 3307, "HaproxyStatPort": 1988, "HaproxyWriteBindIp": "0.0.0.0", "HaproxyReadBindIp": "0.0.0.0", "HaproxyBinaryPath": "/usr/sbin/haproxy", "KeyPath": "/etc/replication-manager/.replication-manager.key", "LogLevel": 0, "Test": true, "TestInjectTraffic": false, "Topology": "", "GraphiteMetrics": false, "GraphiteEmbedded": false, "GraphiteCarbonHost": "127.0.0.1", "GraphiteCarbonPort": 2003, "GraphiteCarbonApiPort": 10002, "GraphiteCarbonServerPort": 10003, "GraphiteCarbonLinkPort": 7002, "GraphiteCarbonPicklePort": 2004, "GraphiteCarbonPprofPort": 7007, "SysbenchBinaryPath": "/usr/local/bin/sysbench", "SysbenchTime": 60, "SysbenchThreads": 4, "MariaDBBinaryPath": "/usr/local/mysql/bin", "Arbitration": false, "ArbitrationSasSecret": "", "ArbitrationSasHosts": "88.191.151.84:80", "ArbitrationSasUniqueId": 0, "ArbitrationPeerHosts": "127.0.0.1:10002", "ReplicationSSL": false, "FailForceGtid": true, "RegTestStopCluster": false, "Enterprise": true, "ProvHost": "192.168.100.101:443", "ProvAdminUser": "root@localhost.localdomain:opensvc", "ProvUser": "replication-manager@localhost.localdomain:mariadb", "ProvType": "docker", "ProvAgents": "agent1,agent2", "ProvMem": "256", "ProvIops": "300", "ProvTags": "smallredolog,semisync,innodb,noquerycache,threadpool,logslow,multidomains", "ProvDisk": "1G", "ProvDiskFS": "zfs", "ProvDiskPool": "zpool", "ProvDiskDevice": "/srv", "ProvDiskType": "loopback", "ProvNetIface": "br0", "ProvNetmask": "255.255.255.0", "ProvGateway": "192.168.100.254", "ProvProxType": "docker", "ProvProxAgents": "agent2", "ProvProxDisk": "1G", "ProvProxDiskFS": "zfs", "ProvProxDiskPool": "zpool", "ProvProxDiskDevice": "/srv", "ProvProxDiskType": "loopback", "ProvProxNetIface": "br0", "ProvProxNetmask": "255.255.255.0", "ProvProxGateway": "192.168.100.254", "ProvMaxscaleVip": "", "ProvMdbshardproxyVip": "", "ProvHaproxyVip": "", "ProvWebsqlproxyVip": "", "ProvDbImg": "mariadb:10.2", "ProvProxImg": "asosso/maxscale:latest", "APIUser": "admin:mariadb", "APIPort": "3000", "ConfigFile": "././config/masterslave/mariadb/without_traffic/10.2/x2/multidomains/innodb/maxscale/latest/x1/replication-manager.conf" } }
,
{ "name": "testFailoverSemisyncAutoRejoinUnsafeMSXMXXMXMS", "result": "PASS", "config-file": "././config/masterslave/mariadb/without_traffic/10.2/x2/multidomains/innodb/maxscale/latest/x1/replication-manager.conf", "config-init": { "WorkingDir": "/var/lib/replication-manager", "ShareDir": "/usr/local/share/mrm", "User": "root:mariadb", "Hosts": "192.168.100.70,192.168.100.71", "HostsTLSCA": "", "HostsTLSKEY": "", "HostsTLSCLI": "", "Socket": "", "RplUser": "root:mariadb", "Interactive": false, "Verbose": false, "PreScript": "", "PostScript": "", "RejoinScript": "", "PrefMaster": "192.168.100.70", "IgnoreSrv": "", "SwitchWaitKill": 5000, "SwitchWaitTrx": 10, "SwitchWaitWrite": 10, "SwitchGtidCheck": false, "SwitchSync": false, "SwitchMaxDelay": 0, "ReadOnly": true, "Autorejoin": true, "AutorejoinFlashback": true, "AutorejoinMysqldump": true, "AutorejoinBackupBinlog": true, "AutorejoinSemisync": true, "LogFile": "./config/masterslave/mariadb/without_traffic/10.2/x2/multidomains/innodb/maxscale/latest/x1/1.1.0-preview3-99-gc75a256/testFailoverSemisyncAutoRejoinUnsafeMSXMXXMXMS.log", "MonitoringTicker": 2, "Timeout": 1, "CheckType": "tcp", "CheckReplFilter": true, "CheckBinFilter": true, "ForceSlaveHeartbeat": false, "ForceSlaveHeartbeatTime": 3, "ForceSlaveHeartbeatRetry": 5, "ForceSlaveGtid": false, "ForceSlaveNoGtid": false, "ForceSlaveSemisync": true, "ForceSlaveReadOnly": true, "ForceBinlogRow": false, "ForceBinlogAnnotate": false, "ForceBinlogCompress": false, "ForceBinlogSlowqueries": false, "ForceBinlogChecksum": false, "ForceInmemoryBinlogCacheSize": false, "ForceDiskRelayLogSizeLimit": false, "ForceDiskRelayLogSizeLimitSize": 1000000000, "ForceSyncBinlog": true, "ForceSyncInnoDB": true, "ForceNoslaveBehind": false, "RplChecks": true, "MasterConn": "", "MultiMaster": false, "MultiTierSlave": false, "Spider": false, "BindAddr": "localhost", "HttpPort": "10001", "HttpServ": true, "HttpRoot": "../../dashboard", "HttpAuth": false, "HttpBootstrapButton": true, "SessionLifeTime": 3600, "Daemon": true, "MailFrom": "mrm@localhost", "MailTo": "", "MailSMTPAddr": "localhost:25", "MasterConnectRetry": 10, "FailLimit": 999, "FailTime": 1, "FailSync": false, "FailEventScheduler": false, "FailEventStatus": false, "FailRestartUnsafe": false, "MaxFail": 3, "FailResetTime": 300, "FailMaxDelay": 0, "CheckFalsePositiveHeartbeat": false, "CheckFalsePositiveMaxscale": false, "CheckFalsePositiveHeartbeatTimeout": 3, "CheckFalsePositiveMaxscaleTimeout": 14, "CheckFalsePositiveExternal": false, "CheckFalsePositiveExternalPort": 80, "Heartbeat": false, "MdbsProxyOn": false, "MdbsProxyHosts": "127.0.0.1:3307", "MdbsProxyUser": "admin", "MxsOn": true, "MxsHost": "192.168.100.50", "MxsPort": "3307", "MxsUser": "admin", "MxsPass": "mariadb", "MxsWritePort": 4007, "MxsReadPort": 4008, "MxsReadWritePort": 4006, "MxsMaxinfoPort": 3307, "MxsBinlogOn": false, "MxsBinlogPort": 3309, "MxsDisableMonitor": false, "MxsGetInfoMethod": "maxadmin", "MxsServerMatchPort": false, "HaproxyOn": false, "HaproxyWritePort": 3306, "HaproxyReadPort": 3307, "HaproxyStatPort": 1988, "HaproxyWriteBindIp": "0.0.0.0", "HaproxyReadBindIp": "0.0.0.0", "HaproxyBinaryPath": "/usr/sbin/haproxy", "KeyPath": "/etc/replication-manager/.replication-manager.key", "LogLevel": 0, "Test": true, "TestInjectTraffic": false, "Topology": "", "GraphiteMetrics": false, "GraphiteEmbedded": false, "GraphiteCarbonHost": "127.0.0.1", "GraphiteCarbonPort": 2003, "GraphiteCarbonApiPort": 10002, "GraphiteCarbonServerPort": 10003, "GraphiteCarbonLinkPort": 7002, "GraphiteCarbonPicklePort": 2004, "GraphiteCarbonPprofPort": 7007, "SysbenchBinaryPath": "/usr/local/bin/sysbench", "SysbenchTime": 60, "SysbenchThreads": 4, "MariaDBBinaryPath": "/usr/local/mysql/bin", "Arbitration": false, "ArbitrationSasSecret": "", "ArbitrationSasHosts": "88.191.151.84:80", "ArbitrationSasUniqueId": 0, "ArbitrationPeerHosts": "127.0.0.1:10002", "ReplicationSSL": false, "FailForceGtid": true, "RegTestStopCluster": false, "Enterprise": true, "ProvHost": "192.168.100.101:443", "ProvAdminUser": "root@localhost.localdomain:opensvc", "ProvUser": "replication-manager@localhost.localdomain:mariadb", "ProvType": "docker", "ProvAgents": "agent1,agent2", "ProvMem": "256", "ProvIops": "300", "ProvTags": "smallredolog,semisync,innodb,noquerycache,threadpool,logslow,multidomains", "ProvDisk": "1G", "ProvDiskFS": "zfs", "ProvDiskPool": "zpool", "ProvDiskDevice": "/srv", "ProvDiskType": "loopback", "ProvNetIface": "br0", "ProvNetmask": "255.255.255.0", "ProvGateway": "192.168.100.254", "ProvProxType": "docker", "ProvProxAgents": "agent2", "ProvProxDisk": "1G", "ProvProxDiskFS": "zfs", "ProvProxDiskPool": "zpool", "ProvProxDiskDevice": "/srv", "ProvProxDiskType": "loopback", "ProvProxNetIface": "br0", "ProvProxNetmask": "255.255.255.0", "ProvProxGateway": "192.168.100.254", "ProvMaxscaleVip": "", "ProvMdbshardproxyVip": "", "ProvHaproxyVip": "", "ProvWebsqlproxyVip": "", "ProvDbImg": "mariadb:10.2", "ProvProxImg": "asosso/maxscale:latest", "APIUser": "admin:mariadb", "APIPort": "3000", "ConfigFile": "././config/masterslave/mariadb/without_traffic/10.2/x2/multidomains/innodb/maxscale/latest/x1/replication-manager.conf" }, "config-test": { "WorkingDir": "/var/lib/replication-manager", "ShareDir": "/usr/local/share/mrm", "User": "root:mariadb", "Hosts": "192.168.100.70,192.168.100.71", "HostsTLSCA": "", "HostsTLSKEY": "", "HostsTLSCLI": "", "Socket": "", "RplUser": "root:mariadb", "Interactive": false, "Verbose": false, "PreScript": "", "PostScript": "", "RejoinScript": "", "PrefMaster": "192.168.100.70", "IgnoreSrv": "", "SwitchWaitKill": 5000, "SwitchWaitTrx": 10, "SwitchWaitWrite": 10, "SwitchGtidCheck": false, "SwitchSync": false, "SwitchMaxDelay": 0, "ReadOnly": true, "Autorejoin": true, "AutorejoinFlashback": true, "AutorejoinMysqldump": true, "AutorejoinBackupBinlog": true, "AutorejoinSemisync": true, "LogFile": "./config/masterslave/mariadb/without_traffic/10.2/x2/multidomains/innodb/maxscale/latest/x1/1.1.0-preview3-99-gc75a256/testFailoverSemisyncAutoRejoinUnsafeMSXMXXMXMS.log", "MonitoringTicker": 2, "Timeout": 1, "CheckType": "tcp", "CheckReplFilter": true, "CheckBinFilter": true, "ForceSlaveHeartbeat": false, "ForceSlaveHeartbeatTime": 3, "ForceSlaveHeartbeatRetry": 5, "ForceSlaveGtid": false, "ForceSlaveNoGtid": false, "ForceSlaveSemisync": true, "ForceSlaveReadOnly": true, "ForceBinlogRow": false, "ForceBinlogAnnotate": false, "ForceBinlogCompress": false, "ForceBinlogSlowqueries": false, "ForceBinlogChecksum": false, "ForceInmemoryBinlogCacheSize": false, "ForceDiskRelayLogSizeLimit": false, "ForceDiskRelayLogSizeLimitSize": 1000000000, "ForceSyncBinlog": true, "ForceSyncInnoDB": true, "ForceNoslaveBehind": false, "RplChecks": false, "MasterConn": "", "MultiMaster": false, "MultiTierSlave": false, "Spider": false, "BindAddr": "localhost", "HttpPort": "10001", "HttpServ": true, "HttpRoot": "../../dashboard", "HttpAuth": false, "HttpBootstrapButton": true, "SessionLifeTime": 3600, "Daemon": true, "MailFrom": "mrm@localhost", "MailTo": "", "MailSMTPAddr": "localhost:25", "MasterConnectRetry": 10, "FailLimit": 999, "FailTime": 0, "FailSync": false, "FailEventScheduler": false, "FailEventStatus": false, "FailRestartUnsafe": true, "MaxFail": 3, "FailResetTime": 300, "FailMaxDelay": 0, "CheckFalsePositiveHeartbeat": false, "CheckFalsePositiveMaxscale": false, "CheckFalsePositiveHeartbeatTimeout": 3, "CheckFalsePositiveMaxscaleTimeout": 14, "CheckFalsePositiveExternal": false, "CheckFalsePositiveExternalPort": 80, "Heartbeat": false, "MdbsProxyOn": false, "MdbsProxyHosts": "127.0.0.1:3307", "MdbsProxyUser": "admin", "MxsOn": true, "MxsHost": "192.168.100.50", "MxsPort": "3307", "MxsUser": "admin", "MxsPass": "mariadb", "MxsWritePort": 4007, "MxsReadPort": 4008, "MxsReadWritePort": 4006, "MxsMaxinfoPort": 3307, "MxsBinlogOn": false, "MxsBinlogPort": 3309, "MxsDisableMonitor": false, "MxsGetInfoMethod": "maxadmin", "MxsServerMatchPort": false, "HaproxyOn": false, "HaproxyWritePort": 3306, "HaproxyReadPort": 3307, "HaproxyStatPort": 1988, "HaproxyWriteBindIp": "0.0.0.0", "HaproxyReadBindIp": "0.0.0.0", "HaproxyBinaryPath": "/usr/sbin/haproxy", "KeyPath": "/etc/replication-manager/.replication-manager.key", "LogLevel": 0, "Test": true, "TestInjectTraffic": false, "Topology": "", "GraphiteMetrics": false, "GraphiteEmbedded": false, "GraphiteCarbonHost": "127.0.0.1", "GraphiteCarbonPort": 2003, "GraphiteCarbonApiPort": 10002, "GraphiteCarbonServerPort": 10003, "GraphiteCarbonLinkPort": 7002, "GraphiteCarbonPicklePort": 2004, "GraphiteCarbonPprofPort": 7007, "SysbenchBinaryPath": "/usr/local/bin/sysbench", "SysbenchTime": 60, "SysbenchThreads": 4, "MariaDBBinaryPath": "/usr/local/mysql/bin", "Arbitration": false, "ArbitrationSasSecret": "", "ArbitrationSasHosts": "88.191.151.84:80", "ArbitrationSasUniqueId": 0, "ArbitrationPeerHosts": "127.0.0.1:10002", "ReplicationSSL": false, "FailForceGtid": true, "RegTestStopCluster": false, "Enterprise": true, "ProvHost": "192.168.100.101:443", "ProvAdminUser": "root@localhost.localdomain:opensvc", "ProvUser": "replication-manager@localhost.localdomain:mariadb", "ProvType": "docker", "ProvAgents": "agent1,agent2", "ProvMem": "256", "ProvIops": "300", "ProvTags": "smallredolog,semisync,innodb,noquerycache,threadpool,logslow,multidomains", "ProvDisk": "1G", "ProvDiskFS": "zfs", "ProvDiskPool": "zpool", "ProvDiskDevice": "/srv", "ProvDiskType": "loopback", "ProvNetIface": "br0", "ProvNetmask": "255.255.255.0", "ProvGateway": "192.168.100.254", "ProvProxType": "docker", "ProvProxAgents": "agent2", "ProvProxDisk": "1G", "ProvProxDiskFS": "zfs", "ProvProxDiskPool": "zpool", "ProvProxDiskDevice": "/srv", "ProvProxDiskType": "loopback", "ProvProxNetIface": "br0", "ProvProxNetmask": "255.255.255.0", "ProvProxGateway": "192.168.100.254", "ProvMaxscaleVip": "", "ProvMdbshardproxyVip": "", "ProvHaproxyVip": "", "ProvWebsqlproxyVip": "", "ProvDbImg": "mariadb:10.2", "ProvProxImg": "asosso/maxscale:latest", "APIUser": "admin:mariadb", "APIPort": "3000", "ConfigFile": "././config/masterslave/mariadb/without_traffic/10.2/x2/multidomains/innodb/maxscale/latest/x1/replication-manager.conf" } }
,
{ "name": "testFailoverSemisyncAutoRejoinUnsafeMSXMXXXMSM", "result": "PASS", "config-file": "././config/masterslave/mariadb/without_traffic/10.2/x2/multidomains/innodb/maxscale/latest/x1/replication-manager.conf", "config-init": { "WorkingDir": "/var/lib/replication-manager", "ShareDir": "/usr/local/share/mrm", "User": "root:mariadb", "Hosts": "192.168.100.70,192.168.100.71", "HostsTLSCA": "", "HostsTLSKEY": "", "HostsTLSCLI": "", "Socket": "", "RplUser": "root:mariadb", "Interactive": false, "Verbose": false, "PreScript": "", "PostScript": "", "RejoinScript": "", "PrefMaster": "192.168.100.70", "IgnoreSrv": "", "SwitchWaitKill": 5000, "SwitchWaitTrx": 10, "SwitchWaitWrite": 10, "SwitchGtidCheck": false, "SwitchSync": false, "SwitchMaxDelay": 0, "ReadOnly": true, "Autorejoin": true, "AutorejoinFlashback": true, "AutorejoinMysqldump": true, "AutorejoinBackupBinlog": true, "AutorejoinSemisync": true, "LogFile": "./config/masterslave/mariadb/without_traffic/10.2/x2/multidomains/innodb/maxscale/latest/x1/1.1.0-preview3-99-gc75a256/testFailoverSemisyncAutoRejoinUnsafeMSXMXXXMSM.log", "MonitoringTicker": 2, "Timeout": 1, "CheckType": "tcp", "CheckReplFilter": true, "CheckBinFilter": true, "ForceSlaveHeartbeat": false, "ForceSlaveHeartbeatTime": 3, "ForceSlaveHeartbeatRetry": 5, "ForceSlaveGtid": false, "ForceSlaveNoGtid": false, "ForceSlaveSemisync": true, "ForceSlaveReadOnly": true, "ForceBinlogRow": false, "ForceBinlogAnnotate": false, "ForceBinlogCompress": false, "ForceBinlogSlowqueries": false, "ForceBinlogChecksum": false, "ForceInmemoryBinlogCacheSize": false, "ForceDiskRelayLogSizeLimit": false, "ForceDiskRelayLogSizeLimitSize": 1000000000, "ForceSyncBinlog": true, "ForceSyncInnoDB": true, "ForceNoslaveBehind": false, "RplChecks": true, "MasterConn": "", "MultiMaster": false, "MultiTierSlave": false, "Spider": false, "BindAddr": "localhost", "HttpPort": "10001", "HttpServ": true, "HttpRoot": "../../dashboard", "HttpAuth": false, "HttpBootstrapButton": true, "SessionLifeTime": 3600, "Daemon": true, "MailFrom": "mrm@localhost", "MailTo": "", "MailSMTPAddr": "localhost:25", "MasterConnectRetry": 10, "FailLimit": 999, "FailTime": 1, "FailSync": false, "FailEventScheduler": false, "FailEventStatus": false, "FailRestartUnsafe": false, "MaxFail": 3, "FailResetTime": 300, "FailMaxDelay": 0, "CheckFalsePositiveHeartbeat": false, "CheckFalsePositiveMaxscale": false, "CheckFalsePositiveHeartbeatTimeout": 3, "CheckFalsePositiveMaxscaleTimeout": 14, "CheckFalsePositiveExternal": false, "CheckFalsePositiveExternalPort": 80, "Heartbeat": false, "MdbsProxyOn": false, "MdbsProxyHosts": "127.0.0.1:3307", "MdbsProxyUser": "admin", "MxsOn": true, "MxsHost": "192.168.100.50", "MxsPort": "3307", "MxsUser": "admin", "MxsPass": "mariadb", "MxsWritePort": 4007, "MxsReadPort": 4008, "MxsReadWritePort": 4006, "MxsMaxinfoPort": 3307, "MxsBinlogOn": false, "MxsBinlogPort": 3309, "MxsDisableMonitor": false, "MxsGetInfoMethod": "maxadmin", "MxsServerMatchPort": false, "HaproxyOn": false, "HaproxyWritePort": 3306, "HaproxyReadPort": 3307, "HaproxyStatPort": 1988, "HaproxyWriteBindIp": "0.0.0.0", "HaproxyReadBindIp": "0.0.0.0", "HaproxyBinaryPath": "/usr/sbin/haproxy", "KeyPath": "/etc/replication-manager/.replication-manager.key", "LogLevel": 0, "Test": true, "TestInjectTraffic": false, "Topology": "", "GraphiteMetrics": false, "GraphiteEmbedded": false, "GraphiteCarbonHost": "127.0.0.1", "GraphiteCarbonPort": 2003, "GraphiteCarbonApiPort": 10002, "GraphiteCarbonServerPort": 10003, "GraphiteCarbonLinkPort": 7002, "GraphiteCarbonPicklePort": 2004, "GraphiteCarbonPprofPort": 7007, "SysbenchBinaryPath": "/usr/local/bin/sysbench", "SysbenchTime": 60, "SysbenchThreads": 4, "MariaDBBinaryPath": "/usr/local/mysql/bin", "Arbitration": false, "ArbitrationSasSecret": "", "ArbitrationSasHosts": "88.191.151.84:80", "ArbitrationSasUniqueId": 0, "ArbitrationPeerHosts": "127.0.0.1:10002", "ReplicationSSL": false, "FailForceGtid": true, "RegTestStopCluster": false, "Enterprise": true, "ProvHost": "192.168.100.101:443", "ProvAdminUser": "root@localhost.localdomain:opensvc", "ProvUser": "replication-manager@localhost.localdomain:mariadb", "ProvType": "docker", "ProvAgents": "agent1,agent2", "ProvMem": "256", "ProvIops": "300", "ProvTags": "smallredolog,semisync,innodb,noquerycache,threadpool,logslow,multidomains", "ProvDisk": "1G", "ProvDiskFS": "zfs", "ProvDiskPool": "zpool", "ProvDiskDevice": "/srv", "ProvDiskType": "loopback", "ProvNetIface": "br0", "ProvNetmask": "255.255.255.0", "ProvGateway": "192.168.100.254", "ProvProxType": "docker", "ProvProxAgents": "agent2", "ProvProxDisk": "1G", "ProvProxDiskFS": "zfs", "ProvProxDiskPool": "zpool", "ProvProxDiskDevice": "/srv", "ProvProxDiskType": "loopback", "ProvProxNetIface": "br0", "ProvProxNetmask": "255.255.255.0", "ProvProxGateway": "192.168.100.254", "ProvMaxscaleVip": "", "ProvMdbshardproxyVip": "", "ProvHaproxyVip": "", "ProvWebsqlproxyVip": "", "ProvDbImg": "mariadb:10.2", "ProvProxImg": "asosso/maxscale:latest", "APIUser": "admin:mariadb", "APIPort": "3000", "ConfigFile": "././config/masterslave/mariadb/without_traffic/10.2/x2/multidomains/innodb/maxscale/latest/x1/replication-manager.conf" }, "config-test": { "WorkingDir": "/var/lib/replication-manager", "ShareDir": "/usr/local/share/mrm", "User": "root:mariadb", "Hosts": "192.168.100.70,192.168.100.71", "HostsTLSCA": "", "HostsTLSKEY": "", "HostsTLSCLI": "", "Socket": "", "RplUser": "root:mariadb", "Interactive": false, "Verbose": false, "PreScript": "", "PostScript": "", "RejoinScript": "", "PrefMaster": "192.168.100.70", "IgnoreSrv": "", "SwitchWaitKill": 5000, "SwitchWaitTrx": 10, "SwitchWaitWrite": 10, "SwitchGtidCheck": false, "SwitchSync": false, "SwitchMaxDelay": 0, "ReadOnly": true, "Autorejoin": true, "AutorejoinFlashback": true, "AutorejoinMysqldump": true, "AutorejoinBackupBinlog": true, "AutorejoinSemisync": true, "LogFile": "./config/masterslave/mariadb/without_traffic/10.2/x2/multidomains/innodb/maxscale/latest/x1/1.1.0-preview3-99-gc75a256/testFailoverSemisyncAutoRejoinUnsafeMSXMXXXMSM.log", "MonitoringTicker": 2, "Timeout": 1, "CheckType": "tcp", "CheckReplFilter": true, "CheckBinFilter": true, "ForceSlaveHeartbeat": false, "ForceSlaveHeartbeatTime": 3, "ForceSlaveHeartbeatRetry": 5, "ForceSlaveGtid": false, "ForceSlaveNoGtid": false, "ForceSlaveSemisync": true, "ForceSlaveReadOnly": true, "ForceBinlogRow": false, "ForceBinlogAnnotate": false, "ForceBinlogCompress": false, "ForceBinlogSlowqueries": false, "ForceBinlogChecksum": false, "ForceInmemoryBinlogCacheSize": false, "ForceDiskRelayLogSizeLimit": false, "ForceDiskRelayLogSizeLimitSize": 1000000000, "ForceSyncBinlog": true, "ForceSyncInnoDB": true, "ForceNoslaveBehind": false, "RplChecks": false, "MasterConn": "", "MultiMaster": false, "MultiTierSlave": false, "Spider": false, "BindAddr": "localhost", "HttpPort": "10001", "HttpServ": true, "HttpRoot": "../../dashboard", "HttpAuth": false, "HttpBootstrapButton": true, "SessionLifeTime": 3600, "Daemon": true, "MailFrom": "mrm@localhost", "MailTo": "", "MailSMTPAddr": "localhost:25", "MasterConnectRetry": 10, "FailLimit": 999, "FailTime": 0, "FailSync": false, "FailEventScheduler": false, "FailEventStatus": false, "FailRestartUnsafe": true, "MaxFail": 3, "FailResetTime": 300, "FailMaxDelay": 0, "CheckFalsePositiveHeartbeat": false, "CheckFalsePositiveMaxscale": false, "CheckFalsePositiveHeartbeatTimeout": 3, "CheckFalsePositiveMaxscaleTimeout": 14, "CheckFalsePositiveExternal": false, "CheckFalsePositiveExternalPort": 80, "Heartbeat": false, "MdbsProxyOn": false, "MdbsProxyHosts": "127.0.0.1:3307", "MdbsProxyUser": "admin", "MxsOn": true, "MxsHost": "192.168.100.50", "MxsPort": "3307", "MxsUser": "admin", "MxsPass": "mariadb", "MxsWritePort": 4007, "MxsReadPort": 4008, "MxsReadWritePort": 4006, "MxsMaxinfoPort": 3307, "MxsBinlogOn": false, "MxsBinlogPort": 3309, "MxsDisableMonitor": false, "MxsGetInfoMethod": "maxadmin", "MxsServerMatchPort": false, "HaproxyOn": false, "HaproxyWritePort": 3306, "HaproxyReadPort": 3307, "HaproxyStatPort": 1988, "HaproxyWriteBindIp": "0.0.0.0", "HaproxyReadBindIp": "0.0.0.0", "HaproxyBinaryPath": "/usr/sbin/haproxy", "KeyPath": "/etc/replication-manager/.replication-manager.key", "LogLevel": 0, "Test": true, "TestInjectTraffic": false, "Topology": "", "GraphiteMetrics": false, "GraphiteEmbedded": false, "GraphiteCarbonHost": "127.0.0.1", "GraphiteCarbonPort": 2003, "GraphiteCarbonApiPort": 10002, "GraphiteCarbonServerPort": 10003, "GraphiteCarbonLinkPort": 7002, "GraphiteCarbonPicklePort": 2004, "GraphiteCarbonPprofPort": 7007, "SysbenchBinaryPath": "/usr/local/bin/sysbench", "SysbenchTime": 60, "SysbenchThreads": 4, "MariaDBBinaryPath": "/usr/local/mysql/bin", "Arbitration": false, "ArbitrationSasSecret": "", "ArbitrationSasHosts": "88.191.151.84:80", "ArbitrationSasUniqueId": 0, "ArbitrationPeerHosts": "127.0.0.1:10002", "ReplicationSSL": false, "FailForceGtid": true, "RegTestStopCluster": false, "Enterprise": true, "ProvHost": "192.168.100.101:443", "ProvAdminUser": "root@localhost.localdomain:opensvc", "ProvUser": "replication-manager@localhost.localdomain:mariadb", "ProvType": "docker", "ProvAgents": "agent1,agent2", "ProvMem": "256", "ProvIops": "300", "ProvTags": "smallredolog,semisync,innodb,noquerycache,threadpool,logslow,multidomains", "ProvDisk": "1G", "ProvDiskFS": "zfs", "ProvDiskPool": "zpool", "ProvDiskDevice": "/srv", "ProvDiskType": "loopback", "ProvNetIface": "br0", "ProvNetmask": "255.255.255.0", "ProvGateway": "192.168.100.254", "ProvProxType": "docker", "ProvProxAgents": "agent2", "ProvProxDisk": "1G", "ProvProxDiskFS": "zfs", "ProvProxDiskPool": "zpool", "ProvProxDiskDevice": "/srv", "ProvProxDiskType": "loopback", "ProvProxNetIface": "br0", "ProvProxNetmask": "255.255.255.0", "ProvProxGateway": "192.168.100.254", "ProvMaxscaleVip": "", "ProvMdbshardproxyVip": "", "ProvHaproxyVip": "", "ProvWebsqlproxyVip": "", "ProvDbImg": "mariadb:10.2", "ProvProxImg": "asosso/maxscale:latest", "APIUser": "admin:mariadb", "APIPort": "3000", "ConfigFile": "././config/masterslave/mariadb/without_traffic/10.2/x2/multidomains/innodb/maxscale/latest/x1/replication-manager.conf" } }
,
{ "name": "testFailoverSemisyncAutoRejoinUnsafeMSMXXRXMXMS", "result": "PASS", "config-file": "././config/masterslave/mariadb/without_traffic/10.2/x2/multidomains/innodb/maxscale/latest/x1/replication-manager.conf", "config-init": { "WorkingDir": "/var/lib/replication-manager", "ShareDir": "/usr/local/share/mrm", "User": "root:mariadb", "Hosts": "192.168.100.70,192.168.100.71", "HostsTLSCA": "", "HostsTLSKEY": "", "HostsTLSCLI": "", "Socket": "", "RplUser": "root:mariadb", "Interactive": false, "Verbose": false, "PreScript": "", "PostScript": "", "RejoinScript": "", "PrefMaster": "192.168.100.70", "IgnoreSrv": "", "SwitchWaitKill": 5000, "SwitchWaitTrx": 10, "SwitchWaitWrite": 10, "SwitchGtidCheck": false, "SwitchSync": false, "SwitchMaxDelay": 0, "ReadOnly": true, "Autorejoin": true, "AutorejoinFlashback": true, "AutorejoinMysqldump": true, "AutorejoinBackupBinlog": true, "AutorejoinSemisync": true, "LogFile": "./config/masterslave/mariadb/without_traffic/10.2/x2/multidomains/innodb/maxscale/latest/x1/1.1.0-preview3-99-gc75a256/testFailoverSemisyncAutoRejoinUnsafeMSMXXXRMXMS.log", "MonitoringTicker": 2, "Timeout": 1, "CheckType": "tcp", "CheckReplFilter": true, "CheckBinFilter": true, "ForceSlaveHeartbeat": false, "ForceSlaveHeartbeatTime": 3, "ForceSlaveHeartbeatRetry": 5, "ForceSlaveGtid": false, "ForceSlaveNoGtid": false, "ForceSlaveSemisync": true, "ForceSlaveReadOnly": true, "ForceBinlogRow": false, "ForceBinlogAnnotate": false, "ForceBinlogCompress": false, "ForceBinlogSlowqueries": false, "ForceBinlogChecksum": false, "ForceInmemoryBinlogCacheSize": false, "ForceDiskRelayLogSizeLimit": false, "ForceDiskRelayLogSizeLimitSize": 1000000000, "ForceSyncBinlog": true, "ForceSyncInnoDB": true, "ForceNoslaveBehind": false, "RplChecks": true, "MasterConn": "", "MultiMaster": false, "MultiTierSlave": false, "Spider": false, "BindAddr": "localhost", "HttpPort": "10001", "HttpServ": true, "HttpRoot": "../../dashboard", "HttpAuth": false, "HttpBootstrapButton": true, "SessionLifeTime": 3600, "Daemon": true, "MailFrom": "mrm@localhost", "MailTo": "", "MailSMTPAddr": "localhost:25", "MasterConnectRetry": 10, "FailLimit": 999, "FailTime": 1, "FailSync": false, "FailEventScheduler": false, "FailEventStatus": false, "FailRestartUnsafe": false, "MaxFail": 3, "FailResetTime": 300, "FailMaxDelay": 0, "CheckFalsePositiveHeartbeat": false, "CheckFalsePositiveMaxscale": false, "CheckFalsePositiveHeartbeatTimeout": 3, "CheckFalsePositiveMaxscaleTimeout": 14, "CheckFalsePositiveExternal": false, "CheckFalsePositiveExternalPort": 80, "Heartbeat": false, "MdbsProxyOn": false, "MdbsProxyHosts": "127.0.0.1:3307", "MdbsProxyUser": "admin", "MxsOn": true, "MxsHost": "192.168.100.50", "MxsPort": "3307", "MxsUser": "admin", "MxsPass": "mariadb", "MxsWritePort": 4007, "MxsReadPort": 4008, "MxsReadWritePort": 4006, "MxsMaxinfoPort": 3307, "MxsBinlogOn": false, "MxsBinlogPort": 3309, "MxsDisableMonitor": false, "MxsGetInfoMethod": "maxadmin", "MxsServerMatchPort": false, "HaproxyOn": false, "HaproxyWritePort": 3306, "HaproxyReadPort": 3307, "HaproxyStatPort": 1988, "HaproxyWriteBindIp": "0.0.0.0", "HaproxyReadBindIp": "0.0.0.0", "HaproxyBinaryPath": "/usr/sbin/haproxy", "KeyPath": "/etc/replication-manager/.replication-manager.key", "LogLevel": 0, "Test": true, "TestInjectTraffic": false, "Topology": "", "GraphiteMetrics": false, "GraphiteEmbedded": false, "GraphiteCarbonHost": "127.0.0.1", "GraphiteCarbonPort": 2003, "GraphiteCarbonApiPort": 10002, "GraphiteCarbonServerPort": 10003, "GraphiteCarbonLinkPort": 7002, "GraphiteCarbonPicklePort": 2004, "GraphiteCarbonPprofPort": 7007, "SysbenchBinaryPath": "/usr/local/bin/sysbench", "SysbenchTime": 60, "SysbenchThreads": 4, "MariaDBBinaryPath": "/usr/local/mysql/bin", "Arbitration": false, "ArbitrationSasSecret": "", "ArbitrationSasHosts": "88.191.151.84:80", "ArbitrationSasUniqueId": 0, "ArbitrationPeerHosts": "127.0.0.1:10002", "ReplicationSSL": false, "FailForceGtid": true, "RegTestStopCluster": false, "Enterprise": true, "ProvHost": "192.168.100.101:443", "ProvAdminUser": "root@localhost.localdomain:opensvc", "ProvUser": "replication-manager@localhost.localdomain:mariadb", "ProvType": "docker", "ProvAgents": "agent1,agent2", "ProvMem": "256", "ProvIops": "300", "ProvTags": "smallredolog,semisync,innodb,noquerycache,threadpool,logslow,multidomains", "ProvDisk": "1G", "ProvDiskFS": "zfs", "ProvDiskPool": "zpool", "ProvDiskDevice": "/srv", "ProvDiskType": "loopback", "ProvNetIface": "br0", "ProvNetmask": "255.255.255.0", "ProvGateway": "192.168.100.254", "ProvProxType": "docker", "ProvProxAgents": "agent2", "ProvProxDisk": "1G", "ProvProxDiskFS": "zfs", "ProvProxDiskPool": "zpool", "ProvProxDiskDevice": "/srv", "ProvProxDiskType": "loopback", "ProvProxNetIface": "br0", "ProvProxNetmask": "255.255.255.0", "ProvProxGateway": "192.168.100.254", "ProvMaxscaleVip": "", "ProvMdbshardproxyVip": "", "ProvHaproxyVip": "", "ProvWebsqlproxyVip": "", "ProvDbImg": "mariadb:10.2", "ProvProxImg": "asosso/maxscale:latest", "APIUser": "admin:mariadb", "APIPort": "3000", "ConfigFile": "././config/masterslave/mariadb/without_traffic/10.2/x2/multidomains/innodb/maxscale/latest/x1/replication-manager.conf" }, "config-test": { "WorkingDir": "/var/lib/replication-manager", "ShareDir": "/usr/local/share/mrm", "User": "root:mariadb", "Hosts": "192.168.100.70,192.168.100.71", "HostsTLSCA": "", "HostsTLSKEY": "", "HostsTLSCLI": "", "Socket": "", "RplUser": "root:mariadb", "Interactive": false, "Verbose": false, "PreScript": "", "PostScript": "", "RejoinScript": "", "PrefMaster": "192.168.100.70", "IgnoreSrv": "", "SwitchWaitKill": 5000, "SwitchWaitTrx": 10, "SwitchWaitWrite": 10, "SwitchGtidCheck": false, "SwitchSync": false, "SwitchMaxDelay": 0, "ReadOnly": true, "Autorejoin": true, "AutorejoinFlashback": true, "AutorejoinMysqldump": true, "AutorejoinBackupBinlog": true, "AutorejoinSemisync": true, "LogFile": "./config/masterslave/mariadb/without_traffic/10.2/x2/multidomains/innodb/maxscale/latest/x1/1.1.0-preview3-99-gc75a256/testFailoverSemisyncAutoRejoinUnsafeMSMXXXRMXMS.log", "MonitoringTicker": 2, "Timeout": 1, "CheckType": "tcp", "CheckReplFilter": true, "CheckBinFilter": true, "ForceSlaveHeartbeat": false, "ForceSlaveHeartbeatTime": 3, "ForceSlaveHeartbeatRetry": 5, "ForceSlaveGtid": false, "ForceSlaveNoGtid": false, "ForceSlaveSemisync": true, "ForceSlaveReadOnly": true, "ForceBinlogRow": false, "ForceBinlogAnnotate": false, "ForceBinlogCompress": false, "ForceBinlogSlowqueries": false, "ForceBinlogChecksum": false, "ForceInmemoryBinlogCacheSize": false, "ForceDiskRelayLogSizeLimit": false, "ForceDiskRelayLogSizeLimitSize": 1000000000, "ForceSyncBinlog": true, "ForceSyncInnoDB": true, "ForceNoslaveBehind": false, "RplChecks": false, "MasterConn": "", "MultiMaster": false, "MultiTierSlave": false, "Spider": false, "BindAddr": "localhost", "HttpPort": "10001", "HttpServ": true, "HttpRoot": "../../dashboard", "HttpAuth": false, "HttpBootstrapButton": true, "SessionLifeTime": 3600, "Daemon": true, "MailFrom": "mrm@localhost", "MailTo": "", "MailSMTPAddr": "localhost:25", "MasterConnectRetry": 10, "FailLimit": 999, "FailTime": 0, "FailSync": false, "FailEventScheduler": false, "FailEventStatus": false, "FailRestartUnsafe": true, "MaxFail": 3, "FailResetTime": 300, "FailMaxDelay": 0, "CheckFalsePositiveHeartbeat": false, "CheckFalsePositiveMaxscale": false, "CheckFalsePositiveHeartbeatTimeout": 3, "CheckFalsePositiveMaxscaleTimeout": 14, "CheckFalsePositiveExternal": false, "CheckFalsePositiveExternalPort": 80, "Heartbeat": false, "MdbsProxyOn": false, "MdbsProxyHosts": "127.0.0.1:3307", "MdbsProxyUser": "admin", "MxsOn": true, "MxsHost": "192.168.100.50", "MxsPort": "3307", "MxsUser": "admin", "MxsPass": "mariadb", "MxsWritePort": 4007, "MxsReadPort": 4008, "MxsReadWritePort": 4006, "MxsMaxinfoPort": 3307, "MxsBinlogOn": false, "MxsBinlogPort": 3309, "MxsDisableMonitor": false, "MxsGetInfoMethod": "maxadmin", "MxsServerMatchPort": false, "HaproxyOn": false, "HaproxyWritePort": 3306, "HaproxyReadPort": 3307, "HaproxyStatPort": 1988, "HaproxyWriteBindIp": "0.0.0.0", "HaproxyReadBindIp": "0.0.0.0", "HaproxyBinaryPath": "/usr/sbin/haproxy", "KeyPath": "/etc/replication-manager/.replication-manager.key", "LogLevel": 0, "Test": true, "TestInjectTraffic": false, "Topology": "", "GraphiteMetrics": false, "GraphiteEmbedded": false, "GraphiteCarbonHost": "127.0.0.1", "GraphiteCarbonPort": 2003, "GraphiteCarbonApiPort": 10002, "GraphiteCarbonServerPort": 10003, "GraphiteCarbonLinkPort": 7002, "GraphiteCarbonPicklePort": 2004, "GraphiteCarbonPprofPort": 7007, "SysbenchBinaryPath": "/usr/local/bin/sysbench", "SysbenchTime": 60, "SysbenchThreads": 4, "MariaDBBinaryPath": "/usr/local/mysql/bin", "Arbitration": false, "ArbitrationSasSecret": "", "ArbitrationSasHosts": "88.191.151.84:80", "ArbitrationSasUniqueId": 0, "ArbitrationPeerHosts": "127.0.0.1:10002", "ReplicationSSL": false, "FailForceGtid": true, "RegTestStopCluster": false, "Enterprise": true, "ProvHost": "192.168.100.101:443", "ProvAdminUser": "root@localhost.localdomain:opensvc", "ProvUser": "replication-manager@localhost.localdomain:mariadb", "ProvType": "docker", "ProvAgents": "agent1,agent2", "ProvMem": "256", "ProvIops": "300", "ProvTags": "smallredolog,semisync,innodb,noquerycache,threadpool,logslow,multidomains", "ProvDisk": "1G", "ProvDiskFS": "zfs", "ProvDiskPool": "zpool", "ProvDiskDevice": "/srv", "ProvDiskType": "loopback", "ProvNetIface": "br0", "ProvNetmask": "255.255.255.0", "ProvGateway": "192.168.100.254", "ProvProxType": "docker", "ProvProxAgents": "agent2", "ProvProxDisk": "1G", "ProvProxDiskFS": "zfs", "ProvProxDiskPool": "zpool", "ProvProxDiskDevice": "/srv", "ProvProxDiskType": "loopback", "ProvProxNetIface": "br0", "ProvProxNetmask": "255.255.255.0", "ProvProxGateway": "192.168.100.254", "ProvMaxscaleVip": "", "ProvMdbshardproxyVip": "", "ProvHaproxyVip": "", "ProvWebsqlproxyVip": "", "ProvDbImg": "mariadb:10.2", "ProvProxImg": "asosso/maxscale:latest", "APIUser": "admin:mariadb", "APIPort": "3000", "ConfigFile": "././config/masterslave/mariadb/without_traffic/10.2/x2/multidomains/innodb/maxscale/latest/x1/replication-manager.conf" } }
,
{ "name": "testFailoverSemisyncAutoRejoinUnsafeMSMXXXRXMSM", "result": "PASS", "config-file": "././config/masterslave/mariadb/without_traffic/10.2/x2/multidomains/innodb/maxscale/latest/x1/replication-manager.conf", "config-init": { "WorkingDir": "/var/lib/replication-manager", "ShareDir": "/usr/local/share/mrm", "User": "root:mariadb", "Hosts": "192.168.100.70,192.168.100.71", "HostsTLSCA": "", "HostsTLSKEY": "", "HostsTLSCLI": "", "Socket": "", "RplUser": "root:mariadb", "Interactive": false, "Verbose": false, "PreScript": "", "PostScript": "", "RejoinScript": "", "PrefMaster": "192.168.100.70", "IgnoreSrv": "", "SwitchWaitKill": 5000, "SwitchWaitTrx": 10, "SwitchWaitWrite": 10, "SwitchGtidCheck": false, "SwitchSync": false, "SwitchMaxDelay": 0, "ReadOnly": true, "Autorejoin": true, "AutorejoinFlashback": true, "AutorejoinMysqldump": true, "AutorejoinBackupBinlog": true, "AutorejoinSemisync": true, "LogFile": "./config/masterslave/mariadb/without_traffic/10.2/x2/multidomains/innodb/maxscale/latest/x1/1.1.0-preview3-99-gc75a256/testFailoverSemisyncAutoRejoinUnsafeMSMXXXRXMSM.log", "MonitoringTicker": 2, "Timeout": 1, "CheckType": "tcp", "CheckReplFilter": true, "CheckBinFilter": true, "ForceSlaveHeartbeat": false, "ForceSlaveHeartbeatTime": 3, "ForceSlaveHeartbeatRetry": 5, "ForceSlaveGtid": false, "ForceSlaveNoGtid": false, "ForceSlaveSemisync": true, "ForceSlaveReadOnly": true, "ForceBinlogRow": false, "ForceBinlogAnnotate": false, "ForceBinlogCompress": false, "ForceBinlogSlowqueries": false, "ForceBinlogChecksum": false, "ForceInmemoryBinlogCacheSize": false, "ForceDiskRelayLogSizeLimit": false, "ForceDiskRelayLogSizeLimitSize": 1000000000, "ForceSyncBinlog": true, "ForceSyncInnoDB": true, "ForceNoslaveBehind": false, "RplChecks": true, "MasterConn": "", "MultiMaster": false, "MultiTierSlave": false, "Spider": false, "BindAddr": "localhost", "HttpPort": "10001", "HttpServ": true, "HttpRoot": "../../dashboard", "HttpAuth": false, "HttpBootstrapButton": true, "SessionLifeTime": 3600, "Daemon": true, "MailFrom": "mrm@localhost", "MailTo": "", "MailSMTPAddr": "localhost:25", "MasterConnectRetry": 10, "FailLimit": 999, "FailTime": 1, "FailSync": false, "FailEventScheduler": false, "FailEventStatus": false, "FailRestartUnsafe": false, "MaxFail": 3, "FailResetTime": 300, "FailMaxDelay": 0, "CheckFalsePositiveHeartbeat": false, "CheckFalsePositiveMaxscale": false, "CheckFalsePositiveHeartbeatTimeout": 3, "CheckFalsePositiveMaxscaleTimeout": 14, "CheckFalsePositiveExternal": false, "CheckFalsePositiveExternalPort": 80, "Heartbeat": false, "MdbsProxyOn": false, "MdbsProxyHosts": "127.0.0.1:3307", "MdbsProxyUser": "admin", "MxsOn": true, "MxsHost": "192.168.100.50", "MxsPort": "3307", "MxsUser": "admin", "MxsPass": "mariadb", "MxsWritePort": 4007, "MxsReadPort": 4008, "MxsReadWritePort": 4006, "MxsMaxinfoPort": 3307, "MxsBinlogOn": false, "MxsBinlogPort": 3309, "MxsDisableMonitor": false, "MxsGetInfoMethod": "maxadmin", "MxsServerMatchPort": false, "HaproxyOn": false, "HaproxyWritePort": 3306, "HaproxyReadPort": 3307, "HaproxyStatPort": 1988, "HaproxyWriteBindIp": "0.0.0.0", "HaproxyReadBindIp": "0.0.0.0", "HaproxyBinaryPath": "/usr/sbin/haproxy", "KeyPath": "/etc/replication-manager/.replication-manager.key", "LogLevel": 0, "Test": true, "TestInjectTraffic": false, "Topology": "", "GraphiteMetrics": false, "GraphiteEmbedded": false, "GraphiteCarbonHost": "127.0.0.1", "GraphiteCarbonPort": 2003, "GraphiteCarbonApiPort": 10002, "GraphiteCarbonServerPort": 10003, "GraphiteCarbonLinkPort": 7002, "GraphiteCarbonPicklePort": 2004, "GraphiteCarbonPprofPort": 7007, "SysbenchBinaryPath": "/usr/local/bin/sysbench", "SysbenchTime": 60, "SysbenchThreads": 4, "MariaDBBinaryPath": "/usr/local/mysql/bin", "Arbitration": false, "ArbitrationSasSecret": "", "ArbitrationSasHosts": "88.191.151.84:80", "ArbitrationSasUniqueId": 0, "ArbitrationPeerHosts": "127.0.0.1:10002", "ReplicationSSL": false, "FailForceGtid": true, "RegTestStopCluster": false, "Enterprise": true, "ProvHost": "192.168.100.101:443", "ProvAdminUser": "root@localhost.localdomain:opensvc", "ProvUser": "replication-manager@localhost.localdomain:mariadb", "ProvType": "docker", "ProvAgents": "agent1,agent2", "ProvMem": "256", "ProvIops": "300", "ProvTags": "smallredolog,semisync,innodb,noquerycache,threadpool,logslow,multidomains", "ProvDisk": "1G", "ProvDiskFS": "zfs", "ProvDiskPool": "zpool", "ProvDiskDevice": "/srv", "ProvDiskType": "loopback", "ProvNetIface": "br0", "ProvNetmask": "255.255.255.0", "ProvGateway": "192.168.100.254", "ProvProxType": "docker", "ProvProxAgents": "agent2", "ProvProxDisk": "1G", "ProvProxDiskFS": "zfs", "ProvProxDiskPool": "zpool", "ProvProxDiskDevice": "/srv", "ProvProxDiskType": "loopback", "ProvProxNetIface": "br0", "ProvProxNetmask": "255.255.255.0", "ProvProxGateway": "192.168.100.254", "ProvMaxscaleVip": "", "ProvMdbshardproxyVip": "", "ProvHaproxyVip": "", "ProvWebsqlproxyVip": "", "ProvDbImg": "mariadb:10.2", "ProvProxImg": "asosso/maxscale:latest", "APIUser": "admin:mariadb", "APIPort": "3000", "ConfigFile": "././config/masterslave/mariadb/without_traffic/10.2/x2/multidomains/innodb/maxscale/latest/x1/replication-manager.conf" }, "config-test": { "WorkingDir": "/var/lib/replication-manager", "ShareDir": "/usr/local/share/mrm", "User": "root:mariadb", "Hosts": "192.168.100.70,192.168.100.71", "HostsTLSCA": "", "HostsTLSKEY": "", "HostsTLSCLI": "", "Socket": "", "RplUser": "root:mariadb", "Interactive": false, "Verbose": false, "PreScript": "", "PostScript": "", "RejoinScript": "", "PrefMaster": "192.168.100.70", "IgnoreSrv": "", "SwitchWaitKill": 5000, "SwitchWaitTrx": 10, "SwitchWaitWrite": 10, "SwitchGtidCheck": false, "SwitchSync": false, "SwitchMaxDelay": 0, "ReadOnly": true, "Autorejoin": true, "AutorejoinFlashback": true, "AutorejoinMysqldump": true, "AutorejoinBackupBinlog": true, "AutorejoinSemisync": true, "LogFile": "./config/masterslave/mariadb/without_traffic/10.2/x2/multidomains/innodb/maxscale/latest/x1/1.1.0-preview3-99-gc75a256/testFailoverSemisyncAutoRejoinUnsafeMSMXXXRXMSM.log", "MonitoringTicker": 2, "Timeout": 1, "CheckType": "tcp", "CheckReplFilter": true, "CheckBinFilter": true, "ForceSlaveHeartbeat": false, "ForceSlaveHeartbeatTime": 3, "ForceSlaveHeartbeatRetry": 5, "ForceSlaveGtid": false, "ForceSlaveNoGtid": false, "ForceSlaveSemisync": true, "ForceSlaveReadOnly": true, "ForceBinlogRow": false, "ForceBinlogAnnotate": false, "ForceBinlogCompress": false, "ForceBinlogSlowqueries": false, "ForceBinlogChecksum": false, "ForceInmemoryBinlogCacheSize": false, "ForceDiskRelayLogSizeLimit": false, "ForceDiskRelayLogSizeLimitSize": 1000000000, "ForceSyncBinlog": true, "ForceSyncInnoDB": true, "ForceNoslaveBehind": false, "RplChecks": false, "MasterConn": "", "MultiMaster": false, "MultiTierSlave": false, "Spider": false, "BindAddr": "localhost", "HttpPort": "10001", "HttpServ": true, "HttpRoot": "../../dashboard", "HttpAuth": false, "HttpBootstrapButton": true, "SessionLifeTime": 3600, "Daemon": true, "MailFrom": "mrm@localhost", "MailTo": "", "MailSMTPAddr": "localhost:25", "MasterConnectRetry": 10, "FailLimit": 999, "FailTime": 0, "FailSync": false, "FailEventScheduler": false, "FailEventStatus": false, "FailRestartUnsafe": true, "MaxFail": 3, "FailResetTime": 300, "FailMaxDelay": 0, "CheckFalsePositiveHeartbeat": false, "CheckFalsePositiveMaxscale": false, "CheckFalsePositiveHeartbeatTimeout": 3, "CheckFalsePositiveMaxscaleTimeout": 14, "CheckFalsePositiveExternal": false, "CheckFalsePositiveExternalPort": 80, "Heartbeat": false, "MdbsProxyOn": false, "MdbsProxyHosts": "127.0.0.1:3307", "MdbsProxyUser": "admin", "MxsOn": true, "MxsHost": "192.168.100.50", "MxsPort": "3307", "MxsUser": "admin", "MxsPass": "mariadb", "MxsWritePort": 4007, "MxsReadPort": 4008, "MxsReadWritePort": 4006, "MxsMaxinfoPort": 3307, "MxsBinlogOn": false, "MxsBinlogPort": 3309, "MxsDisableMonitor": false, "MxsGetInfoMethod": "maxadmin", "MxsServerMatchPort": false, "HaproxyOn": false, "HaproxyWritePort": 3306, "HaproxyReadPort": 3307, "HaproxyStatPort": 1988, "HaproxyWriteBindIp": "0.0.0.0", "HaproxyReadBindIp": "0.0.0.0", "HaproxyBinaryPath": "/usr/sbin/haproxy", "KeyPath": "/etc/replication-manager/.replication-manager.key", "LogLevel": 0, "Test": true, "TestInjectTraffic": false, "Topology": "", "GraphiteMetrics": false, "GraphiteEmbedded": false, "GraphiteCarbonHost": "127.0.0.1", "GraphiteCarbonPort": 2003, "GraphiteCarbonApiPort": 10002, "GraphiteCarbonServerPort": 10003, "GraphiteCarbonLinkPort": 7002, "GraphiteCarbonPicklePort": 2004, "GraphiteCarbonPprofPort": 7007, "SysbenchBinaryPath": "/usr/local/bin/sysbench", "SysbenchTime": 60, "SysbenchThreads": 4, "MariaDBBinaryPath": "/usr/local/mysql/bin", "Arbitration": false, "ArbitrationSasSecret": "", "ArbitrationSasHosts": "88.191.151.84:80", "ArbitrationSasUniqueId": 0, "ArbitrationPeerHosts": "127.0.0.1:10002", "ReplicationSSL": false, "FailForceGtid": true, "RegTestStopCluster": false, "Enterprise": true, "ProvHost": "192.168.100.101:443", "ProvAdminUser": "root@localhost.localdomain:opensvc", "ProvUser": "replication-manager@localhost.localdomain:mariadb", "ProvType": "docker", "ProvAgents": "agent1,agent2", "ProvMem": "256", "ProvIops": "300", "ProvTags": "smallredolog,semisync,innodb,noquerycache,threadpool,logslow,multidomains", "ProvDisk": "1G", "ProvDiskFS": "zfs", "ProvDiskPool": "zpool", "ProvDiskDevice": "/srv", "ProvDiskType": "loopback", "ProvNetIface": "br0", "ProvNetmask": "255.255.255.0", "ProvGateway": "192.168.100.254", "ProvProxType": "docker", "ProvProxAgents": "agent2", "ProvProxDisk": "1G", "ProvProxDiskFS": "zfs", "ProvProxDiskPool": "zpool", "ProvProxDiskDevice": "/srv", "ProvProxDiskType": "loopback", "ProvProxNetIface": "br0", "ProvProxNetmask": "255.255.255.0", "ProvProxGateway": "192.168.100.254", "ProvMaxscaleVip": "", "ProvMdbshardproxyVip": "", "ProvHaproxyVip": "", "ProvWebsqlproxyVip": "", "ProvDbImg": "mariadb:10.2", "ProvProxImg": "asosso/maxscale:latest", "APIUser": "admin:mariadb", "APIPort": "3000", "ConfigFile": "././config/masterslave/mariadb/without_traffic/10.2/x2/multidomains/innodb/maxscale/latest/x1/replication-manager.conf" } }
,
{ "name": "testFailoverAssyncAutoRejoinNoGtid", "result": "FAIL", "config-file": "././config/masterslave/mariadb/without_traffic/10.2/x2/multidomains/innodb/maxscale/latest/x1/replication-manager.conf", "config-init": { "WorkingDir": "/var/lib/replication-manager", "ShareDir": "/usr/local/share/mrm", "User": "root:mariadb", "Hosts": "192.168.100.70,192.168.100.71", "HostsTLSCA": "", "HostsTLSKEY": "", "HostsTLSCLI": "", "Socket": "", "RplUser": "root:mariadb", "Interactive": false, "Verbose": false, "PreScript": "", "PostScript": "", "RejoinScript": "", "PrefMaster": "192.168.100.70", "IgnoreSrv": "", "SwitchWaitKill": 5000, "SwitchWaitTrx": 10, "SwitchWaitWrite": 10, "SwitchGtidCheck": false, "SwitchSync": false, "SwitchMaxDelay": 0, "ReadOnly": true, "Autorejoin": true, "AutorejoinFlashback": true, "AutorejoinMysqldump": true, "AutorejoinBackupBinlog": true, "AutorejoinSemisync": true, "LogFile": "./config/masterslave/mariadb/without_traffic/10.2/x2/multidomains/innodb/maxscale/latest/x1/1.1.0-preview3-99-gc75a256/testFailoverAssyncAutoRejoinNoGtid.log", "MonitoringTicker": 2, "Timeout": 1, "CheckType": "tcp", "CheckReplFilter": true, "CheckBinFilter": true, "ForceSlaveHeartbeat": false, "ForceSlaveHeartbeatTime": 3, "ForceSlaveHeartbeatRetry": 5, "ForceSlaveGtid": false, "ForceSlaveNoGtid": true, "ForceSlaveSemisync": true, "ForceSlaveReadOnly": true, "ForceBinlogRow": false, "ForceBinlogAnnotate": false, "ForceBinlogCompress": false, "ForceBinlogSlowqueries": false, "ForceBinlogChecksum": false, "ForceInmemoryBinlogCacheSize": false, "ForceDiskRelayLogSizeLimit": false, "ForceDiskRelayLogSizeLimitSize": 1000000000, "ForceSyncBinlog": true, "ForceSyncInnoDB": true, "ForceNoslaveBehind": false, "RplChecks": true, "MasterConn": "", "MultiMaster": false, "MultiTierSlave": false, "Spider": false, "BindAddr": "localhost", "HttpPort": "10001", "HttpServ": true, "HttpRoot": "../../dashboard", "HttpAuth": false, "HttpBootstrapButton": true, "SessionLifeTime": 3600, "Daemon": true, "MailFrom": "mrm@localhost", "MailTo": "", "MailSMTPAddr": "localhost:25", "MasterConnectRetry": 10, "FailLimit": 999, "FailTime": 1, "FailSync": false, "FailEventScheduler": false, "FailEventStatus": false, "FailRestartUnsafe": false, "MaxFail": 3, "FailResetTime": 300, "FailMaxDelay": 0, "CheckFalsePositiveHeartbeat": false, "CheckFalsePositiveMaxscale": false, "CheckFalsePositiveHeartbeatTimeout": 3, "CheckFalsePositiveMaxscaleTimeout": 14, "CheckFalsePositiveExternal": false, "CheckFalsePositiveExternalPort": 80, "Heartbeat": false, "MdbsProxyOn": false, "MdbsProxyHosts": "127.0.0.1:3307", "MdbsProxyUser": "admin", "MxsOn": true, "MxsHost": "192.168.100.50", "MxsPort": "3307", "MxsUser": "admin", "MxsPass": "mariadb", "MxsWritePort": 4007, "MxsReadPort": 4008, "MxsReadWritePort": 4006, "MxsMaxinfoPort": 3307, "MxsBinlogOn": false, "MxsBinlogPort": 3309, "MxsDisableMonitor": false, "MxsGetInfoMethod": "maxadmin", "MxsServerMatchPort": false, "HaproxyOn": false, "HaproxyWritePort": 3306, "HaproxyReadPort": 3307, "HaproxyStatPort": 1988, "HaproxyWriteBindIp": "0.0.0.0", "HaproxyReadBindIp": "0.0.0.0", "HaproxyBinaryPath": "/usr/sbin/haproxy", "KeyPath": "/etc/replication-manager/.replication-manager.key", "LogLevel": 0, "Test": true, "TestInjectTraffic": false, "Topology": "", "GraphiteMetrics": false, "GraphiteEmbedded": false, "GraphiteCarbonHost": "127.0.0.1", "GraphiteCarbonPort": 2003, "GraphiteCarbonApiPort": 10002, "GraphiteCarbonServerPort": 10003, "GraphiteCarbonLinkPort": 7002, "GraphiteCarbonPicklePort": 2004, "GraphiteCarbonPprofPort": 7007, "SysbenchBinaryPath": "/usr/local/bin/sysbench", "SysbenchTime": 60, "SysbenchThreads": 4, "MariaDBBinaryPath": "/usr/local/mysql/bin", "Arbitration": false, "ArbitrationSasSecret": "", "ArbitrationSasHosts": "88.191.151.84:80", "ArbitrationSasUniqueId": 0, "ArbitrationPeerHosts": "127.0.0.1:10002", "ReplicationSSL": false, "FailForceGtid": true, "RegTestStopCluster": false, "Enterprise": true, "ProvHost": "192.168.100.101:443", "ProvAdminUser": "root@localhost.localdomain:opensvc", "ProvUser": "replication-manager@localhost.localdomain:mariadb", "ProvType": "docker", "ProvAgents": "agent1,agent2", "ProvMem": "256", "ProvIops": "300", "ProvTags": "smallredolog,semisync,innodb,noquerycache,threadpool,logslow,multidomains", "ProvDisk": "1G", "ProvDiskFS": "zfs", "ProvDiskPool": "zpool", "ProvDiskDevice": "/srv", "ProvDiskType": "loopback", "ProvNetIface": "br0", "ProvNetmask": "255.255.255.0", "ProvGateway": "192.168.100.254", "ProvProxType": "docker", "ProvProxAgents": "agent2", "ProvProxDisk": "1G", "ProvProxDiskFS": "zfs", "ProvProxDiskPool": "zpool", "ProvProxDiskDevice": "/srv", "ProvProxDiskType": "loopback", "ProvProxNetIface": "br0", "ProvProxNetmask": "255.255.255.0", "ProvProxGateway": "192.168.100.254", "ProvMaxscaleVip": "", "ProvMdbshardproxyVip": "", "ProvHaproxyVip": "", "ProvWebsqlproxyVip": "", "ProvDbImg": "mariadb:10.2", "ProvProxImg": "asosso/maxscale:latest", "APIUser": "admin:mariadb", "APIPort": "3000", "ConfigFile": "././config/masterslave/mariadb/without_traffic/10.2/x2/multidomains/innodb/maxscale/latest/x1/replication-manager.conf" }, "config-test": { "WorkingDir": "/var/lib/replication-manager", "ShareDir": "/usr/local/share/mrm", "User": "root:mariadb", "Hosts": "192.168.100.70,192.168.100.71", "HostsTLSCA": "", "HostsTLSKEY": "", "HostsTLSCLI": "", "Socket": "", "RplUser": "root:mariadb", "Interactive": false, "Verbose": false, "PreScript": "", "PostScript": "", "RejoinScript": "", "PrefMaster": "192.168.100.70", "IgnoreSrv": "", "SwitchWaitKill": 5000, "SwitchWaitTrx": 10, "SwitchWaitWrite": 10, "SwitchGtidCheck": false, "SwitchSync": false, "SwitchMaxDelay": 0, "ReadOnly": true, "Autorejoin": true, "AutorejoinFlashback": true, "AutorejoinMysqldump": true, "AutorejoinBackupBinlog": true, "AutorejoinSemisync": true, "LogFile": "./config/masterslave/mariadb/without_traffic/10.2/x2/multidomains/innodb/maxscale/latest/x1/1.1.0-preview3-99-gc75a256/testFailoverAssyncAutoRejoinNoGtid.log", "MonitoringTicker": 2, "Timeout": 1, "CheckType": "tcp", "CheckReplFilter": true, "CheckBinFilter": true, "ForceSlaveHeartbeat": false, "ForceSlaveHeartbeatTime": 3, "ForceSlaveHeartbeatRetry": 5, "ForceSlaveGtid": false, "ForceSlaveNoGtid": true, "ForceSlaveSemisync": true, "ForceSlaveReadOnly": true, "ForceBinlogRow": false, "ForceBinlogAnnotate": false, "ForceBinlogCompress": false, "ForceBinlogSlowqueries": false, "ForceBinlogChecksum": false, "ForceInmemoryBinlogCacheSize": false, "ForceDiskRelayLogSizeLimit": false, "ForceDiskRelayLogSizeLimitSize": 1000000000, "ForceSyncBinlog": true, "ForceSyncInnoDB": true, "ForceNoslaveBehind": false, "RplChecks": false, "MasterConn": "", "MultiMaster": false, "MultiTierSlave": false, "Spider": false, "BindAddr": "localhost", "HttpPort": "10001", "HttpServ": true, "HttpRoot": "../../dashboard", "HttpAuth": false, "HttpBootstrapButton": true, "SessionLifeTime": 3600, "Daemon": true, "MailFrom": "mrm@localhost", "MailTo": "", "MailSMTPAddr": "localhost:25", "MasterConnectRetry": 10, "FailLimit": 999, "FailTime": 1, "FailSync": false, "FailEventScheduler": false, "FailEventStatus": false, "FailRestartUnsafe": false, "MaxFail": 3, "FailResetTime": 300, "FailMaxDelay": 0, "CheckFalsePositiveHeartbeat": false, "CheckFalsePositiveMaxscale": false, "CheckFalsePositiveHeartbeatTimeout": 3, "CheckFalsePositiveMaxscaleTimeout": 14, "CheckFalsePositiveExternal": false, "CheckFalsePositiveExternalPort": 80, "Heartbeat": false, "MdbsProxyOn": false, "MdbsProxyHosts": "127.0.0.1:3307", "MdbsProxyUser": "admin", "MxsOn": true, "MxsHost": "192.168.100.50", "MxsPort": "3307", "MxsUser": "admin", "MxsPass": "mariadb", "MxsWritePort": 4007, "MxsReadPort": 4008, "MxsReadWritePort": 4006, "MxsMaxinfoPort": 3307, "MxsBinlogOn": false, "MxsBinlogPort": 3309, "MxsDisableMonitor": false, "MxsGetInfoMethod": "maxadmin", "MxsServerMatchPort": false, "HaproxyOn": false, "HaproxyWritePort": 3306, "HaproxyReadPort": 3307, "HaproxyStatPort": 1988, "HaproxyWriteBindIp": "0.0.0.0", "HaproxyReadBindIp": "0.0.0.0", "HaproxyBinaryPath": "/usr/sbin/haproxy", "KeyPath": "/etc/replication-manager/.replication-manager.key", "LogLevel": 0, "Test": true, "TestInjectTraffic": false, "Topology": "", "GraphiteMetrics": false, "GraphiteEmbedded": false, "GraphiteCarbonHost": "127.0.0.1", "GraphiteCarbonPort": 2003, "GraphiteCarbonApiPort": 10002, "GraphiteCarbonServerPort": 10003, "GraphiteCarbonLinkPort": 7002, "GraphiteCarbonPicklePort": 2004, "GraphiteCarbonPprofPort": 7007, "SysbenchBinaryPath": "/usr/local/bin/sysbench", "SysbenchTime": 60, "SysbenchThreads": 4, "MariaDBBinaryPath": "/usr/local/mysql/bin", "Arbitration": false, "ArbitrationSasSecret": "", "ArbitrationSasHosts": "88.191.151.84:80", "ArbitrationSasUniqueId": 0, "ArbitrationPeerHosts": "127.0.0.1:10002", "ReplicationSSL": false, "FailForceGtid": true, "RegTestStopCluster": false, "Enterprise": true, "ProvHost": "192.168.100.101:443", "ProvAdminUser": "root@localhost.localdomain:opensvc", "ProvUser": "replication-manager@localhost.localdomain:mariadb", "ProvType": "docker", "ProvAgents": "agent1,agent2", "ProvMem": "256", "ProvIops": "300", "ProvTags": "smallredolog,semisync,innodb,noquerycache,threadpool,logslow,multidomains", "ProvDisk": "1G", "ProvDiskFS": "zfs", "ProvDiskPool": "zpool", "ProvDiskDevice": "/srv", "ProvDiskType": "loopback", "ProvNetIface": "br0", "ProvNetmask": "255.255.255.0", "ProvGateway": "192.168.100.254", "ProvProxType": "docker", "ProvProxAgents": "agent2", "ProvProxDisk": "1G", "ProvProxDiskFS": "zfs", "ProvProxDiskPool": "zpool", "ProvProxDiskDevice": "/srv", "ProvProxDiskType": "loopback", "ProvProxNetIface": "br0", "ProvProxNetmask": "255.255.255.0", "ProvProxGateway": "192.168.100.254", "ProvMaxscaleVip": "", "ProvMdbshardproxyVip": "", "ProvHaproxyVip": "", "ProvWebsqlproxyVip": "", "ProvDbImg": "mariadb:10.2", "ProvProxImg": "asosso/maxscale:latest", "APIUser": "admin:mariadb", "APIPort": "3000", "ConfigFile": "././config/masterslave/mariadb/without_traffic/10.2/x2/multidomains/innodb/maxscale/latest/x1/replication-manager.conf" } }
,
{ "name": "testFailoverAllSlavesDelayNoRplChecksNoSemiSync", "result": "FAIL", "config-file": "././config/masterslave/mariadb/without_traffic/10.2/x2/multidomains/innodb/maxscale/latest/x1/replication-manager.conf", "config-init": { "WorkingDir": "/var/lib/replication-manager", "ShareDir": "/usr/local/share/mrm", "User": "root:mariadb", "Hosts": "192.168.100.70,192.168.100.71", "HostsTLSCA": "", "HostsTLSKEY": "", "HostsTLSCLI": "", "Socket": "", "RplUser": "root:mariadb", "Interactive": false, "Verbose": false, "PreScript": "", "PostScript": "", "RejoinScript": "", "PrefMaster": "192.168.100.70", "IgnoreSrv": "", "SwitchWaitKill": 5000, "SwitchWaitTrx": 10, "SwitchWaitWrite": 10, "SwitchGtidCheck": false, "SwitchSync": false, "SwitchMaxDelay": 0, "ReadOnly": true, "Autorejoin": true, "AutorejoinFlashback": true, "AutorejoinMysqldump": true, "AutorejoinBackupBinlog": true, "AutorejoinSemisync": true, "LogFile": "./config/masterslave/mariadb/without_traffic/10.2/x2/multidomains/innodb/maxscale/latest/x1/1.1.0-preview3-99-gc75a256/testFailoverAllSlavesDelayNoRplChecksNoSemiSync.log", "MonitoringTicker": 2, "Timeout": 1, "CheckType": "tcp", "CheckReplFilter": true, "CheckBinFilter": true, "ForceSlaveHeartbeat": false, "ForceSlaveHeartbeatTime": 3, "ForceSlaveHeartbeatRetry": 5, "ForceSlaveGtid": false, "ForceSlaveNoGtid": false, "ForceSlaveSemisync": true, "ForceSlaveReadOnly": true, "ForceBinlogRow": false, "ForceBinlogAnnotate": false, "ForceBinlogCompress": false, "ForceBinlogSlowqueries": false, "ForceBinlogChecksum": false, "ForceInmemoryBinlogCacheSize": false, "ForceDiskRelayLogSizeLimit": false, "ForceDiskRelayLogSizeLimitSize": 1000000000, "ForceSyncBinlog": true, "ForceSyncInnoDB": true, "ForceNoslaveBehind": false, "RplChecks": true, "MasterConn": "", "MultiMaster": false, "MultiTierSlave": false, "Spider": false, "BindAddr": "localhost", "HttpPort": "10001", "HttpServ": true, "HttpRoot": "../../dashboard", "HttpAuth": false, "HttpBootstrapButton": true, "SessionLifeTime": 3600, "Daemon": true, "MailFrom": "mrm@localhost", "MailTo": "", "MailSMTPAddr": "localhost:25", "MasterConnectRetry": 10, "FailLimit": 999, "FailTime": 1, "FailSync": false, "FailEventScheduler": false, "FailEventStatus": false, "FailRestartUnsafe": false, "MaxFail": 3, "FailResetTime": 300, "FailMaxDelay": 0, "CheckFalsePositiveHeartbeat": false, "CheckFalsePositiveMaxscale": false, "CheckFalsePositiveHeartbeatTimeout": 3, "CheckFalsePositiveMaxscaleTimeout": 14, "CheckFalsePositiveExternal": false, "CheckFalsePositiveExternalPort": 80, "Heartbeat": false, "MdbsProxyOn": false, "MdbsProxyHosts": "127.0.0.1:3307", "MdbsProxyUser": "admin", "MxsOn": true, "MxsHost": "192.168.100.50", "MxsPort": "3307", "MxsUser": "admin", "MxsPass": "mariadb", "MxsWritePort": 4007, "MxsReadPort": 4008, "MxsReadWritePort": 4006, "MxsMaxinfoPort": 3307, "MxsBinlogOn": false, "MxsBinlogPort": 3309, "MxsDisableMonitor": false, "MxsGetInfoMethod": "maxadmin", "MxsServerMatchPort": false, "HaproxyOn": false, "HaproxyWritePort": 3306, "HaproxyReadPort": 3307, "HaproxyStatPort": 1988, "HaproxyWriteBindIp": "0.0.0.0", "HaproxyReadBindIp": "0.0.0.0", "HaproxyBinaryPath": "/usr/sbin/haproxy", "KeyPath": "/etc/replication-manager/.replication-manager.key", "LogLevel": 0, "Test": true, "TestInjectTraffic": false, "Topology": "", "GraphiteMetrics": false, "GraphiteEmbedded": false, "GraphiteCarbonHost": "127.0.0.1", "GraphiteCarbonPort": 2003, "GraphiteCarbonApiPort": 10002, "GraphiteCarbonServerPort": 10003, "GraphiteCarbonLinkPort": 7002, "GraphiteCarbonPicklePort": 2004, "GraphiteCarbonPprofPort": 7007, "SysbenchBinaryPath": "/usr/local/bin/sysbench", "SysbenchTime": 60, "SysbenchThreads": 4, "MariaDBBinaryPath": "/usr/local/mysql/bin", "Arbitration": false, "ArbitrationSasSecret": "", "ArbitrationSasHosts": "88.191.151.84:80", "ArbitrationSasUniqueId": 0, "ArbitrationPeerHosts": "127.0.0.1:10002", "ReplicationSSL": false, "FailForceGtid": true, "RegTestStopCluster": false, "Enterprise": true, "ProvHost": "192.168.100.101:443", "ProvAdminUser": "root@localhost.localdomain:opensvc", "ProvUser": "replication-manager@localhost.localdomain:mariadb", "ProvType": "docker", "ProvAgents": "agent1,agent2", "ProvMem": "256", "ProvIops": "300", "ProvTags": "smallredolog,semisync,innodb,noquerycache,threadpool,logslow,multidomains", "ProvDisk": "1G", "ProvDiskFS": "zfs", "ProvDiskPool": "zpool", "ProvDiskDevice": "/srv", "ProvDiskType": "loopback", "ProvNetIface": "br0", "ProvNetmask": "255.255.255.0", "ProvGateway": "192.168.100.254", "ProvProxType": "docker", "ProvProxAgents": "agent2", "ProvProxDisk": "1G", "ProvProxDiskFS": "zfs", "ProvProxDiskPool": "zpool", "ProvProxDiskDevice": "/srv", "ProvProxDiskType": "loopback", "ProvProxNetIface": "br0", "ProvProxNetmask": "255.255.255.0", "ProvProxGateway": "192.168.100.254", "ProvMaxscaleVip": "", "ProvMdbshardproxyVip": "", "ProvHaproxyVip": "", "ProvWebsqlproxyVip": "", "ProvDbImg": "mariadb:10.2", "ProvProxImg": "asosso/maxscale:latest", "APIUser": "admin:mariadb", "APIPort": "3000", "ConfigFile": "././config/masterslave/mariadb/without_traffic/10.2/x2/multidomains/innodb/maxscale/latest/x1/replication-manager.conf" }, "config-test": { "WorkingDir": "/var/lib/replication-manager", "ShareDir": "/usr/local/share/mrm", "User": "root:mariadb", "Hosts": "192.168.100.70,192.168.100.71", "HostsTLSCA": "", "HostsTLSKEY": "", "HostsTLSCLI": "", "Socket": "", "RplUser": "root:mariadb", "Interactive": false, "Verbose": false, "PreScript": "", "PostScript": "", "RejoinScript": "", "PrefMaster": "192.168.100.70", "IgnoreSrv": "", "SwitchWaitKill": 5000, "SwitchWaitTrx": 10, "SwitchWaitWrite": 10, "SwitchGtidCheck": false, "SwitchSync": false, "SwitchMaxDelay": 4, "ReadOnly": true, "Autorejoin": true, "AutorejoinFlashback": true, "AutorejoinMysqldump": true, "AutorejoinBackupBinlog": true, "AutorejoinSemisync": true, "LogFile": "./config/masterslave/mariadb/without_traffic/10.2/x2/multidomains/innodb/maxscale/latest/x1/1.1.0-preview3-99-gc75a256/testFailoverAllSlavesDelayNoRplChecksNoSemiSync.log", "MonitoringTicker": 2, "Timeout": 1, "CheckType": "tcp", "CheckReplFilter": true, "CheckBinFilter": true, "ForceSlaveHeartbeat": false, "ForceSlaveHeartbeatTime": 3, "ForceSlaveHeartbeatRetry": 5, "ForceSlaveGtid": false, "ForceSlaveNoGtid": false, "ForceSlaveSemisync": true, "ForceSlaveReadOnly": true, "ForceBinlogRow": false, "ForceBinlogAnnotate": false, "ForceBinlogCompress": false, "ForceBinlogSlowqueries": false, "ForceBinlogChecksum": false, "ForceInmemoryBinlogCacheSize": false, "ForceDiskRelayLogSizeLimit": false, "ForceDiskRelayLogSizeLimitSize": 1000000000, "ForceSyncBinlog": true, "ForceSyncInnoDB": true, "ForceNoslaveBehind": false, "RplChecks": false, "MasterConn": "", "MultiMaster": false, "MultiTierSlave": false, "Spider": false, "BindAddr": "localhost", "HttpPort": "10001", "HttpServ": true, "HttpRoot": "../../dashboard", "HttpAuth": false, "HttpBootstrapButton": true, "SessionLifeTime": 3600, "Daemon": true, "MailFrom": "mrm@localhost", "MailTo": "", "MailSMTPAddr": "localhost:25", "MasterConnectRetry": 10, "FailLimit": 5, "FailTime": 0, "FailSync": false, "FailEventScheduler": false, "FailEventStatus": false, "FailRestartUnsafe": false, "MaxFail": 3, "FailResetTime": 300, "FailMaxDelay": 0, "CheckFalsePositiveHeartbeat": false, "CheckFalsePositiveMaxscale": false, "CheckFalsePositiveHeartbeatTimeout": 3, "CheckFalsePositiveMaxscaleTimeout": 14, "CheckFalsePositiveExternal": false, "CheckFalsePositiveExternalPort": 80, "Heartbeat": false, "MdbsProxyOn": false, "MdbsProxyHosts": "127.0.0.1:3307", "MdbsProxyUser": "admin", "MxsOn": true, "MxsHost": "192.168.100.50", "MxsPort": "3307", "MxsUser": "admin", "MxsPass": "mariadb", "MxsWritePort": 4007, "MxsReadPort": 4008, "MxsReadWritePort": 4006, "MxsMaxinfoPort": 3307, "MxsBinlogOn": false, "MxsBinlogPort": 3309, "MxsDisableMonitor": false, "MxsGetInfoMethod": "maxadmin", "MxsServerMatchPort": false, "HaproxyOn": false, "HaproxyWritePort": 3306, "HaproxyReadPort": 3307, "HaproxyStatPort": 1988, "HaproxyWriteBindIp": "0.0.0.0", "HaproxyReadBindIp": "0.0.0.0", "HaproxyBinaryPath": "/usr/sbin/haproxy", "KeyPath": "/etc/replication-manager/.replication-manager.key", "LogLevel": 0, "Test": true, "TestInjectTraffic": false, "Topology": "", "GraphiteMetrics": false, "GraphiteEmbedded": false, "GraphiteCarbonHost": "127.0.0.1", "GraphiteCarbonPort": 2003, "GraphiteCarbonApiPort": 10002, "GraphiteCarbonServerPort": 10003, "GraphiteCarbonLinkPort": 7002, "GraphiteCarbonPicklePort": 2004, "GraphiteCarbonPprofPort": 7007, "SysbenchBinaryPath": "/usr/local/bin/sysbench", "SysbenchTime": 60, "SysbenchThreads": 4, "MariaDBBinaryPath": "/usr/local/mysql/bin", "Arbitration": false, "ArbitrationSasSecret": "", "ArbitrationSasHosts": "88.191.151.84:80", "ArbitrationSasUniqueId": 0, "ArbitrationPeerHosts": "127.0.0.1:10002", "ReplicationSSL": false, "FailForceGtid": true, "RegTestStopCluster": false, "Enterprise": true, "ProvHost": "192.168.100.101:443", "ProvAdminUser": "root@localhost.localdomain:opensvc", "ProvUser": "replication-manager@localhost.localdomain:mariadb", "ProvType": "docker", "ProvAgents": "agent1,agent2", "ProvMem": "256", "ProvIops": "300", "ProvTags": "smallredolog,semisync,innodb,noquerycache,threadpool,logslow,multidomains", "ProvDisk": "1G", "ProvDiskFS": "zfs", "ProvDiskPool": "zpool", "ProvDiskDevice": "/srv", "ProvDiskType": "loopback", "ProvNetIface": "br0", "ProvNetmask": "255.255.255.0", "ProvGateway": "192.168.100.254", "ProvProxType": "docker", "ProvProxAgents": "agent2", "ProvProxDisk": "1G", "ProvProxDiskFS": "zfs", "ProvProxDiskPool": "zpool", "ProvProxDiskDevice": "/srv", "ProvProxDiskType": "loopback", "ProvProxNetIface": "br0", "ProvProxNetmask": "255.255.255.0", "ProvProxGateway": "192.168.100.254", "ProvMaxscaleVip": "", "ProvMdbshardproxyVip": "", "ProvHaproxyVip": "", "ProvWebsqlproxyVip": "", "ProvDbImg": "mariadb:10.2", "ProvProxImg": "asosso/maxscale:latest", "APIUser": "admin:mariadb", "APIPort": "3000", "ConfigFile": "././config/masterslave/mariadb/without_traffic/10.2/x2/multidomains/innodb/maxscale/latest/x1/replication-manager.conf" } }
,
{ "name": "testFailoverAllSlavesDelayRplChecksNoSemiSync", "result": "PASS", "config-file": "././config/masterslave/mariadb/without_traffic/10.2/x2/multidomains/innodb/maxscale/latest/x1/replication-manager.conf", "config-init": { "WorkingDir": "/var/lib/replication-manager", "ShareDir": "/usr/local/share/mrm", "User": "root:mariadb", "Hosts": "192.168.100.70,192.168.100.71", "HostsTLSCA": "", "HostsTLSKEY": "", "HostsTLSCLI": "", "Socket": "", "RplUser": "root:mariadb", "Interactive": false, "Verbose": false, "PreScript": "", "PostScript": "", "RejoinScript": "", "PrefMaster": "192.168.100.70", "IgnoreSrv": "", "SwitchWaitKill": 5000, "SwitchWaitTrx": 10, "SwitchWaitWrite": 10, "SwitchGtidCheck": false, "SwitchSync": false, "SwitchMaxDelay": 0, "ReadOnly": true, "Autorejoin": true, "AutorejoinFlashback": true, "AutorejoinMysqldump": true, "AutorejoinBackupBinlog": true, "AutorejoinSemisync": true, "LogFile": "./config/masterslave/mariadb/without_traffic/10.2/x2/multidomains/innodb/maxscale/latest/x1/1.1.0-preview3-99-gc75a256/testFailoverAllSlavesDelayRplChecksNoSemiSync.log", "MonitoringTicker": 2, "Timeout": 1, "CheckType": "tcp", "CheckReplFilter": true, "CheckBinFilter": true, "ForceSlaveHeartbeat": false, "ForceSlaveHeartbeatTime": 3, "ForceSlaveHeartbeatRetry": 5, "ForceSlaveGtid": false, "ForceSlaveNoGtid": false, "ForceSlaveSemisync": true, "ForceSlaveReadOnly": true, "ForceBinlogRow": false, "ForceBinlogAnnotate": false, "ForceBinlogCompress": false, "ForceBinlogSlowqueries": false, "ForceBinlogChecksum": false, "ForceInmemoryBinlogCacheSize": false, "ForceDiskRelayLogSizeLimit": false, "ForceDiskRelayLogSizeLimitSize": 1000000000, "ForceSyncBinlog": true, "ForceSyncInnoDB": true, "ForceNoslaveBehind": false, "RplChecks": true, "MasterConn": "", "MultiMaster": false, "MultiTierSlave": false, "Spider": false, "BindAddr": "localhost", "HttpPort": "10001", "HttpServ": true, "HttpRoot": "../../dashboard", "HttpAuth": false, "HttpBootstrapButton": true, "SessionLifeTime": 3600, "Daemon": true, "MailFrom": "mrm@localhost", "MailTo": "", "MailSMTPAddr": "localhost:25", "MasterConnectRetry": 10, "FailLimit": 999, "FailTime": 1, "FailSync": false, "FailEventScheduler": false, "FailEventStatus": false, "FailRestartUnsafe": false, "MaxFail": 3, "FailResetTime": 300, "FailMaxDelay": 0, "CheckFalsePositiveHeartbeat": false, "CheckFalsePositiveMaxscale": false, "CheckFalsePositiveHeartbeatTimeout": 3, "CheckFalsePositiveMaxscaleTimeout": 14, "CheckFalsePositiveExternal": false, "CheckFalsePositiveExternalPort": 80, "Heartbeat": false, "MdbsProxyOn": false, "MdbsProxyHosts": "127.0.0.1:3307", "MdbsProxyUser": "admin", "MxsOn": true, "MxsHost": "192.168.100.50", "MxsPort": "3307", "MxsUser": "admin", "MxsPass": "mariadb", "MxsWritePort": 4007, "MxsReadPort": 4008, "MxsReadWritePort": 4006, "MxsMaxinfoPort": 3307, "MxsBinlogOn": false, "MxsBinlogPort": 3309, "MxsDisableMonitor": false, "MxsGetInfoMethod": "maxadmin", "MxsServerMatchPort": false, "HaproxyOn": false, "HaproxyWritePort": 3306, "HaproxyReadPort": 3307, "HaproxyStatPort": 1988, "HaproxyWriteBindIp": "0.0.0.0", "HaproxyReadBindIp": "0.0.0.0", "HaproxyBinaryPath": "/usr/sbin/haproxy", "KeyPath": "/etc/replication-manager/.replication-manager.key", "LogLevel": 0, "Test": true, "TestInjectTraffic": false, "Topology": "", "GraphiteMetrics": false, "GraphiteEmbedded": false, "GraphiteCarbonHost": "127.0.0.1", "GraphiteCarbonPort": 2003, "GraphiteCarbonApiPort": 10002, "GraphiteCarbonServerPort": 10003, "GraphiteCarbonLinkPort": 7002, "GraphiteCarbonPicklePort": 2004, "GraphiteCarbonPprofPort": 7007, "SysbenchBinaryPath": "/usr/local/bin/sysbench", "SysbenchTime": 60, "SysbenchThreads": 4, "MariaDBBinaryPath": "/usr/local/mysql/bin", "Arbitration": false, "ArbitrationSasSecret": "", "ArbitrationSasHosts": "88.191.151.84:80", "ArbitrationSasUniqueId": 0, "ArbitrationPeerHosts": "127.0.0.1:10002", "ReplicationSSL": false, "FailForceGtid": true, "RegTestStopCluster": false, "Enterprise": true, "ProvHost": "192.168.100.101:443", "ProvAdminUser": "root@localhost.localdomain:opensvc", "ProvUser": "replication-manager@localhost.localdomain:mariadb", "ProvType": "docker", "ProvAgents": "agent1,agent2", "ProvMem": "256", "ProvIops": "300", "ProvTags": "smallredolog,semisync,innodb,noquerycache,threadpool,logslow,multidomains", "ProvDisk": "1G", "ProvDiskFS": "zfs", "ProvDiskPool": "zpool", "ProvDiskDevice": "/srv", "ProvDiskType": "loopback", "ProvNetIface": "br0", "ProvNetmask": "255.255.255.0", "ProvGateway": "192.168.100.254", "ProvProxType": "docker", "ProvProxAgents": "agent2", "ProvProxDisk": "1G", "ProvProxDiskFS": "zfs", "ProvProxDiskPool": "zpool", "ProvProxDiskDevice": "/srv", "ProvProxDiskType": "loopback", "ProvProxNetIface": "br0", "ProvProxNetmask": "255.255.255.0", "ProvProxGateway": "192.168.100.254", "ProvMaxscaleVip": "", "ProvMdbshardproxyVip": "", "ProvHaproxyVip": "", "ProvWebsqlproxyVip": "", "ProvDbImg": "mariadb:10.2", "ProvProxImg": "asosso/maxscale:latest", "APIUser": "admin:mariadb", "APIPort": "3000", "ConfigFile": "././config/masterslave/mariadb/without_traffic/10.2/x2/multidomains/innodb/maxscale/latest/x1/replication-manager.conf" }, "config-test": { "WorkingDir": "/var/lib/replication-manager", "ShareDir": "/usr/local/share/mrm", "User": "root:mariadb", "Hosts": "192.168.100.70,192.168.100.71", "HostsTLSCA": "", "HostsTLSKEY": "", "HostsTLSCLI": "", "Socket": "", "RplUser": "root:mariadb", "Interactive": false, "Verbose": false, "PreScript": "", "PostScript": "", "RejoinScript": "", "PrefMaster": "192.168.100.70", "IgnoreSrv": "", "SwitchWaitKill": 5000, "SwitchWaitTrx": 10, "SwitchWaitWrite": 10, "SwitchGtidCheck": false, "SwitchSync": false, "SwitchMaxDelay": 4, "ReadOnly": true, "Autorejoin": true, "AutorejoinFlashback": true, "AutorejoinMysqldump": true, "AutorejoinBackupBinlog": true, "AutorejoinSemisync": true, "LogFile": "./config/masterslave/mariadb/without_traffic/10.2/x2/multidomains/innodb/maxscale/latest/x1/1.1.0-preview3-99-gc75a256/testFailoverAllSlavesDelayRplChecksNoSemiSync.log", "MonitoringTicker": 2, "Timeout": 1, "CheckType": "tcp", "CheckReplFilter": true, "CheckBinFilter": true, "ForceSlaveHeartbeat": false, "ForceSlaveHeartbeatTime": 3, "ForceSlaveHeartbeatRetry": 5, "ForceSlaveGtid": false, "ForceSlaveNoGtid": false, "ForceSlaveSemisync": true, "ForceSlaveReadOnly": true, "ForceBinlogRow": false, "ForceBinlogAnnotate": false, "ForceBinlogCompress": false, "ForceBinlogSlowqueries": false, "ForceBinlogChecksum": false, "ForceInmemoryBinlogCacheSize": false, "ForceDiskRelayLogSizeLimit": false, "ForceDiskRelayLogSizeLimitSize": 1000000000, "ForceSyncBinlog": true, "ForceSyncInnoDB": true, "ForceNoslaveBehind": false, "RplChecks": true, "MasterConn": "", "MultiMaster": false, "MultiTierSlave": false, "Spider": false, "BindAddr": "localhost", "HttpPort": "10001", "HttpServ": true, "HttpRoot": "../../dashboard", "HttpAuth": false, "HttpBootstrapButton": true, "SessionLifeTime": 3600, "Daemon": true, "MailFrom": "mrm@localhost", "MailTo": "", "MailSMTPAddr": "localhost:25", "MasterConnectRetry": 10, "FailLimit": 5, "FailTime": 0, "FailSync": false, "FailEventScheduler": false, "FailEventStatus": false, "FailRestartUnsafe": false, "MaxFail": 3, "FailResetTime": 300, "FailMaxDelay": 0, "CheckFalsePositiveHeartbeat": false, "CheckFalsePositiveMaxscale": false, "CheckFalsePositiveHeartbeatTimeout": 3, "CheckFalsePositiveMaxscaleTimeout": 14, "CheckFalsePositiveExternal": false, "CheckFalsePositiveExternalPort": 80, "Heartbeat": false, "MdbsProxyOn": false, "MdbsProxyHosts": "127.0.0.1:3307", "MdbsProxyUser": "admin", "MxsOn": true, "MxsHost": "192.168.100.50", "MxsPort": "3307", "MxsUser": "admin", "MxsPass": "mariadb", "MxsWritePort": 4007, "MxsReadPort": 4008, "MxsReadWritePort": 4006, "MxsMaxinfoPort": 3307, "MxsBinlogOn": false, "MxsBinlogPort": 3309, "MxsDisableMonitor": false, "MxsGetInfoMethod": "maxadmin", "MxsServerMatchPort": false, "HaproxyOn": false, "HaproxyWritePort": 3306, "HaproxyReadPort": 3307, "HaproxyStatPort": 1988, "HaproxyWriteBindIp": "0.0.0.0", "HaproxyReadBindIp": "0.0.0.0", "HaproxyBinaryPath": "/usr/sbin/haproxy", "KeyPath": "/etc/replication-manager/.replication-manager.key", "LogLevel": 0, "Test": true, "TestInjectTraffic": false, "Topology": "", "GraphiteMetrics": false, "GraphiteEmbedded": false, "GraphiteCarbonHost": "127.0.0.1", "GraphiteCarbonPort": 2003, "GraphiteCarbonApiPort": 10002, "GraphiteCarbonServerPort": 10003, "GraphiteCarbonLinkPort": 7002, "GraphiteCarbonPicklePort": 2004, "GraphiteCarbonPprofPort": 7007, "SysbenchBinaryPath": "/usr/local/bin/sysbench", "SysbenchTime": 60, "SysbenchThreads": 4, "MariaDBBinaryPath": "/usr/local/mysql/bin", "Arbitration": false, "ArbitrationSasSecret": "", "ArbitrationSasHosts": "88.191.151.84:80", "ArbitrationSasUniqueId": 0, "ArbitrationPeerHosts": "127.0.0.1:10002", "ReplicationSSL": false, "FailForceGtid": true, "RegTestStopCluster": false, "Enterprise": true, "ProvHost": "192.168.100.101:443", "ProvAdminUser": "root@localhost.localdomain:opensvc", "ProvUser": "replication-manager@localhost.localdomain:mariadb", "ProvType": "docker", "ProvAgents": "agent1,agent2", "ProvMem": "256", "ProvIops": "300", "ProvTags": "smallredolog,semisync,innodb,noquerycache,threadpool,logslow,multidomains", "ProvDisk": "1G", "ProvDiskFS": "zfs", "ProvDiskPool": "zpool", "ProvDiskDevice": "/srv", "ProvDiskType": "loopback", "ProvNetIface": "br0", "ProvNetmask": "255.255.255.0", "ProvGateway": "192.168.100.254", "ProvProxType": "docker", "ProvProxAgents": "agent2", "ProvProxDisk": "1G", "ProvProxDiskFS": "zfs", "ProvProxDiskPool": "zpool", "ProvProxDiskDevice": "/srv", "ProvProxDiskType": "loopback", "ProvProxNetIface": "br0", "ProvProxNetmask": "255.255.255.0", "ProvProxGateway": "192.168.100.254", "ProvMaxscaleVip": "", "ProvMdbshardproxyVip": "", "ProvHaproxyVip": "", "ProvWebsqlproxyVip": "", "ProvDbImg": "mariadb:10.2", "ProvProxImg": "asosso/maxscale:latest", "APIUser": "admin:mariadb", "APIPort": "3000", "ConfigFile": "././config/masterslave/mariadb/without_traffic/10.2/x2/multidomains/innodb/maxscale/latest/x1/replication-manager.conf" } }
,
{ "name": "testFailoverNoRplChecksNoSemiSync", "result": "FAIL", "config-file": "././config/masterslave/mariadb/without_traffic/10.2/x2/multidomains/innodb/maxscale/latest/x1/replication-manager.conf", "config-init": { "WorkingDir": "/var/lib/replication-manager", "ShareDir": "/usr/local/share/mrm", "User": "root:mariadb", "Hosts": "192.168.100.70,192.168.100.71", "HostsTLSCA": "", "HostsTLSKEY": "", "HostsTLSCLI": "", "Socket": "", "RplUser": "root:mariadb", "Interactive": false, "Verbose": false, "PreScript": "", "PostScript": "", "RejoinScript": "", "PrefMaster": "192.168.100.70", "IgnoreSrv": "", "SwitchWaitKill": 5000, "SwitchWaitTrx": 10, "SwitchWaitWrite": 10, "SwitchGtidCheck": false, "SwitchSync": false, "SwitchMaxDelay": 0, "ReadOnly": true, "Autorejoin": true, "AutorejoinFlashback": true, "AutorejoinMysqldump": true, "AutorejoinBackupBinlog": true, "AutorejoinSemisync": true, "LogFile": "./config/masterslave/mariadb/without_traffic/10.2/x2/multidomains/innodb/maxscale/latest/x1/1.1.0-preview3-99-gc75a256/testFailoverNoRplChecksNoSemiSync.log", "MonitoringTicker": 2, "Timeout": 1, "CheckType": "tcp", "CheckReplFilter": true, "CheckBinFilter": true, "ForceSlaveHeartbeat": false, "ForceSlaveHeartbeatTime": 3, "ForceSlaveHeartbeatRetry": 5, "ForceSlaveGtid": false, "ForceSlaveNoGtid": false, "ForceSlaveSemisync": true, "ForceSlaveReadOnly": true, "ForceBinlogRow": false, "ForceBinlogAnnotate": false, "ForceBinlogCompress": false, "ForceBinlogSlowqueries": false, "ForceBinlogChecksum": false, "ForceInmemoryBinlogCacheSize": false, "ForceDiskRelayLogSizeLimit": false, "ForceDiskRelayLogSizeLimitSize": 1000000000, "ForceSyncBinlog": true, "ForceSyncInnoDB": true, "ForceNoslaveBehind": false, "RplChecks": true, "MasterConn": "", "MultiMaster": false, "MultiTierSlave": false, "Spider": false, "BindAddr": "localhost", "HttpPort": "10001", "HttpServ": true, "HttpRoot": "../../dashboard", "HttpAuth": false, "HttpBootstrapButton": true, "SessionLifeTime": 3600, "Daemon": true, "MailFrom": "mrm@localhost", "MailTo": "", "MailSMTPAddr": "localhost:25", "MasterConnectRetry": 10, "FailLimit": 999, "FailTime": 1, "FailSync": false, "FailEventScheduler": false, "FailEventStatus": false, "FailRestartUnsafe": false, "MaxFail": 3, "FailResetTime": 300, "FailMaxDelay": 0, "CheckFalsePositiveHeartbeat": false, "CheckFalsePositiveMaxscale": false, "CheckFalsePositiveHeartbeatTimeout": 3, "CheckFalsePositiveMaxscaleTimeout": 14, "CheckFalsePositiveExternal": false, "CheckFalsePositiveExternalPort": 80, "Heartbeat": false, "MdbsProxyOn": false, "MdbsProxyHosts": "127.0.0.1:3307", "MdbsProxyUser": "admin", "MxsOn": true, "MxsHost": "192.168.100.50", "MxsPort": "3307", "MxsUser": "admin", "MxsPass": "mariadb", "MxsWritePort": 4007, "MxsReadPort": 4008, "MxsReadWritePort": 4006, "MxsMaxinfoPort": 3307, "MxsBinlogOn": false, "MxsBinlogPort": 3309, "MxsDisableMonitor": false, "MxsGetInfoMethod": "maxadmin", "MxsServerMatchPort": false, "HaproxyOn": false, "HaproxyWritePort": 3306, "HaproxyReadPort": 3307, "HaproxyStatPort": 1988, "HaproxyWriteBindIp": "0.0.0.0", "HaproxyReadBindIp": "0.0.0.0", "HaproxyBinaryPath": "/usr/sbin/haproxy", "KeyPath": "/etc/replication-manager/.replication-manager.key", "LogLevel": 0, "Test": true, "TestInjectTraffic": false, "Topology": "", "GraphiteMetrics": false, "GraphiteEmbedded": false, "GraphiteCarbonHost": "127.0.0.1", "GraphiteCarbonPort": 2003, "GraphiteCarbonApiPort": 10002, "GraphiteCarbonServerPort": 10003, "GraphiteCarbonLinkPort": 7002, "GraphiteCarbonPicklePort": 2004, "GraphiteCarbonPprofPort": 7007, "SysbenchBinaryPath": "/usr/local/bin/sysbench", "SysbenchTime": 60, "SysbenchThreads": 4, "MariaDBBinaryPath": "/usr/local/mysql/bin", "Arbitration": false, "ArbitrationSasSecret": "", "ArbitrationSasHosts": "88.191.151.84:80", "ArbitrationSasUniqueId": 0, "ArbitrationPeerHosts": "127.0.0.1:10002", "ReplicationSSL": false, "FailForceGtid": true, "RegTestStopCluster": false, "Enterprise": true, "ProvHost": "192.168.100.101:443", "ProvAdminUser": "root@localhost.localdomain:opensvc", "ProvUser": "replication-manager@localhost.localdomain:mariadb", "ProvType": "docker", "ProvAgents": "agent1,agent2", "ProvMem": "256", "ProvIops": "300", "ProvTags": "smallredolog,semisync,innodb,noquerycache,threadpool,logslow,multidomains", "ProvDisk": "1G", "ProvDiskFS": "zfs", "ProvDiskPool": "zpool", "ProvDiskDevice": "/srv", "ProvDiskType": "loopback", "ProvNetIface": "br0", "ProvNetmask": "255.255.255.0", "ProvGateway": "192.168.100.254", "ProvProxType": "docker", "ProvProxAgents": "agent2", "ProvProxDisk": "1G", "ProvProxDiskFS": "zfs", "ProvProxDiskPool": "zpool", "ProvProxDiskDevice": "/srv", "ProvProxDiskType": "loopback", "ProvProxNetIface": "br0", "ProvProxNetmask": "255.255.255.0", "ProvProxGateway": "192.168.100.254", "ProvMaxscaleVip": "", "ProvMdbshardproxyVip": "", "ProvHaproxyVip": "", "ProvWebsqlproxyVip": "", "ProvDbImg": "mariadb:10.2", "ProvProxImg": "asosso/maxscale:latest", "APIUser": "admin:mariadb", "APIPort": "3000", "ConfigFile": "././config/masterslave/mariadb/without_traffic/10.2/x2/multidomains/innodb/maxscale/latest/x1/replication-manager.conf" }, "config-test": { "WorkingDir": "/var/lib/replication-manager", "ShareDir": "/usr/local/share/mrm", "User": "root:mariadb", "Hosts": "192.168.100.70,192.168.100.71", "HostsTLSCA": "", "HostsTLSKEY": "", "HostsTLSCLI": "", "Socket": "", "RplUser": "root:mariadb", "Interactive": false, "Verbose": false, "PreScript": "", "PostScript": "", "RejoinScript": "", "PrefMaster": "192.168.100.70", "IgnoreSrv": "", "SwitchWaitKill": 5000, "SwitchWaitTrx": 10, "SwitchWaitWrite": 10, "SwitchGtidCheck": false, "SwitchSync": false, "SwitchMaxDelay": 20, "ReadOnly": true, "Autorejoin": true, "AutorejoinFlashback": true, "AutorejoinMysqldump": true, "AutorejoinBackupBinlog": true, "AutorejoinSemisync": true, "LogFile": "./config/masterslave/mariadb/without_traffic/10.2/x2/multidomains/innodb/maxscale/latest/x1/1.1.0-preview3-99-gc75a256/testFailoverNoRplChecksNoSemiSync.log", "MonitoringTicker": 2, "Timeout": 1, "CheckType": "tcp", "CheckReplFilter": true, "CheckBinFilter": true, "ForceSlaveHeartbeat": false, "ForceSlaveHeartbeatTime": 3, "ForceSlaveHeartbeatRetry": 5, "ForceSlaveGtid": false, "ForceSlaveNoGtid": false, "ForceSlaveSemisync": true, "ForceSlaveReadOnly": true, "ForceBinlogRow": false, "ForceBinlogAnnotate": false, "ForceBinlogCompress": false, "ForceBinlogSlowqueries": false, "ForceBinlogChecksum": false, "ForceInmemoryBinlogCacheSize": false, "ForceDiskRelayLogSizeLimit": false, "ForceDiskRelayLogSizeLimitSize": 1000000000, "ForceSyncBinlog": true, "ForceSyncInnoDB": true, "ForceNoslaveBehind": false, "RplChecks": false, "MasterConn": "", "MultiMaster": false, "MultiTierSlave": false, "Spider": false, "BindAddr": "localhost", "HttpPort": "10001", "HttpServ": true, "HttpRoot": "../../dashboard", "HttpAuth": false, "HttpBootstrapButton": true, "SessionLifeTime": 3600, "Daemon": true, "MailFrom": "mrm@localhost", "MailTo": "", "MailSMTPAddr": "localhost:25", "MasterConnectRetry": 10, "FailLimit": 5, "FailTime": 0, "FailSync": false, "FailEventScheduler": false, "FailEventStatus": false, "FailRestartUnsafe": false, "MaxFail": 3, "FailResetTime": 300, "FailMaxDelay": 0, "CheckFalsePositiveHeartbeat": false, "CheckFalsePositiveMaxscale": false, "CheckFalsePositiveHeartbeatTimeout": 3, "CheckFalsePositiveMaxscaleTimeout": 14, "CheckFalsePositiveExternal": false, "CheckFalsePositiveExternalPort": 80, "Heartbeat": false, "MdbsProxyOn": false, "MdbsProxyHosts": "127.0.0.1:3307", "MdbsProxyUser": "admin", "MxsOn": true, "MxsHost": "192.168.100.50", "MxsPort": "3307", "MxsUser": "admin", "MxsPass": "mariadb", "MxsWritePort": 4007, "MxsReadPort": 4008, "MxsReadWritePort": 4006, "MxsMaxinfoPort": 3307, "MxsBinlogOn": false, "MxsBinlogPort": 3309, "MxsDisableMonitor": false, "MxsGetInfoMethod": "maxadmin", "MxsServerMatchPort": false, "HaproxyOn": false, "HaproxyWritePort": 3306, "HaproxyReadPort": 3307, "HaproxyStatPort": 1988, "HaproxyWriteBindIp": "0.0.0.0", "HaproxyReadBindIp": "0.0.0.0", "HaproxyBinaryPath": "/usr/sbin/haproxy", "KeyPath": "/etc/replication-manager/.replication-manager.key", "LogLevel": 0, "Test": true, "TestInjectTraffic": false, "Topology": "", "GraphiteMetrics": false, "GraphiteEmbedded": false, "GraphiteCarbonHost": "127.0.0.1", "GraphiteCarbonPort": 2003, "GraphiteCarbonApiPort": 10002, "GraphiteCarbonServerPort": 10003, "GraphiteCarbonLinkPort": 7002, "GraphiteCarbonPicklePort": 2004, "GraphiteCarbonPprofPort": 7007, "SysbenchBinaryPath": "/usr/local/bin/sysbench", "SysbenchTime": 60, "SysbenchThreads": 4, "MariaDBBinaryPath": "/usr/local/mysql/bin", "Arbitration": false, "ArbitrationSasSecret": "", "ArbitrationSasHosts": "88.191.151.84:80", "ArbitrationSasUniqueId": 0, "ArbitrationPeerHosts": "127.0.0.1:10002", "ReplicationSSL": false, "FailForceGtid": true, "RegTestStopCluster": false, "Enterprise": true, "ProvHost": "192.168.100.101:443", "ProvAdminUser": "root@localhost.localdomain:opensvc", "ProvUser": "replication-manager@localhost.localdomain:mariadb", "ProvType": "docker", "ProvAgents": "agent1,agent2", "ProvMem": "256", "ProvIops": "300", "ProvTags": "smallredolog,semisync,innodb,noquerycache,threadpool,logslow,multidomains", "ProvDisk": "1G", "ProvDiskFS": "zfs", "ProvDiskPool": "zpool", "ProvDiskDevice": "/srv", "ProvDiskType": "loopback", "ProvNetIface": "br0", "ProvNetmask": "255.255.255.0", "ProvGateway": "192.168.100.254", "ProvProxType": "docker", "ProvProxAgents": "agent2", "ProvProxDisk": "1G", "ProvProxDiskFS": "zfs", "ProvProxDiskPool": "zpool", "ProvProxDiskDevice": "/srv", "ProvProxDiskType": "loopback", "ProvProxNetIface": "br0", "ProvProxNetmask": "255.255.255.0", "ProvProxGateway": "192.168.100.254", "ProvMaxscaleVip": "", "ProvMdbshardproxyVip": "", "ProvHaproxyVip": "", "ProvWebsqlproxyVip": "", "ProvDbImg": "mariadb:10.2", "ProvProxImg": "asosso/maxscale:latest", "APIUser": "admin:mariadb", "APIPort": "3000", "ConfigFile": "././config/masterslave/mariadb/without_traffic/10.2/x2/multidomains/innodb/maxscale/latest/x1/replication-manager.conf" } }
,
{ "name": "testFailoverNoRplChecksNoSemiSyncMasterHeartbeat", "result": "FAIL", "config-file": "", "config-init": { "WorkingDir": "", "ShareDir": "", "User": "", "Hosts": "", "HostsTLSCA": "", "HostsTLSKEY": "", "HostsTLSCLI": "", "Socket": "", "RplUser": "", "Interactive": false, "Verbose": false, "PreScript": "", "PostScript": "", "RejoinScript": "", "PrefMaster": "", "IgnoreSrv": "", "SwitchWaitKill": 0, "SwitchWaitTrx": 0, "SwitchWaitWrite": 0, "SwitchGtidCheck": false, "SwitchSync": false, "SwitchMaxDelay": 0, "ReadOnly": false, "Autorejoin": false, "AutorejoinFlashback": false, "AutorejoinMysqldump": false, "AutorejoinBackupBinlog": false, "AutorejoinSemisync": false, "LogFile": "", "MonitoringTicker": 0, "Timeout": 0, "CheckType": "", "CheckReplFilter": false, "CheckBinFilter": false, "ForceSlaveHeartbeat": false, "ForceSlaveHeartbeatTime": 0, "ForceSlaveHeartbeatRetry": 0, "ForceSlaveGtid": false, "ForceSlaveNoGtid": false, "ForceSlaveSemisync": false, "ForceSlaveReadOnly": false, "ForceBinlogRow": false, "ForceBinlogAnnotate": false, "ForceBinlogCompress": false, "ForceBinlogSlowqueries": false, "ForceBinlogChecksum": false, "ForceInmemoryBinlogCacheSize": false, "ForceDiskRelayLogSizeLimit": false, "ForceDiskRelayLogSizeLimitSize": 0, "ForceSyncBinlog": false, "ForceSyncInnoDB": false, "ForceNoslaveBehind": false, "RplChecks": false, "MasterConn": "", "MultiMaster": false, "MultiTierSlave": false, "Spider": false, "BindAddr": "", "HttpPort": "", "HttpServ": false, "HttpRoot": "", "HttpAuth": false, "HttpBootstrapButton": false, "SessionLifeTime": 0, "Daemon": false, "MailFrom": "", "MailTo": "", "MailSMTPAddr": "", "MasterConnectRetry": 0, "FailLimit": 0, "FailTime": 0, "FailSync": false, "FailEventScheduler": false, "FailEventStatus": false, "FailRestartUnsafe": false, "MaxFail": 0, "FailResetTime": 0, "FailMaxDelay": 0, "CheckFalsePositiveHeartbeat": false, "CheckFalsePositiveMaxscale": false, "CheckFalsePositiveHeartbeatTimeout": 0, "CheckFalsePositiveMaxscaleTimeout": 0, "CheckFalsePositiveExternal": false, "CheckFalsePositiveExternalPort": 0, "Heartbeat": false, "MdbsProxyOn": false, "MdbsProxyHosts": "", "MdbsProxyUser": "", "MxsOn": false, "MxsHost": "", "MxsPort": "", "MxsUser": "", "MxsPass": "", "MxsWritePort": 0, "MxsReadPort": 0, "MxsReadWritePort": 0, "MxsMaxinfoPort": 0, "MxsBinlogOn": false, "MxsBinlogPort": 0, "MxsDisableMonitor": false, "MxsGetInfoMethod": "", "MxsServerMatchPort": false, "HaproxyOn": false, "HaproxyWritePort": 0, "HaproxyReadPort": 0, "HaproxyStatPort": 0, "HaproxyWriteBindIp": "", "HaproxyReadBindIp": "", "HaproxyBinaryPath": "", "KeyPath": "", "LogLevel": 0, "Test": false, "TestInjectTraffic": false, "Topology": "", "GraphiteMetrics": false, "GraphiteEmbedded": false, "GraphiteCarbonHost": "", "GraphiteCarbonPort": 0, "GraphiteCarbonApiPort": 0, "GraphiteCarbonServerPort": 0, "GraphiteCarbonLinkPort": 0, "GraphiteCarbonPicklePort": 0, "GraphiteCarbonPprofPort": 0, "SysbenchBinaryPath": "", "SysbenchTime": 0, "SysbenchThreads": 0, "MariaDBBinaryPath": "", "Arbitration": false, "ArbitrationSasSecret": "", "ArbitrationSasHosts": "", "ArbitrationSasUniqueId": 0, "ArbitrationPeerHosts": "", "ReplicationSSL": false, "FailForceGtid": false, "RegTestStopCluster": false, "Enterprise": false, "ProvHost": "", "ProvAdminUser": "", "ProvUser": "", "ProvType": "", "ProvAgents": "", "ProvMem": "", "ProvIops": "", "ProvTags": "", "ProvDisk": "", "ProvDiskFS": "", "ProvDiskPool": "", "ProvDiskDevice": "", "ProvDiskType": "", "ProvNetIface": "", "ProvNetmask": "", "ProvGateway": "", "ProvProxType": "", "ProvProxAgents": "", "ProvProxDisk": "", "ProvProxDiskFS": "", "ProvProxDiskPool": "", "ProvProxDiskDevice": "", "ProvProxDiskType": "", "ProvProxNetIface": "", "ProvProxNetmask": "", "ProvProxGateway": "", "ProvMaxscaleVip": "", "ProvMdbshardproxyVip": "", "ProvHaproxyVip": "", "ProvWebsqlproxyVip": "", "ProvDbImg": "", "ProvProxImg": "", "APIUser": "", "APIPort": "", "ConfigFile": "" }, "config-test": { "WorkingDir": "", "ShareDir": "", "User": "", "Hosts": "", "HostsTLSCA": "", "HostsTLSKEY": "", "HostsTLSCLI": "", "Socket": "", "RplUser": "", "Interactive": false, "Verbose": false, "PreScript": "", "PostScript": "", "RejoinScript": "", "PrefMaster": "", "IgnoreSrv": "", "SwitchWaitKill": 0, "SwitchWaitTrx": 0, "SwitchWaitWrite": 0, "SwitchGtidCheck": false, "SwitchSync": false, "SwitchMaxDelay": 0, "ReadOnly": false, "Autorejoin": false, "AutorejoinFlashback": false, "AutorejoinMysqldump": false, "AutorejoinBackupBinlog": false, "AutorejoinSemisync": false, "LogFile": "", "MonitoringTicker": 0, "Timeout": 0, "CheckType": "", "CheckReplFilter": false, "CheckBinFilter": false, "ForceSlaveHeartbeat": false, "ForceSlaveHeartbeatTime": 0, "ForceSlaveHeartbeatRetry": 0, "ForceSlaveGtid": false, "ForceSlaveNoGtid": false, "ForceSlaveSemisync": false, "ForceSlaveReadOnly": false, "ForceBinlogRow": false, "ForceBinlogAnnotate": false, "ForceBinlogCompress": false, "ForceBinlogSlowqueries": false, "ForceBinlogChecksum": false, "ForceInmemoryBinlogCacheSize": false, "ForceDiskRelayLogSizeLimit": false, "ForceDiskRelayLogSizeLimitSize": 0, "ForceSyncBinlog": false, "ForceSyncInnoDB": false, "ForceNoslaveBehind": false, "RplChecks": false, "MasterConn": "", "MultiMaster": false, "MultiTierSlave": false, "Spider": false, "BindAddr": "", "HttpPort": "", "HttpServ": false, "HttpRoot": "", "HttpAuth": false, "HttpBootstrapButton": false, "SessionLifeTime": 0, "Daemon": false, "MailFrom": "", "MailTo": "", "MailSMTPAddr": "", "MasterConnectRetry": 0, "FailLimit": 0, "FailTime": 0, "FailSync": false, "FailEventScheduler": false, "FailEventStatus": false, "FailRestartUnsafe": false, "MaxFail": 0, "FailResetTime": 0, "FailMaxDelay": 0, "CheckFalsePositiveHeartbeat": false, "CheckFalsePositiveMaxscale": false, "CheckFalsePositiveHeartbeatTimeout": 0, "CheckFalsePositiveMaxscaleTimeout": 0, "CheckFalsePositiveExternal": false, "CheckFalsePositiveExternalPort": 0, "Heartbeat": false, "MdbsProxyOn": false, "MdbsProxyHosts": "", "MdbsProxyUser": "", "MxsOn": false, "MxsHost": "", "MxsPort": "", "MxsUser": "", "MxsPass": "", "MxsWritePort": 0, "MxsReadPort": 0, "MxsReadWritePort": 0, "MxsMaxinfoPort": 0, "MxsBinlogOn": false, "MxsBinlogPort": 0, "MxsDisableMonitor": false, "MxsGetInfoMethod": "", "MxsServerMatchPort": false, "HaproxyOn": false, "HaproxyWritePort": 0, "HaproxyReadPort": 0, "HaproxyStatPort": 0, "HaproxyWriteBindIp": "", "HaproxyReadBindIp": "", "HaproxyBinaryPath": "", "KeyPath": "", "LogLevel": 0, "Test": false, "TestInjectTraffic": false, "Topology": "", "GraphiteMetrics": false, "GraphiteEmbedded": false, "GraphiteCarbonHost": "", "GraphiteCarbonPort": 0, "GraphiteCarbonApiPort": 0, "GraphiteCarbonServerPort": 0, "GraphiteCarbonLinkPort": 0, "GraphiteCarbonPicklePort": 0, "GraphiteCarbonPprofPort": 0, "SysbenchBinaryPath": "", "SysbenchTime": 0, "SysbenchThreads": 0, "MariaDBBinaryPath": "", "Arbitration": false, "ArbitrationSasSecret": "", "ArbitrationSasHosts": "", "ArbitrationSasUniqueId": 0, "ArbitrationPeerHosts": "", "ReplicationSSL": false, "FailForceGtid": false, "RegTestStopCluster": false, "Enterprise": false, "ProvHost": "", "ProvAdminUser": "", "ProvUser": "", "ProvType": "", "ProvAgents": "", "ProvMem": "", "ProvIops": "", "ProvTags": "", "ProvDisk": "", "ProvDiskFS": "", "ProvDiskPool": "", "ProvDiskDevice": "", "ProvDiskType": "", "ProvNetIface": "", "ProvNetmask": "", "ProvGateway": "", "ProvProxType": "", "ProvProxAgents": "", "ProvProxDisk": "", "ProvProxDiskFS": "", "ProvProxDiskPool": "", "ProvProxDiskDevice": "", "ProvProxDiskType": "", "ProvProxNetIface": "", "ProvProxNetmask": "", "ProvProxGateway": "", "ProvMaxscaleVip": "", "ProvMdbshardproxyVip": "", "ProvHaproxyVip": "", "ProvWebsqlproxyVip": "", "ProvDbImg": "", "ProvProxImg": "", "APIUser": "", "APIPort": "", "ConfigFile": "" } }
,
{ "name": "testFailoverNumberFailureLimitReach", "result": "PASS", "config-file": "././config/masterslave/mariadb/without_traffic/10.2/x2/multidomains/innodb/maxscale/latest/x1/replication-manager.conf", "config-init": { "WorkingDir": "/var/lib/replication-manager", "ShareDir": "/usr/local/share/mrm", "User": "root:mariadb", "Hosts": "192.168.100.70,192.168.100.71", "HostsTLSCA": "", "HostsTLSKEY": "", "HostsTLSCLI": "", "Socket": "", "RplUser": "root:mariadb", "Interactive": false, "Verbose": false, "PreScript": "", "PostScript": "", "RejoinScript": "", "PrefMaster": "192.168.100.70", "IgnoreSrv": "", "SwitchWaitKill": 5000, "SwitchWaitTrx": 10, "SwitchWaitWrite": 10, "SwitchGtidCheck": false, "SwitchSync": false, "SwitchMaxDelay": 0, "ReadOnly": true, "Autorejoin": true, "AutorejoinFlashback": true, "AutorejoinMysqldump": true, "AutorejoinBackupBinlog": true, "AutorejoinSemisync": true, "LogFile": "./config/masterslave/mariadb/without_traffic/10.2/x2/multidomains/innodb/maxscale/latest/x1/1.1.0-preview3-99-gc75a256/testFailoverNumberFailureLimitReach.log", "MonitoringTicker": 2, "Timeout": 1, "CheckType": "tcp", "CheckReplFilter": true, "CheckBinFilter": true, "ForceSlaveHeartbeat": false, "ForceSlaveHeartbeatTime": 3, "ForceSlaveHeartbeatRetry": 5, "ForceSlaveGtid": false, "ForceSlaveNoGtid": false, "ForceSlaveSemisync": true, "ForceSlaveReadOnly": true, "ForceBinlogRow": false, "ForceBinlogAnnotate": false, "ForceBinlogCompress": false, "ForceBinlogSlowqueries": false, "ForceBinlogChecksum": false, "ForceInmemoryBinlogCacheSize": false, "ForceDiskRelayLogSizeLimit": false, "ForceDiskRelayLogSizeLimitSize": 1000000000, "ForceSyncBinlog": true, "ForceSyncInnoDB": true, "ForceNoslaveBehind": false, "RplChecks": true, "MasterConn": "", "MultiMaster": false, "MultiTierSlave": false, "Spider": false, "BindAddr": "localhost", "HttpPort": "10001", "HttpServ": true, "HttpRoot": "../../dashboard", "HttpAuth": false, "HttpBootstrapButton": true, "SessionLifeTime": 3600, "Daemon": true, "MailFrom": "mrm@localhost", "MailTo": "", "MailSMTPAddr": "localhost:25", "MasterConnectRetry": 10, "FailLimit": 999, "FailTime": 1, "FailSync": false, "FailEventScheduler": false, "FailEventStatus": false, "FailRestartUnsafe": false, "MaxFail": 3, "FailResetTime": 300, "FailMaxDelay": 0, "CheckFalsePositiveHeartbeat": false, "CheckFalsePositiveMaxscale": false, "CheckFalsePositiveHeartbeatTimeout": 3, "CheckFalsePositiveMaxscaleTimeout": 14, "CheckFalsePositiveExternal": false, "CheckFalsePositiveExternalPort": 80, "Heartbeat": false, "MdbsProxyOn": false, "MdbsProxyHosts": "127.0.0.1:3307", "MdbsProxyUser": "admin", "MxsOn": true, "MxsHost": "192.168.100.50", "MxsPort": "3307", "MxsUser": "admin", "MxsPass": "mariadb", "MxsWritePort": 4007, "MxsReadPort": 4008, "MxsReadWritePort": 4006, "MxsMaxinfoPort": 3307, "MxsBinlogOn": false, "MxsBinlogPort": 3309, "MxsDisableMonitor": false, "MxsGetInfoMethod": "maxadmin", "MxsServerMatchPort": false, "HaproxyOn": false, "HaproxyWritePort": 3306, "HaproxyReadPort": 3307, "HaproxyStatPort": 1988, "HaproxyWriteBindIp": "0.0.0.0", "HaproxyReadBindIp": "0.0.0.0", "HaproxyBinaryPath": "/usr/sbin/haproxy", "KeyPath": "/etc/replication-manager/.replication-manager.key", "LogLevel": 0, "Test": true, "TestInjectTraffic": false, "Topology": "", "GraphiteMetrics": false, "GraphiteEmbedded": false, "GraphiteCarbonHost": "127.0.0.1", "GraphiteCarbonPort": 2003, "GraphiteCarbonApiPort": 10002, "GraphiteCarbonServerPort": 10003, "GraphiteCarbonLinkPort": 7002, "GraphiteCarbonPicklePort": 2004, "GraphiteCarbonPprofPort": 7007, "SysbenchBinaryPath": "/usr/local/bin/sysbench", "SysbenchTime": 60, "SysbenchThreads": 4, "MariaDBBinaryPath": "/usr/local/mysql/bin", "Arbitration": false, "ArbitrationSasSecret": "", "ArbitrationSasHosts": "88.191.151.84:80", "ArbitrationSasUniqueId": 0, "ArbitrationPeerHosts": "127.0.0.1:10002", "ReplicationSSL": false, "FailForceGtid": true, "RegTestStopCluster": false, "Enterprise": true, "ProvHost": "192.168.100.101:443", "ProvAdminUser": "root@localhost.localdomain:opensvc", "ProvUser": "replication-manager@localhost.localdomain:mariadb", "ProvType": "docker", "ProvAgents": "agent1,agent2", "ProvMem": "256", "ProvIops": "300", "ProvTags": "smallredolog,semisync,innodb,noquerycache,threadpool,logslow,multidomains", "ProvDisk": "1G", "ProvDiskFS": "zfs", "ProvDiskPool": "zpool", "ProvDiskDevice": "/srv", "ProvDiskType": "loopback", "ProvNetIface": "br0", "ProvNetmask": "255.255.255.0", "ProvGateway": "192.168.100.254", "ProvProxType": "docker", "ProvProxAgents": "agent2", "ProvProxDisk": "1G", "ProvProxDiskFS": "zfs", "ProvProxDiskPool": "zpool", "ProvProxDiskDevice": "/srv", "ProvProxDiskType": "loopback", "ProvProxNetIface": "br0", "ProvProxNetmask": "255.255.255.0", "ProvProxGateway": "192.168.100.254", "ProvMaxscaleVip": "", "ProvMdbshardproxyVip": "", "ProvHaproxyVip": "", "ProvWebsqlproxyVip": "", "ProvDbImg": "mariadb:10.2", "ProvProxImg": "asosso/maxscale:latest", "APIUser": "admin:mariadb", "APIPort": "3000", "ConfigFile": "././config/masterslave/mariadb/without_traffic/10.2/x2/multidomains/innodb/maxscale/latest/x1/replication-manager.conf" }, "config-test": { "WorkingDir": "/var/lib/replication-manager", "ShareDir": "/usr/local/share/mrm", "User": "root:mariadb", "Hosts": "192.168.100.70,192.168.100.71", "HostsTLSCA": "", "HostsTLSKEY": "", "HostsTLSCLI": "", "Socket": "", "RplUser": "root:mariadb", "Interactive": false, "Verbose": false, "PreScript": "", "PostScript": "", "RejoinScript": "", "PrefMaster": "192.168.100.70", "IgnoreSrv": "", "SwitchWaitKill": 5000, "SwitchWaitTrx": 10, "SwitchWaitWrite": 10, "SwitchGtidCheck": false, "SwitchSync": false, "SwitchMaxDelay": 20, "ReadOnly": true, "Autorejoin": true, "AutorejoinFlashback": true, "AutorejoinMysqldump": true, "AutorejoinBackupBinlog": true, "AutorejoinSemisync": true, "LogFile": "./config/masterslave/mariadb/without_traffic/10.2/x2/multidomains/innodb/maxscale/latest/x1/1.1.0-preview3-99-gc75a256/testFailoverNumberFailureLimitReach.log", "MonitoringTicker": 2, "Timeout": 1, "CheckType": "tcp", "CheckReplFilter": true, "CheckBinFilter": true, "ForceSlaveHeartbeat": false, "ForceSlaveHeartbeatTime": 3, "ForceSlaveHeartbeatRetry": 5, "ForceSlaveGtid": false, "ForceSlaveNoGtid": false, "ForceSlaveSemisync": true, "ForceSlaveReadOnly": true, "ForceBinlogRow": false, "ForceBinlogAnnotate": false, "ForceBinlogCompress": false, "ForceBinlogSlowqueries": false, "ForceBinlogChecksum": false, "ForceInmemoryBinlogCacheSize": false, "ForceDiskRelayLogSizeLimit": false, "ForceDiskRelayLogSizeLimitSize": 1000000000, "ForceSyncBinlog": true, "ForceSyncInnoDB": true, "ForceNoslaveBehind": false, "RplChecks": false, "MasterConn": "", "MultiMaster": false, "MultiTierSlave": false, "Spider": false, "BindAddr": "localhost", "HttpPort": "10001", "HttpServ": true, "HttpRoot": "../../dashboard", "HttpAuth": false, "HttpBootstrapButton": true, "SessionLifeTime": 3600, "Daemon": true, "MailFrom": "mrm@localhost", "MailTo": "", "MailSMTPAddr": "localhost:25", "MasterConnectRetry": 10, "FailLimit": 3, "FailTime": 0, "FailSync": false, "FailEventScheduler": false, "FailEventStatus": false, "FailRestartUnsafe": false, "MaxFail": 3, "FailResetTime": 300, "FailMaxDelay": 0, "CheckFalsePositiveHeartbeat": false, "CheckFalsePositiveMaxscale": false, "CheckFalsePositiveHeartbeatTimeout": 3, "CheckFalsePositiveMaxscaleTimeout": 14, "CheckFalsePositiveExternal": false, "CheckFalsePositiveExternalPort": 80, "Heartbeat": false, "MdbsProxyOn": false, "MdbsProxyHosts": "127.0.0.1:3307", "MdbsProxyUser": "admin", "MxsOn": true, "MxsHost": "192.168.100.50", "MxsPort": "3307", "MxsUser": "admin", "MxsPass": "mariadb", "MxsWritePort": 4007, "MxsReadPort": 4008, "MxsReadWritePort": 4006, "MxsMaxinfoPort": 3307, "MxsBinlogOn": false, "MxsBinlogPort": 3309, "MxsDisableMonitor": false, "MxsGetInfoMethod": "maxadmin", "MxsServerMatchPort": false, "HaproxyOn": false, "HaproxyWritePort": 3306, "HaproxyReadPort": 3307, "HaproxyStatPort": 1988, "HaproxyWriteBindIp": "0.0.0.0", "HaproxyReadBindIp": "0.0.0.0", "HaproxyBinaryPath": "/usr/sbin/haproxy", "KeyPath": "/etc/replication-manager/.replication-manager.key", "LogLevel": 0, "Test": true, "TestInjectTraffic": false, "Topology": "", "GraphiteMetrics": false, "GraphiteEmbedded": false, "GraphiteCarbonHost": "127.0.0.1", "GraphiteCarbonPort": 2003, "GraphiteCarbonApiPort": 10002, "GraphiteCarbonServerPort": 10003, "GraphiteCarbonLinkPort": 7002, "GraphiteCarbonPicklePort": 2004, "GraphiteCarbonPprofPort": 7007, "SysbenchBinaryPath": "/usr/local/bin/sysbench", "SysbenchTime": 60, "SysbenchThreads": 4, "MariaDBBinaryPath": "/usr/local/mysql/bin", "Arbitration": false, "ArbitrationSasSecret": "", "ArbitrationSasHosts": "88.191.151.84:80", "ArbitrationSasUniqueId": 0, "ArbitrationPeerHosts": "127.0.0.1:10002", "ReplicationSSL": false, "FailForceGtid": true, "RegTestStopCluster": false, "Enterprise": true, "ProvHost": "192.168.100.101:443", "ProvAdminUser": "root@localhost.localdomain:opensvc", "ProvUser": "replication-manager@localhost.localdomain:mariadb", "ProvType": "docker", "ProvAgents": "agent1,agent2", "ProvMem": "256", "ProvIops": "300", "ProvTags": "smallredolog,semisync,innodb,noquerycache,threadpool,logslow,multidomains", "ProvDisk": "1G", "ProvDiskFS": "zfs", "ProvDiskPool": "zpool", "ProvDiskDevice": "/srv", "ProvDiskType": "loopback", "ProvNetIface": "br0", "ProvNetmask": "255.255.255.0", "ProvGateway": "192.168.100.254", "ProvProxType": "docker", "ProvProxAgents": "agent2", "ProvProxDisk": "1G", "ProvProxDiskFS": "zfs", "ProvProxDiskPool": "zpool", "ProvProxDiskDevice": "/srv", "ProvProxDiskType": "loopback", "ProvProxNetIface": "br0", "ProvProxNetmask": "255.255.255.0", "ProvProxGateway": "192.168.100.254", "ProvMaxscaleVip": "", "ProvMdbshardproxyVip": "", "ProvHaproxyVip": "", "ProvWebsqlproxyVip": "", "ProvDbImg": "mariadb:10.2", "ProvProxImg": "asosso/maxscale:latest", "APIUser": "admin:mariadb", "APIPort": "3000", "ConfigFile": "././config/masterslave/mariadb/without_traffic/10.2/x2/multidomains/innodb/maxscale/latest/x1/replication-manager.conf" } }
,
{ "name": "testFailoverTimeNotReach", "result": "PASS", "config-file": "././config/masterslave/mariadb/without_traffic/10.2/x2/multidomains/innodb/maxscale/latest/x1/replication-manager.conf", "config-init": { "WorkingDir": "/var/lib/replication-manager", "ShareDir": "/usr/local/share/mrm", "User": "root:mariadb", "Hosts": "192.168.100.70,192.168.100.71", "HostsTLSCA": "", "HostsTLSKEY": "", "HostsTLSCLI": "", "Socket": "", "RplUser": "root:mariadb", "Interactive": false, "Verbose": false, "PreScript": "", "PostScript": "", "RejoinScript": "", "PrefMaster": "192.168.100.70", "IgnoreSrv": "", "SwitchWaitKill": 5000, "SwitchWaitTrx": 10, "SwitchWaitWrite": 10, "SwitchGtidCheck": false, "SwitchSync": false, "SwitchMaxDelay": 0, "ReadOnly": true, "Autorejoin": true, "AutorejoinFlashback": true, "AutorejoinMysqldump": true, "AutorejoinBackupBinlog": true, "AutorejoinSemisync": true, "LogFile": "./config/masterslave/mariadb/without_traffic/10.2/x2/multidomains/innodb/maxscale/latest/x1/1.1.0-preview3-99-gc75a256/testFailoverTimeNotReach.log", "MonitoringTicker": 2, "Timeout": 1, "CheckType": "tcp", "CheckReplFilter": true, "CheckBinFilter": true, "ForceSlaveHeartbeat": false, "ForceSlaveHeartbeatTime": 3, "ForceSlaveHeartbeatRetry": 5, "ForceSlaveGtid": false, "ForceSlaveNoGtid": false, "ForceSlaveSemisync": true, "ForceSlaveReadOnly": true, "ForceBinlogRow": false, "ForceBinlogAnnotate": false, "ForceBinlogCompress": false, "ForceBinlogSlowqueries": false, "ForceBinlogChecksum": false, "ForceInmemoryBinlogCacheSize": false, "ForceDiskRelayLogSizeLimit": false, "ForceDiskRelayLogSizeLimitSize": 1000000000, "ForceSyncBinlog": true, "ForceSyncInnoDB": true, "ForceNoslaveBehind": false, "RplChecks": true, "MasterConn": "", "MultiMaster": false, "MultiTierSlave": false, "Spider": false, "BindAddr": "localhost", "HttpPort": "10001", "HttpServ": true, "HttpRoot": "../../dashboard", "HttpAuth": false, "HttpBootstrapButton": true, "SessionLifeTime": 3600, "Daemon": true, "MailFrom": "mrm@localhost", "MailTo": "", "MailSMTPAddr": "localhost:25", "MasterConnectRetry": 10, "FailLimit": 999, "FailTime": 1, "FailSync": false, "FailEventScheduler": false, "FailEventStatus": false, "FailRestartUnsafe": false, "MaxFail": 3, "FailResetTime": 300, "FailMaxDelay": 0, "CheckFalsePositiveHeartbeat": false, "CheckFalsePositiveMaxscale": false, "CheckFalsePositiveHeartbeatTimeout": 3, "CheckFalsePositiveMaxscaleTimeout": 14, "CheckFalsePositiveExternal": false, "CheckFalsePositiveExternalPort": 80, "Heartbeat": false, "MdbsProxyOn": false, "MdbsProxyHosts": "127.0.0.1:3307", "MdbsProxyUser": "admin", "MxsOn": true, "MxsHost": "192.168.100.50", "MxsPort": "3307", "MxsUser": "admin", "MxsPass": "mariadb", "MxsWritePort": 4007, "MxsReadPort": 4008, "MxsReadWritePort": 4006, "MxsMaxinfoPort": 3307, "MxsBinlogOn": false, "MxsBinlogPort": 3309, "MxsDisableMonitor": false, "MxsGetInfoMethod": "maxadmin", "MxsServerMatchPort": false, "HaproxyOn": false, "HaproxyWritePort": 3306, "HaproxyReadPort": 3307, "HaproxyStatPort": 1988, "HaproxyWriteBindIp": "0.0.0.0", "HaproxyReadBindIp": "0.0.0.0", "HaproxyBinaryPath": "/usr/sbin/haproxy", "KeyPath": "/etc/replication-manager/.replication-manager.key", "LogLevel": 0, "Test": true, "TestInjectTraffic": false, "Topology": "", "GraphiteMetrics": false, "GraphiteEmbedded": false, "GraphiteCarbonHost": "127.0.0.1", "GraphiteCarbonPort": 2003, "GraphiteCarbonApiPort": 10002, "GraphiteCarbonServerPort": 10003, "GraphiteCarbonLinkPort": 7002, "GraphiteCarbonPicklePort": 2004, "GraphiteCarbonPprofPort": 7007, "SysbenchBinaryPath": "/usr/local/bin/sysbench", "SysbenchTime": 60, "SysbenchThreads": 4, "MariaDBBinaryPath": "/usr/local/mysql/bin", "Arbitration": false, "ArbitrationSasSecret": "", "ArbitrationSasHosts": "88.191.151.84:80", "ArbitrationSasUniqueId": 0, "ArbitrationPeerHosts": "127.0.0.1:10002", "ReplicationSSL": false, "FailForceGtid": true, "RegTestStopCluster": false, "Enterprise": true, "ProvHost": "192.168.100.101:443", "ProvAdminUser": "root@localhost.localdomain:opensvc", "ProvUser": "replication-manager@localhost.localdomain:mariadb", "ProvType": "docker", "ProvAgents": "agent1,agent2", "ProvMem": "256", "ProvIops": "300", "ProvTags": "smallredolog,semisync,innodb,noquerycache,threadpool,logslow,multidomains", "ProvDisk": "1G", "ProvDiskFS": "zfs", "ProvDiskPool": "zpool", "ProvDiskDevice": "/srv", "ProvDiskType": "loopback", "ProvNetIface": "br0", "ProvNetmask": "255.255.255.0", "ProvGateway": "192.168.100.254", "ProvProxType": "docker", "ProvProxAgents": "agent2", "ProvProxDisk": "1G", "ProvProxDiskFS": "zfs", "ProvProxDiskPool": "zpool", "ProvProxDiskDevice": "/srv", "ProvProxDiskType": "loopback", "ProvProxNetIface": "br0", "ProvProxNetmask": "255.255.255.0", "ProvProxGateway": "192.168.100.254", "ProvMaxscaleVip": "", "ProvMdbshardproxyVip": "", "ProvHaproxyVip": "", "ProvWebsqlproxyVip": "", "ProvDbImg": "mariadb:10.2", "ProvProxImg": "asosso/maxscale:latest", "APIUser": "admin:mariadb", "APIPort": "3000", "ConfigFile": "././config/masterslave/mariadb/without_traffic/10.2/x2/multidomains/innodb/maxscale/latest/x1/replication-manager.conf" }, "config-test": { "WorkingDir": "/var/lib/replication-manager", "ShareDir": "/usr/local/share/mrm", "User": "root:mariadb", "Hosts": "192.168.100.70,192.168.100.71", "HostsTLSCA": "", "HostsTLSKEY": "", "HostsTLSCLI": "", "Socket": "", "RplUser": "root:mariadb", "Interactive": false, "Verbose": false, "PreScript": "", "PostScript": "", "RejoinScript": "", "PrefMaster": "192.168.100.70", "IgnoreSrv": "", "SwitchWaitKill": 5000, "SwitchWaitTrx": 10, "SwitchWaitWrite": 10, "SwitchGtidCheck": false, "SwitchSync": false, "SwitchMaxDelay": 20, "ReadOnly": true, "Autorejoin": true, "AutorejoinFlashback": true, "AutorejoinMysqldump": true, "AutorejoinBackupBinlog": true, "AutorejoinSemisync": true, "LogFile": "./config/masterslave/mariadb/without_traffic/10.2/x2/multidomains/innodb/maxscale/latest/x1/1.1.0-preview3-99-gc75a256/testFailoverTimeNotReach.log", "MonitoringTicker": 2, "Timeout": 1, "CheckType": "tcp", "CheckReplFilter": true, "CheckBinFilter": true, "ForceSlaveHeartbeat": false, "ForceSlaveHeartbeatTime": 3, "ForceSlaveHeartbeatRetry": 5, "ForceSlaveGtid": false, "ForceSlaveNoGtid": false, "ForceSlaveSemisync": true, "ForceSlaveReadOnly": true, "ForceBinlogRow": false, "ForceBinlogAnnotate": false, "ForceBinlogCompress": false, "ForceBinlogSlowqueries": false, "ForceBinlogChecksum": false, "ForceInmemoryBinlogCacheSize": false, "ForceDiskRelayLogSizeLimit": false, "ForceDiskRelayLogSizeLimitSize": 1000000000, "ForceSyncBinlog": true, "ForceSyncInnoDB": true, "ForceNoslaveBehind": false, "RplChecks": false, "MasterConn": "", "MultiMaster": false, "MultiTierSlave": false, "Spider": false, "BindAddr": "localhost", "HttpPort": "10001", "HttpServ": true, "HttpRoot": "../../dashboard", "HttpAuth": false, "HttpBootstrapButton": true, "SessionLifeTime": 3600, "Daemon": true, "MailFrom": "mrm@localhost", "MailTo": "", "MailSMTPAddr": "localhost:25", "MasterConnectRetry": 10, "FailLimit": 3, "FailTime": 20, "FailSync": false, "FailEventScheduler": false, "FailEventStatus": false, "FailRestartUnsafe": false, "MaxFail": 3, "FailResetTime": 300, "FailMaxDelay": 0, "CheckFalsePositiveHeartbeat": false, "CheckFalsePositiveMaxscale": false, "CheckFalsePositiveHeartbeatTimeout": 3, "CheckFalsePositiveMaxscaleTimeout": 14, "CheckFalsePositiveExternal": false, "CheckFalsePositiveExternalPort": 80, "Heartbeat": false, "MdbsProxyOn": false, "MdbsProxyHosts": "127.0.0.1:3307", "MdbsProxyUser": "admin", "MxsOn": true, "MxsHost": "192.168.100.50", "MxsPort": "3307", "MxsUser": "admin", "MxsPass": "mariadb", "MxsWritePort": 4007, "MxsReadPort": 4008, "MxsReadWritePort": 4006, "MxsMaxinfoPort": 3307, "MxsBinlogOn": false, "MxsBinlogPort": 3309, "MxsDisableMonitor": false, "MxsGetInfoMethod": "maxadmin", "MxsServerMatchPort": false, "HaproxyOn": false, "HaproxyWritePort": 3306, "HaproxyReadPort": 3307, "HaproxyStatPort": 1988, "HaproxyWriteBindIp": "0.0.0.0", "HaproxyReadBindIp": "0.0.0.0", "HaproxyBinaryPath": "/usr/sbin/haproxy", "KeyPath": "/etc/replication-manager/.replication-manager.key", "LogLevel": 0, "Test": true, "TestInjectTraffic": false, "Topology": "", "GraphiteMetrics": false, "GraphiteEmbedded": false, "GraphiteCarbonHost": "127.0.0.1", "GraphiteCarbonPort": 2003, "GraphiteCarbonApiPort": 10002, "GraphiteCarbonServerPort": 10003, "GraphiteCarbonLinkPort": 7002, "GraphiteCarbonPicklePort": 2004, "GraphiteCarbonPprofPort": 7007, "SysbenchBinaryPath": "/usr/local/bin/sysbench", "SysbenchTime": 60, "SysbenchThreads": 4, "MariaDBBinaryPath": "/usr/local/mysql/bin", "Arbitration": false, "ArbitrationSasSecret": "", "ArbitrationSasHosts": "88.191.151.84:80", "ArbitrationSasUniqueId": 0, "ArbitrationPeerHosts": "127.0.0.1:10002", "ReplicationSSL": false, "FailForceGtid": true, "RegTestStopCluster": false, "Enterprise": true, "ProvHost": "192.168.100.101:443", "ProvAdminUser": "root@localhost.localdomain:opensvc", "ProvUser": "replication-manager@localhost.localdomain:mariadb", "ProvType": "docker", "ProvAgents": "agent1,agent2", "ProvMem": "256", "ProvIops": "300", "ProvTags": "smallredolog,semisync,innodb,noquerycache,threadpool,logslow,multidomains", "ProvDisk": "1G", "ProvDiskFS": "zfs", "ProvDiskPool": "zpool", "ProvDiskDevice": "/srv", "ProvDiskType": "loopback", "ProvNetIface": "br0", "ProvNetmask": "255.255.255.0", "ProvGateway": "192.168.100.254", "ProvProxType": "docker", "ProvProxAgents": "agent2", "ProvProxDisk": "1G", "ProvProxDiskFS": "zfs", "ProvProxDiskPool": "zpool", "ProvProxDiskDevice": "/srv", "ProvProxDiskType": "loopback", "ProvProxNetIface": "br0", "ProvProxNetmask": "255.255.255.0", "ProvProxGateway": "192.168.100.254", "ProvMaxscaleVip": "", "ProvMdbshardproxyVip": "", "ProvHaproxyVip": "", "ProvWebsqlproxyVip": "", "ProvDbImg": "mariadb:10.2", "ProvProxImg": "asosso/maxscale:latest", "APIUser": "admin:mariadb", "APIPort": "3000", "ConfigFile": "././config/masterslave/mariadb/without_traffic/10.2/x2/multidomains/innodb/maxscale/latest/x1/replication-manager.conf" } }
,
{ "name": "testFailoverReplAllDelayInteractive", "result": "FAIL", "config-file": "", "config-init": { "WorkingDir": "", "ShareDir": "", "User": "", "Hosts": "", "HostsTLSCA": "", "HostsTLSKEY": "", "HostsTLSCLI": "", "Socket": "", "RplUser": "", "Interactive": false, "Verbose": false, "PreScript": "", "PostScript": "", "RejoinScript": "", "PrefMaster": "", "IgnoreSrv": "", "SwitchWaitKill": 0, "SwitchWaitTrx": 0, "SwitchWaitWrite": 0, "SwitchGtidCheck": false, "SwitchSync": false, "SwitchMaxDelay": 0, "ReadOnly": false, "Autorejoin": false, "AutorejoinFlashback": false, "AutorejoinMysqldump": false, "AutorejoinBackupBinlog": false, "AutorejoinSemisync": false, "LogFile": "", "MonitoringTicker": 0, "Timeout": 0, "CheckType": "", "CheckReplFilter": false, "CheckBinFilter": false, "ForceSlaveHeartbeat": false, "ForceSlaveHeartbeatTime": 0, "ForceSlaveHeartbeatRetry": 0, "ForceSlaveGtid": false, "ForceSlaveNoGtid": false, "ForceSlaveSemisync": false, "ForceSlaveReadOnly": false, "ForceBinlogRow": false, "ForceBinlogAnnotate": false, "ForceBinlogCompress": false, "ForceBinlogSlowqueries": false, "ForceBinlogChecksum": false, "ForceInmemoryBinlogCacheSize": false, "ForceDiskRelayLogSizeLimit": false, "ForceDiskRelayLogSizeLimitSize": 0, "ForceSyncBinlog": false, "ForceSyncInnoDB": false, "ForceNoslaveBehind": false, "RplChecks": false, "MasterConn": "", "MultiMaster": false, "MultiTierSlave": false, "Spider": false, "BindAddr": "", "HttpPort": "", "HttpServ": false, "HttpRoot": "", "HttpAuth": false, "HttpBootstrapButton": false, "SessionLifeTime": 0, "Daemon": false, "MailFrom": "", "MailTo": "", "MailSMTPAddr": "", "MasterConnectRetry": 0, "FailLimit": 0, "FailTime": 0, "FailSync": false, "FailEventScheduler": false, "FailEventStatus": false, "FailRestartUnsafe": false, "MaxFail": 0, "FailResetTime": 0, "FailMaxDelay": 0, "CheckFalsePositiveHeartbeat": false, "CheckFalsePositiveMaxscale": false, "CheckFalsePositiveHeartbeatTimeout": 0, "CheckFalsePositiveMaxscaleTimeout": 0, "CheckFalsePositiveExternal": false, "CheckFalsePositiveExternalPort": 0, "Heartbeat": false, "MdbsProxyOn": false, "MdbsProxyHosts": "", "MdbsProxyUser": "", "MxsOn": false, "MxsHost": "", "MxsPort": "", "MxsUser": "", "MxsPass": "", "MxsWritePort": 0, "MxsReadPort": 0, "MxsReadWritePort": 0, "MxsMaxinfoPort": 0, "MxsBinlogOn": false, "MxsBinlogPort": 0, "MxsDisableMonitor": false, "MxsGetInfoMethod": "", "MxsServerMatchPort": false, "HaproxyOn": false, "HaproxyWritePort": 0, "HaproxyReadPort": 0, "HaproxyStatPort": 0, "HaproxyWriteBindIp": "", "HaproxyReadBindIp": "", "HaproxyBinaryPath": "", "KeyPath": "", "LogLevel": 0, "Test": false, "TestInjectTraffic": false, "Topology": "", "GraphiteMetrics": false, "GraphiteEmbedded": false, "GraphiteCarbonHost": "", "GraphiteCarbonPort": 0, "GraphiteCarbonApiPort": 0, "GraphiteCarbonServerPort": 0, "GraphiteCarbonLinkPort": 0, "GraphiteCarbonPicklePort": 0, "GraphiteCarbonPprofPort": 0, "SysbenchBinaryPath": "", "SysbenchTime": 0, "SysbenchThreads": 0, "MariaDBBinaryPath": "", "Arbitration": false, "ArbitrationSasSecret": "", "ArbitrationSasHosts": "", "ArbitrationSasUniqueId": 0, "ArbitrationPeerHosts": "", "ReplicationSSL": false, "FailForceGtid": false, "RegTestStopCluster": false, "Enterprise": false, "ProvHost": "", "ProvAdminUser": "", "ProvUser": "", "ProvType": "", "ProvAgents": "", "ProvMem": "", "ProvIops": "", "ProvTags": "", "ProvDisk": "", "ProvDiskFS": "", "ProvDiskPool": "", "ProvDiskDevice": "", "ProvDiskType": "", "ProvNetIface": "", "ProvNetmask": "", "ProvGateway": "", "ProvProxType": "", "ProvProxAgents": "", "ProvProxDisk": "", "ProvProxDiskFS": "", "ProvProxDiskPool": "", "ProvProxDiskDevice": "", "ProvProxDiskType": "", "ProvProxNetIface": "", "ProvProxNetmask": "", "ProvProxGateway": "", "ProvMaxscaleVip": "", "ProvMdbshardproxyVip": "", "ProvHaproxyVip": "", "ProvWebsqlproxyVip": "", "ProvDbImg": "", "ProvProxImg": "", "APIUser": "", "APIPort": "", "ConfigFile": "" }, "config-test": { "WorkingDir": "", "ShareDir": "", "User": "", "Hosts": "", "HostsTLSCA": "", "HostsTLSKEY": "", "HostsTLSCLI": "", "Socket": "", "RplUser": "", "Interactive": false, "Verbose": false, "PreScript": "", "PostScript": "", "RejoinScript": "", "PrefMaster": "", "IgnoreSrv": "", "SwitchWaitKill": 0, "SwitchWaitTrx": 0, "SwitchWaitWrite": 0, "SwitchGtidCheck": false, "SwitchSync": false, "SwitchMaxDelay": 0, "ReadOnly": false, "Autorejoin": false, "AutorejoinFlashback": false, "AutorejoinMysqldump": false, "AutorejoinBackupBinlog": false, "AutorejoinSemisync": false, "LogFile": "", "MonitoringTicker": 0, "Timeout": 0, "CheckType": "", "CheckReplFilter": false, "CheckBinFilter": false, "ForceSlaveHeartbeat": false, "ForceSlaveHeartbeatTime": 0, "ForceSlaveHeartbeatRetry": 0, "ForceSlaveGtid": false, "ForceSlaveNoGtid": false, "ForceSlaveSemisync": false, "ForceSlaveReadOnly": false, "ForceBinlogRow": false, "ForceBinlogAnnotate": false, "ForceBinlogCompress": false, "ForceBinlogSlowqueries": false, "ForceBinlogChecksum": false, "ForceInmemoryBinlogCacheSize": false, "ForceDiskRelayLogSizeLimit": false, "ForceDiskRelayLogSizeLimitSize": 0, "ForceSyncBinlog": false, "ForceSyncInnoDB": false, "ForceNoslaveBehind": false, "RplChecks": false, "MasterConn": "", "MultiMaster": false, "MultiTierSlave": false, "Spider": false, "BindAddr": "", "HttpPort": "", "HttpServ": false, "HttpRoot": "", "HttpAuth": false, "HttpBootstrapButton": false, "SessionLifeTime": 0, "Daemon": false, "MailFrom": "", "MailTo": "", "MailSMTPAddr": "", "MasterConnectRetry": 0, "FailLimit": 0, "FailTime": 0, "FailSync": false, "FailEventScheduler": false, "FailEventStatus": false, "FailRestartUnsafe": false, "MaxFail": 0, "FailResetTime": 0, "FailMaxDelay": 0, "CheckFalsePositiveHeartbeat": false, "CheckFalsePositiveMaxscale": false, "CheckFalsePositiveHeartbeatTimeout": 0, "CheckFalsePositiveMaxscaleTimeout": 0, "CheckFalsePositiveExternal": false, "CheckFalsePositiveExternalPort": 0, "Heartbeat": false, "MdbsProxyOn": false, "MdbsProxyHosts": "", "MdbsProxyUser": "", "MxsOn": false, "MxsHost": "", "MxsPort": "", "MxsUser": "", "MxsPass": "", "MxsWritePort": 0, "MxsReadPort": 0, "MxsReadWritePort": 0, "MxsMaxinfoPort": 0, "MxsBinlogOn": false, "MxsBinlogPort": 0, "MxsDisableMonitor": false, "MxsGetInfoMethod": "", "MxsServerMatchPort": false, "HaproxyOn": false, "HaproxyWritePort": 0, "HaproxyReadPort": 0, "HaproxyStatPort": 0, "HaproxyWriteBindIp": "", "HaproxyReadBindIp": "", "HaproxyBinaryPath": "", "KeyPath": "", "LogLevel": 0, "Test": false, "TestInjectTraffic": false, "Topology": "", "GraphiteMetrics": false, "GraphiteEmbedded": false, "GraphiteCarbonHost": "", "GraphiteCarbonPort": 0, "GraphiteCarbonApiPort": 0, "GraphiteCarbonServerPort": 0, "GraphiteCarbonLinkPort": 0, "GraphiteCarbonPicklePort": 0, "GraphiteCarbonPprofPort": 0, "SysbenchBinaryPath": "", "SysbenchTime": 0, "SysbenchThreads": 0, "MariaDBBinaryPath": "", "Arbitration": false, "ArbitrationSasSecret": "", "ArbitrationSasHosts": "", "ArbitrationSasUniqueId": 0, "ArbitrationPeerHosts": "", "ReplicationSSL": false, "FailForceGtid": false, "RegTestStopCluster": false, "Enterprise": false, "ProvHost": "", "ProvAdminUser": "", "ProvUser": "", "ProvType": "", "ProvAgents": "", "ProvMem": "", "ProvIops": "", "ProvTags": "", "ProvDisk": "", "ProvDiskFS": "", "ProvDiskPool": "", "ProvDiskDevice": "", "ProvDiskType": "", "ProvNetIface": "", "ProvNetmask": "", "ProvGateway": "", "ProvProxType": "", "ProvProxAgents": "", "ProvProxDisk": "", "ProvProxDiskFS": "", "ProvProxDiskPool": "", "ProvProxDiskDevice": "", "ProvProxDiskType": "", "ProvProxNetIface": "", "ProvProxNetmask": "", "ProvProxGateway": "", "ProvMaxscaleVip": "", "ProvMdbshardproxyVip": "", "ProvHaproxyVip": "", "ProvWebsqlproxyVip": "", "ProvDbImg": "", "ProvProxImg": "", "APIUser": "", "APIPort": "", "ConfigFile": "" } }
,
{ "name": "testFailoverAssyncAutoRejoinFlashback", "result": "FAIL", "config-file": "././config/masterslave/mariadb/without_traffic/10.2/x2/multidomains/innodb/maxscale/latest/x1/replication-manager.conf", "config-init": { "WorkingDir": "/var/lib/replication-manager", "ShareDir": "/usr/local/share/mrm", "User": "root:mariadb", "Hosts": "192.168.100.70,192.168.100.71", "HostsTLSCA": "", "HostsTLSKEY": "", "HostsTLSCLI": "", "Socket": "", "RplUser": "root:mariadb", "Interactive": false, "Verbose": false, "PreScript": "", "PostScript": "", "RejoinScript": "", "PrefMaster": "192.168.100.70", "IgnoreSrv": "", "SwitchWaitKill": 5000, "SwitchWaitTrx": 10, "SwitchWaitWrite": 10, "SwitchGtidCheck": false, "SwitchSync": false, "SwitchMaxDelay": 0, "ReadOnly": true, "Autorejoin": true, "AutorejoinFlashback": true, "AutorejoinMysqldump": true, "AutorejoinBackupBinlog": true, "AutorejoinSemisync": true, "LogFile": "./config/masterslave/mariadb/without_traffic/10.2/x2/multidomains/innodb/maxscale/latest/x1/1.1.0-preview3-99-gc75a256/testFailoverAssyncAutoRejoinFlashback.log", "MonitoringTicker": 2, "Timeout": 1, "CheckType": "tcp", "CheckReplFilter": true, "CheckBinFilter": true, "ForceSlaveHeartbeat": false, "ForceSlaveHeartbeatTime": 3, "ForceSlaveHeartbeatRetry": 5, "ForceSlaveGtid": false, "ForceSlaveNoGtid": false, "ForceSlaveSemisync": true, "ForceSlaveReadOnly": true, "ForceBinlogRow": false, "ForceBinlogAnnotate": false, "ForceBinlogCompress": false, "ForceBinlogSlowqueries": false, "ForceBinlogChecksum": false, "ForceInmemoryBinlogCacheSize": false, "ForceDiskRelayLogSizeLimit": false, "ForceDiskRelayLogSizeLimitSize": 1000000000, "ForceSyncBinlog": true, "ForceSyncInnoDB": true, "ForceNoslaveBehind": false, "RplChecks": true, "MasterConn": "", "MultiMaster": false, "MultiTierSlave": false, "Spider": false, "BindAddr": "localhost", "HttpPort": "10001", "HttpServ": true, "HttpRoot": "../../dashboard", "HttpAuth": false, "HttpBootstrapButton": true, "SessionLifeTime": 3600, "Daemon": true, "MailFrom": "mrm@localhost", "MailTo": "", "MailSMTPAddr": "localhost:25", "MasterConnectRetry": 10, "FailLimit": 999, "FailTime": 1, "FailSync": false, "FailEventScheduler": false, "FailEventStatus": false, "FailRestartUnsafe": false, "MaxFail": 3, "FailResetTime": 300, "FailMaxDelay": 0, "CheckFalsePositiveHeartbeat": false, "CheckFalsePositiveMaxscale": false, "CheckFalsePositiveHeartbeatTimeout": 3, "CheckFalsePositiveMaxscaleTimeout": 14, "CheckFalsePositiveExternal": false, "CheckFalsePositiveExternalPort": 80, "Heartbeat": false, "MdbsProxyOn": false, "MdbsProxyHosts": "127.0.0.1:3307", "MdbsProxyUser": "admin", "MxsOn": true, "MxsHost": "192.168.100.50", "MxsPort": "3307", "MxsUser": "admin", "MxsPass": "mariadb", "MxsWritePort": 4007, "MxsReadPort": 4008, "MxsReadWritePort": 4006, "MxsMaxinfoPort": 3307, "MxsBinlogOn": false, "MxsBinlogPort": 3309, "MxsDisableMonitor": false, "MxsGetInfoMethod": "maxadmin", "MxsServerMatchPort": false, "HaproxyOn": false, "HaproxyWritePort": 3306, "HaproxyReadPort": 3307, "HaproxyStatPort": 1988, "HaproxyWriteBindIp": "0.0.0.0", "HaproxyReadBindIp": "0.0.0.0", "HaproxyBinaryPath": "/usr/sbin/haproxy", "KeyPath": "/etc/replication-manager/.replication-manager.key", "LogLevel": 0, "Test": true, "TestInjectTraffic": false, "Topology": "", "GraphiteMetrics": false, "GraphiteEmbedded": false, "GraphiteCarbonHost": "127.0.0.1", "GraphiteCarbonPort": 2003, "GraphiteCarbonApiPort": 10002, "GraphiteCarbonServerPort": 10003, "GraphiteCarbonLinkPort": 7002, "GraphiteCarbonPicklePort": 2004, "GraphiteCarbonPprofPort": 7007, "SysbenchBinaryPath": "/usr/local/bin/sysbench", "SysbenchTime": 60, "SysbenchThreads": 4, "MariaDBBinaryPath": "/usr/local/mysql/bin", "Arbitration": false, "ArbitrationSasSecret": "", "ArbitrationSasHosts": "88.191.151.84:80", "ArbitrationSasUniqueId": 0, "ArbitrationPeerHosts": "127.0.0.1:10002", "ReplicationSSL": false, "FailForceGtid": true, "RegTestStopCluster": false, "Enterprise": true, "ProvHost": "192.168.100.101:443", "ProvAdminUser": "root@localhost.localdomain:opensvc", "ProvUser": "replication-manager@localhost.localdomain:mariadb", "ProvType": "docker", "ProvAgents": "agent1,agent2", "ProvMem": "256", "ProvIops": "300", "ProvTags": "smallredolog,semisync,innodb,noquerycache,threadpool,logslow,multidomains", "ProvDisk": "1G", "ProvDiskFS": "zfs", "ProvDiskPool": "zpool", "ProvDiskDevice": "/srv", "ProvDiskType": "loopback", "ProvNetIface": "br0", "ProvNetmask": "255.255.255.0", "ProvGateway": "192.168.100.254", "ProvProxType": "docker", "ProvProxAgents": "agent2", "ProvProxDisk": "1G", "ProvProxDiskFS": "zfs", "ProvProxDiskPool": "zpool", "ProvProxDiskDevice": "/srv", "ProvProxDiskType": "loopback", "ProvProxNetIface": "br0", "ProvProxNetmask": "255.255.255.0", "ProvProxGateway": "192.168.100.254", "ProvMaxscaleVip": "", "ProvMdbshardproxyVip": "", "ProvHaproxyVip": "", "ProvWebsqlproxyVip": "", "ProvDbImg": "mariadb:10.2", "ProvProxImg": "asosso/maxscale:latest", "APIUser": "admin:mariadb", "APIPort": "3000", "ConfigFile": "././config/masterslave/mariadb/without_traffic/10.2/x2/multidomains/innodb/maxscale/latest/x1/replication-manager.conf" }, "config-test": { "WorkingDir": "/var/lib/replication-manager", "ShareDir": "/usr/local/share/mrm", "User": "root:mariadb", "Hosts": "192.168.100.70,192.168.100.71", "HostsTLSCA": "", "HostsTLSKEY": "", "HostsTLSCLI": "", "Socket": "", "RplUser": "root:mariadb", "Interactive": false, "Verbose": false, "PreScript": "", "PostScript": "", "RejoinScript": "", "PrefMaster": "192.168.100.70", "IgnoreSrv": "", "SwitchWaitKill": 5000, "SwitchWaitTrx": 10, "SwitchWaitWrite": 10, "SwitchGtidCheck": false, "SwitchSync": false, "SwitchMaxDelay": 0, "ReadOnly": true, "Autorejoin": true, "AutorejoinFlashback": true, "AutorejoinMysqldump": false, "AutorejoinBackupBinlog": true, "AutorejoinSemisync": true, "LogFile": "./config/masterslave/mariadb/without_traffic/10.2/x2/multidomains/innodb/maxscale/latest/x1/1.1.0-preview3-99-gc75a256/testFailoverAssyncAutoRejoinFlashback.log", "MonitoringTicker": 2, "Timeout": 1, "CheckType": "tcp", "CheckReplFilter": true, "CheckBinFilter": true, "ForceSlaveHeartbeat": false, "ForceSlaveHeartbeatTime": 3, "ForceSlaveHeartbeatRetry": 5, "ForceSlaveGtid": false, "ForceSlaveNoGtid": false, "ForceSlaveSemisync": true, "ForceSlaveReadOnly": true, "ForceBinlogRow": false, "ForceBinlogAnnotate": false, "ForceBinlogCompress": false, "ForceBinlogSlowqueries": false, "ForceBinlogChecksum": false, "ForceInmemoryBinlogCacheSize": false, "ForceDiskRelayLogSizeLimit": false, "ForceDiskRelayLogSizeLimitSize": 1000000000, "ForceSyncBinlog": true, "ForceSyncInnoDB": true, "ForceNoslaveBehind": false, "RplChecks": false, "MasterConn": "", "MultiMaster": false, "MultiTierSlave": false, "Spider": false, "BindAddr": "localhost", "HttpPort": "10001", "HttpServ": true, "HttpRoot": "../../dashboard", "HttpAuth": false, "HttpBootstrapButton": true, "SessionLifeTime": 3600, "Daemon": true, "MailFrom": "mrm@localhost", "MailTo": "", "MailSMTPAddr": "localhost:25", "MasterConnectRetry": 10, "FailLimit": 999, "FailTime": 1, "FailSync": false, "FailEventScheduler": false, "FailEventStatus": false, "FailRestartUnsafe": false, "MaxFail": 3, "FailResetTime": 300, "FailMaxDelay": 0, "CheckFalsePositiveHeartbeat": false, "CheckFalsePositiveMaxscale": false, "CheckFalsePositiveHeartbeatTimeout": 3, "CheckFalsePositiveMaxscaleTimeout": 14, "CheckFalsePositiveExternal": false, "CheckFalsePositiveExternalPort": 80, "Heartbeat": false, "MdbsProxyOn": false, "MdbsProxyHosts": "127.0.0.1:3307", "MdbsProxyUser": "admin", "MxsOn": true, "MxsHost": "192.168.100.50", "MxsPort": "3307", "MxsUser": "admin", "MxsPass": "mariadb", "MxsWritePort": 4007, "MxsReadPort": 4008, "MxsReadWritePort": 4006, "MxsMaxinfoPort": 3307, "MxsBinlogOn": false, "MxsBinlogPort": 3309, "MxsDisableMonitor": false, "MxsGetInfoMethod": "maxadmin", "MxsServerMatchPort": false, "HaproxyOn": false, "HaproxyWritePort": 3306, "HaproxyReadPort": 3307, "HaproxyStatPort": 1988, "HaproxyWriteBindIp": "0.0.0.0", "HaproxyReadBindIp": "0.0.0.0", "HaproxyBinaryPath": "/usr/sbin/haproxy", "KeyPath": "/etc/replication-manager/.replication-manager.key", "LogLevel": 0, "Test": true, "TestInjectTraffic": false, "Topology": "", "GraphiteMetrics": false, "GraphiteEmbedded": false, "GraphiteCarbonHost": "127.0.0.1", "GraphiteCarbonPort": 2003, "GraphiteCarbonApiPort": 10002, "GraphiteCarbonServerPort": 10003, "GraphiteCarbonLinkPort": 7002, "GraphiteCarbonPicklePort": 2004, "GraphiteCarbonPprofPort": 7007, "SysbenchBinaryPath": "/usr/local/bin/sysbench", "SysbenchTime": 60, "SysbenchThreads": 4, "MariaDBBinaryPath": "/usr/local/mysql/bin", "Arbitration": false, "ArbitrationSasSecret": "", "ArbitrationSasHosts": "88.191.151.84:80", "ArbitrationSasUniqueId": 0, "ArbitrationPeerHosts": "127.0.0.1:10002", "ReplicationSSL": false, "FailForceGtid": true, "RegTestStopCluster": false, "Enterprise": true, "ProvHost": "192.168.100.101:443", "ProvAdminUser": "root@localhost.localdomain:opensvc", "ProvUser": "replication-manager@localhost.localdomain:mariadb", "ProvType": "docker", "ProvAgents": "agent1,agent2", "ProvMem": "256", "ProvIops": "300", "ProvTags": "smallredolog,semisync,innodb,noquerycache,threadpool,logslow,multidomains", "ProvDisk": "1G", "ProvDiskFS": "zfs", "ProvDiskPool": "zpool", "ProvDiskDevice": "/srv", "ProvDiskType": "loopback", "ProvNetIface": "br0", "ProvNetmask": "255.255.255.0", "ProvGateway": "192.168.100.254", "ProvProxType": "docker", "ProvProxAgents": "agent2", "ProvProxDisk": "1G", "ProvProxDiskFS": "zfs", "ProvProxDiskPool": "zpool", "ProvProxDiskDevice": "/srv", "ProvProxDiskType": "loopback", "ProvProxNetIface": "br0", "ProvProxNetmask": "255.255.255.0", "ProvProxGateway": "192.168.100.254", "ProvMaxscaleVip": "", "ProvMdbshardproxyVip": "", "ProvHaproxyVip": "", "ProvWebsqlproxyVip": "", "ProvDbImg": "mariadb:10.2", "ProvProxImg": "asosso/maxscale:latest", "APIUser": "admin:mariadb", "APIPort": "3000", "ConfigFile": "././config/masterslave/mariadb/without_traffic/10.2/x2/multidomains/innodb/maxscale/latest/x1/replication-manager.conf" } }
,
{ "name": "testFailoverSemisyncAutoRejoinFlashback", "result": "FAIL", "config-file": "././config/masterslave/mariadb/without_traffic/10.2/x2/multidomains/innodb/maxscale/latest/x1/replication-manager.conf", "config-init": { "WorkingDir": "/var/lib/replication-manager", "ShareDir": "/usr/local/share/mrm", "User": "root:mariadb", "Hosts": "192.168.100.70,192.168.100.71", "HostsTLSCA": "", "HostsTLSKEY": "", "HostsTLSCLI": "", "Socket": "", "RplUser": "root:mariadb", "Interactive": false, "Verbose": false, "PreScript": "", "PostScript": "", "RejoinScript": "", "PrefMaster": "192.168.100.70", "IgnoreSrv": "", "SwitchWaitKill": 5000, "SwitchWaitTrx": 10, "SwitchWaitWrite": 10, "SwitchGtidCheck": false, "SwitchSync": false, "SwitchMaxDelay": 0, "ReadOnly": true, "Autorejoin": true, "AutorejoinFlashback": true, "AutorejoinMysqldump": true, "AutorejoinBackupBinlog": true, "AutorejoinSemisync": true, "LogFile": "./config/masterslave/mariadb/without_traffic/10.2/x2/multidomains/innodb/maxscale/latest/x1/1.1.0-preview3-99-gc75a256/testFailoverSemisyncAutoRejoinFlashback.log", "MonitoringTicker": 2, "Timeout": 1, "CheckType": "tcp", "CheckReplFilter": true, "CheckBinFilter": true, "ForceSlaveHeartbeat": false, "ForceSlaveHeartbeatTime": 3, "ForceSlaveHeartbeatRetry": 5, "ForceSlaveGtid": false, "ForceSlaveNoGtid": false, "ForceSlaveSemisync": true, "ForceSlaveReadOnly": true, "ForceBinlogRow": false, "ForceBinlogAnnotate": false, "ForceBinlogCompress": false, "ForceBinlogSlowqueries": false, "ForceBinlogChecksum": false, "ForceInmemoryBinlogCacheSize": false, "ForceDiskRelayLogSizeLimit": false, "ForceDiskRelayLogSizeLimitSize": 1000000000, "ForceSyncBinlog": true, "ForceSyncInnoDB": true, "ForceNoslaveBehind": false, "RplChecks": true, "MasterConn": "", "MultiMaster": false, "MultiTierSlave": false, "Spider": false, "BindAddr": "localhost", "HttpPort": "10001", "HttpServ": true, "HttpRoot": "../../dashboard", "HttpAuth": false, "HttpBootstrapButton": true, "SessionLifeTime": 3600, "Daemon": true, "MailFrom": "mrm@localhost", "MailTo": "", "MailSMTPAddr": "localhost:25", "MasterConnectRetry": 10, "FailLimit": 999, "FailTime": 1, "FailSync": false, "FailEventScheduler": false, "FailEventStatus": false, "FailRestartUnsafe": false, "MaxFail": 3, "FailResetTime": 300, "FailMaxDelay": 0, "CheckFalsePositiveHeartbeat": false, "CheckFalsePositiveMaxscale": false, "CheckFalsePositiveHeartbeatTimeout": 3, "CheckFalsePositiveMaxscaleTimeout": 14, "CheckFalsePositiveExternal": false, "CheckFalsePositiveExternalPort": 80, "Heartbeat": false, "MdbsProxyOn": false, "MdbsProxyHosts": "127.0.0.1:3307", "MdbsProxyUser": "admin", "MxsOn": true, "MxsHost": "192.168.100.50", "MxsPort": "3307", "MxsUser": "admin", "MxsPass": "mariadb", "MxsWritePort": 4007, "MxsReadPort": 4008, "MxsReadWritePort": 4006, "MxsMaxinfoPort": 3307, "MxsBinlogOn": false, "MxsBinlogPort": 3309, "MxsDisableMonitor": false, "MxsGetInfoMethod": "maxadmin", "MxsServerMatchPort": false, "HaproxyOn": false, "HaproxyWritePort": 3306, "HaproxyReadPort": 3307, "HaproxyStatPort": 1988, "HaproxyWriteBindIp": "0.0.0.0", "HaproxyReadBindIp": "0.0.0.0", "HaproxyBinaryPath": "/usr/sbin/haproxy", "KeyPath": "/etc/replication-manager/.replication-manager.key", "LogLevel": 0, "Test": true, "TestInjectTraffic": false, "Topology": "", "GraphiteMetrics": false, "GraphiteEmbedded": false, "GraphiteCarbonHost": "127.0.0.1", "GraphiteCarbonPort": 2003, "GraphiteCarbonApiPort": 10002, "GraphiteCarbonServerPort": 10003, "GraphiteCarbonLinkPort": 7002, "GraphiteCarbonPicklePort": 2004, "GraphiteCarbonPprofPort": 7007, "SysbenchBinaryPath": "/usr/local/bin/sysbench", "SysbenchTime": 60, "SysbenchThreads": 4, "MariaDBBinaryPath": "/usr/local/mysql/bin", "Arbitration": false, "ArbitrationSasSecret": "", "ArbitrationSasHosts": "88.191.151.84:80", "ArbitrationSasUniqueId": 0, "ArbitrationPeerHosts": "127.0.0.1:10002", "ReplicationSSL": false, "FailForceGtid": true, "RegTestStopCluster": false, "Enterprise": true, "ProvHost": "192.168.100.101:443", "ProvAdminUser": "root@localhost.localdomain:opensvc", "ProvUser": "replication-manager@localhost.localdomain:mariadb", "ProvType": "docker", "ProvAgents": "agent1,agent2", "ProvMem": "256", "ProvIops": "300", "ProvTags": "smallredolog,semisync,innodb,noquerycache,threadpool,logslow,multidomains", "ProvDisk": "1G", "ProvDiskFS": "zfs", "ProvDiskPool": "zpool", "ProvDiskDevice": "/srv", "ProvDiskType": "loopback", "ProvNetIface": "br0", "ProvNetmask": "255.255.255.0", "ProvGateway": "192.168.100.254", "ProvProxType": "docker", "ProvProxAgents": "agent2", "ProvProxDisk": "1G", "ProvProxDiskFS": "zfs", "ProvProxDiskPool": "zpool", "ProvProxDiskDevice": "/srv", "ProvProxDiskType": "loopback", "ProvProxNetIface": "br0", "ProvProxNetmask": "255.255.255.0", "ProvProxGateway": "192.168.100.254", "ProvMaxscaleVip": "", "ProvMdbshardproxyVip": "", "ProvHaproxyVip": "", "ProvWebsqlproxyVip": "", "ProvDbImg": "mariadb:10.2", "ProvProxImg": "asosso/maxscale:latest", "APIUser": "admin:mariadb", "APIPort": "3000", "ConfigFile": "././config/masterslave/mariadb/without_traffic/10.2/x2/multidomains/innodb/maxscale/latest/x1/replication-manager.conf" }, "config-test": { "WorkingDir": "/var/lib/replication-manager", "ShareDir": "/usr/local/share/mrm", "User": "root:mariadb", "Hosts": "192.168.100.70,192.168.100.71", "HostsTLSCA": "", "HostsTLSKEY": "", "HostsTLSCLI": "", "Socket": "", "RplUser": "root:mariadb", "Interactive": false, "Verbose": false, "PreScript": "", "PostScript": "", "RejoinScript": "", "PrefMaster": "192.168.100.70", "IgnoreSrv": "", "SwitchWaitKill": 5000, "SwitchWaitTrx": 10, "SwitchWaitWrite": 10, "SwitchGtidCheck": false, "SwitchSync": false, "SwitchMaxDelay": 0, "ReadOnly": true, "Autorejoin": true, "AutorejoinFlashback": true, "AutorejoinMysqldump": false, "AutorejoinBackupBinlog": true, "AutorejoinSemisync": true, "LogFile": "./config/masterslave/mariadb/without_traffic/10.2/x2/multidomains/innodb/maxscale/latest/x1/1.1.0-preview3-99-gc75a256/testFailoverSemisyncAutoRejoinFlashback.log", "MonitoringTicker": 2, "Timeout": 1, "CheckType": "tcp", "CheckReplFilter": true, "CheckBinFilter": true, "ForceSlaveHeartbeat": false, "ForceSlaveHeartbeatTime": 3, "ForceSlaveHeartbeatRetry": 5, "ForceSlaveGtid": false, "ForceSlaveNoGtid": false, "ForceSlaveSemisync": true, "ForceSlaveReadOnly": true, "ForceBinlogRow": false, "ForceBinlogAnnotate": false, "ForceBinlogCompress": false, "ForceBinlogSlowqueries": false, "ForceBinlogChecksum": false, "ForceInmemoryBinlogCacheSize": false, "ForceDiskRelayLogSizeLimit": false, "ForceDiskRelayLogSizeLimitSize": 1000000000, "ForceSyncBinlog": true, "ForceSyncInnoDB": true, "ForceNoslaveBehind": false, "RplChecks": false, "MasterConn": "", "MultiMaster": false, "MultiTierSlave": false, "Spider": false, "BindAddr": "localhost", "HttpPort": "10001", "HttpServ": true, "HttpRoot": "../../dashboard", "HttpAuth": false, "HttpBootstrapButton": true, "SessionLifeTime": 3600, "Daemon": true, "MailFrom": "mrm@localhost", "MailTo": "", "MailSMTPAddr": "localhost:25", "MasterConnectRetry": 10, "FailLimit": 999, "FailTime": 1, "FailSync": false, "FailEventScheduler": false, "FailEventStatus": false, "FailRestartUnsafe": false, "MaxFail": 3, "FailResetTime": 300, "FailMaxDelay": 0, "CheckFalsePositiveHeartbeat": false, "CheckFalsePositiveMaxscale": false, "CheckFalsePositiveHeartbeatTimeout": 3, "CheckFalsePositiveMaxscaleTimeout": 14, "CheckFalsePositiveExternal": false, "CheckFalsePositiveExternalPort": 80, "Heartbeat": false, "MdbsProxyOn": false, "MdbsProxyHosts": "127.0.0.1:3307", "MdbsProxyUser": "admin", "MxsOn": true, "MxsHost": "192.168.100.50", "MxsPort": "3307", "MxsUser": "admin", "MxsPass": "mariadb", "MxsWritePort": 4007, "MxsReadPort": 4008, "MxsReadWritePort": 4006, "MxsMaxinfoPort": 3307, "MxsBinlogOn": false, "MxsBinlogPort": 3309, "MxsDisableMonitor": false, "MxsGetInfoMethod": "maxadmin", "MxsServerMatchPort": false, "HaproxyOn": false, "HaproxyWritePort": 3306, "HaproxyReadPort": 3307, "HaproxyStatPort": 1988, "HaproxyWriteBindIp": "0.0.0.0", "HaproxyReadBindIp": "0.0.0.0", "HaproxyBinaryPath": "/usr/sbin/haproxy", "KeyPath": "/etc/replication-manager/.replication-manager.key", "LogLevel": 0, "Test": true, "TestInjectTraffic": false, "Topology": "", "GraphiteMetrics": false, "GraphiteEmbedded": false, "GraphiteCarbonHost": "127.0.0.1", "GraphiteCarbonPort": 2003, "GraphiteCarbonApiPort": 10002, "GraphiteCarbonServerPort": 10003, "GraphiteCarbonLinkPort": 7002, "GraphiteCarbonPicklePort": 2004, "GraphiteCarbonPprofPort": 7007, "SysbenchBinaryPath": "/usr/local/bin/sysbench", "SysbenchTime": 60, "SysbenchThreads": 4, "MariaDBBinaryPath": "/usr/local/mysql/bin", "Arbitration": false, "ArbitrationSasSecret": "", "ArbitrationSasHosts": "88.191.151.84:80", "ArbitrationSasUniqueId": 0, "ArbitrationPeerHosts": "127.0.0.1:10002", "ReplicationSSL": false, "FailForceGtid": true, "RegTestStopCluster": false, "Enterprise": true, "ProvHost": "192.168.100.101:443", "ProvAdminUser": "root@localhost.localdomain:opensvc", "ProvUser": "replication-manager@localhost.localdomain:mariadb", "ProvType": "docker", "ProvAgents": "agent1,agent2", "ProvMem": "256", "ProvIops": "300", "ProvTags": "smallredolog,semisync,innodb,noquerycache,threadpool,logslow,multidomains", "ProvDisk": "1G", "ProvDiskFS": "zfs", "ProvDiskPool": "zpool", "ProvDiskDevice": "/srv", "ProvDiskType": "loopback", "ProvNetIface": "br0", "ProvNetmask": "255.255.255.0", "ProvGateway": "192.168.100.254", "ProvProxType": "docker", "ProvProxAgents": "agent2", "ProvProxDisk": "1G", "ProvProxDiskFS": "zfs", "ProvProxDiskPool": "zpool", "ProvProxDiskDevice": "/srv", "ProvProxDiskType": "loopback", "ProvProxNetIface": "br0", "ProvProxNetmask": "255.255.255.0", "ProvProxGateway": "192.168.100.254", "ProvMaxscaleVip": "", "ProvMdbshardproxyVip": "", "ProvHaproxyVip": "", "ProvWebsqlproxyVip": "", "ProvDbImg": "mariadb:10.2", "ProvProxImg": "asosso/maxscale:latest", "APIUser": "admin:mariadb", "APIPort": "3000", "ConfigFile": "././config/masterslave/mariadb/without_traffic/10.2/x2/multidomains/innodb/maxscale/latest/x1/replication-manager.conf" } }
,
{ "name": "testFailoverAssyncAutoRejoinNowrites", "result": "PASS", "config-file": "././config/masterslave/mariadb/without_traffic/10.2/x2/multidomains/innodb/maxscale/latest/x1/replication-manager.conf", "config-init": { "WorkingDir": "/var/lib/replication-manager", "ShareDir": "/usr/local/share/mrm", "User": "root:mariadb", "Hosts": "192.168.100.70,192.168.100.71", "HostsTLSCA": "", "HostsTLSKEY": "", "HostsTLSCLI": "", "Socket": "", "RplUser": "root:mariadb", "Interactive": false, "Verbose": false, "PreScript": "", "PostScript": "", "RejoinScript": "", "PrefMaster": "192.168.100.70", "IgnoreSrv": "", "SwitchWaitKill": 5000, "SwitchWaitTrx": 10, "SwitchWaitWrite": 10, "SwitchGtidCheck": false, "SwitchSync": false, "SwitchMaxDelay": 0, "ReadOnly": true, "Autorejoin": true, "AutorejoinFlashback": true, "AutorejoinMysqldump": true, "AutorejoinBackupBinlog": true, "AutorejoinSemisync": true, "LogFile": "./config/masterslave/mariadb/without_traffic/10.2/x2/multidomains/innodb/maxscale/latest/x1/1.1.0-preview3-99-gc75a256/testFailoverAssyncAutoRejoinNowrites.log", "MonitoringTicker": 2, "Timeout": 1, "CheckType": "tcp", "CheckReplFilter": true, "CheckBinFilter": true, "ForceSlaveHeartbeat": false, "ForceSlaveHeartbeatTime": 3, "ForceSlaveHeartbeatRetry": 5, "ForceSlaveGtid": false, "ForceSlaveNoGtid": false, "ForceSlaveSemisync": true, "ForceSlaveReadOnly": true, "ForceBinlogRow": false, "ForceBinlogAnnotate": false, "ForceBinlogCompress": false, "ForceBinlogSlowqueries": false, "ForceBinlogChecksum": false, "ForceInmemoryBinlogCacheSize": false, "ForceDiskRelayLogSizeLimit": false, "ForceDiskRelayLogSizeLimitSize": 1000000000, "ForceSyncBinlog": true, "ForceSyncInnoDB": true, "ForceNoslaveBehind": false, "RplChecks": true, "MasterConn": "", "MultiMaster": false, "MultiTierSlave": false, "Spider": false, "BindAddr": "localhost", "HttpPort": "10001", "HttpServ": true, "HttpRoot": "../../dashboard", "HttpAuth": false, "HttpBootstrapButton": true, "SessionLifeTime": 3600, "Daemon": true, "MailFrom": "mrm@localhost", "MailTo": "", "MailSMTPAddr": "localhost:25", "MasterConnectRetry": 10, "FailLimit": 999, "FailTime": 1, "FailSync": false, "FailEventScheduler": false, "FailEventStatus": false, "FailRestartUnsafe": false, "MaxFail": 3, "FailResetTime": 300, "FailMaxDelay": 0, "CheckFalsePositiveHeartbeat": false, "CheckFalsePositiveMaxscale": false, "CheckFalsePositiveHeartbeatTimeout": 3, "CheckFalsePositiveMaxscaleTimeout": 14, "CheckFalsePositiveExternal": false, "CheckFalsePositiveExternalPort": 80, "Heartbeat": false, "MdbsProxyOn": false, "MdbsProxyHosts": "127.0.0.1:3307", "MdbsProxyUser": "admin", "MxsOn": true, "MxsHost": "192.168.100.50", "MxsPort": "3307", "MxsUser": "admin", "MxsPass": "mariadb", "MxsWritePort": 4007, "MxsReadPort": 4008, "MxsReadWritePort": 4006, "MxsMaxinfoPort": 3307, "MxsBinlogOn": false, "MxsBinlogPort": 3309, "MxsDisableMonitor": false, "MxsGetInfoMethod": "maxadmin", "MxsServerMatchPort": false, "HaproxyOn": false, "HaproxyWritePort": 3306, "HaproxyReadPort": 3307, "HaproxyStatPort": 1988, "HaproxyWriteBindIp": "0.0.0.0", "HaproxyReadBindIp": "0.0.0.0", "HaproxyBinaryPath": "/usr/sbin/haproxy", "KeyPath": "/etc/replication-manager/.replication-manager.key", "LogLevel": 0, "Test": true, "TestInjectTraffic": false, "Topology": "", "GraphiteMetrics": false, "GraphiteEmbedded": false, "GraphiteCarbonHost": "127.0.0.1", "GraphiteCarbonPort": 2003, "GraphiteCarbonApiPort": 10002, "GraphiteCarbonServerPort": 10003, "GraphiteCarbonLinkPort": 7002, "GraphiteCarbonPicklePort": 2004, "GraphiteCarbonPprofPort": 7007, "SysbenchBinaryPath": "/usr/local/bin/sysbench", "SysbenchTime": 60, "SysbenchThreads": 4, "MariaDBBinaryPath": "/usr/local/mysql/bin", "Arbitration": false, "ArbitrationSasSecret": "", "ArbitrationSasHosts": "88.191.151.84:80", "ArbitrationSasUniqueId": 0, "ArbitrationPeerHosts": "127.0.0.1:10002", "ReplicationSSL": false, "FailForceGtid": true, "RegTestStopCluster": false, "Enterprise": true, "ProvHost": "192.168.100.101:443", "ProvAdminUser": "root@localhost.localdomain:opensvc", "ProvUser": "replication-manager@localhost.localdomain:mariadb", "ProvType": "docker", "ProvAgents": "agent1,agent2", "ProvMem": "256", "ProvIops": "300", "ProvTags": "smallredolog,semisync,innodb,noquerycache,threadpool,logslow,multidomains", "ProvDisk": "1G", "ProvDiskFS": "zfs", "ProvDiskPool": "zpool", "ProvDiskDevice": "/srv", "ProvDiskType": "loopback", "ProvNetIface": "br0", "ProvNetmask": "255.255.255.0", "ProvGateway": "192.168.100.254", "ProvProxType": "docker", "ProvProxAgents": "agent2", "ProvProxDisk": "1G", "ProvProxDiskFS": "zfs", "ProvProxDiskPool": "zpool", "ProvProxDiskDevice": "/srv", "ProvProxDiskType": "loopback", "ProvProxNetIface": "br0", "ProvProxNetmask": "255.255.255.0", "ProvProxGateway": "192.168.100.254", "ProvMaxscaleVip": "", "ProvMdbshardproxyVip": "", "ProvHaproxyVip": "", "ProvWebsqlproxyVip": "", "ProvDbImg": "mariadb:10.2", "ProvProxImg": "asosso/maxscale:latest", "APIUser": "admin:mariadb", "APIPort": "3000", "ConfigFile": "././config/masterslave/mariadb/without_traffic/10.2/x2/multidomains/innodb/maxscale/latest/x1/replication-manager.conf" }, "config-test": { "WorkingDir": "/var/lib/replication-manager", "ShareDir": "/usr/local/share/mrm", "User": "root:mariadb", "Hosts": "192.168.100.70,192.168.100.71", "HostsTLSCA": "", "HostsTLSKEY": "", "HostsTLSCLI": "", "Socket": "", "RplUser": "root:mariadb", "Interactive": false, "Verbose": false, "PreScript": "", "PostScript": "", "RejoinScript": "", "PrefMaster": "192.168.100.70", "IgnoreSrv": "", "SwitchWaitKill": 5000, "SwitchWaitTrx": 10, "SwitchWaitWrite": 10, "SwitchGtidCheck": false, "SwitchSync": false, "SwitchMaxDelay": 0, "ReadOnly": true, "Autorejoin": true, "AutorejoinFlashback": false, "AutorejoinMysqldump": false, "AutorejoinBackupBinlog": true, "AutorejoinSemisync": true, "LogFile": "./config/masterslave/mariadb/without_traffic/10.2/x2/multidomains/innodb/maxscale/latest/x1/1.1.0-preview3-99-gc75a256/testFailoverAssyncAutoRejoinNowrites.log", "MonitoringTicker": 2, "Timeout": 1, "CheckType": "tcp", "CheckReplFilter": true, "CheckBinFilter": true, "ForceSlaveHeartbeat": false, "ForceSlaveHeartbeatTime": 3, "ForceSlaveHeartbeatRetry": 5, "ForceSlaveGtid": false, "ForceSlaveNoGtid": false, "ForceSlaveSemisync": true, "ForceSlaveReadOnly": true, "ForceBinlogRow": false, "ForceBinlogAnnotate": false, "ForceBinlogCompress": false, "ForceBinlogSlowqueries": false, "ForceBinlogChecksum": false, "ForceInmemoryBinlogCacheSize": false, "ForceDiskRelayLogSizeLimit": false, "ForceDiskRelayLogSizeLimitSize": 1000000000, "ForceSyncBinlog": true, "ForceSyncInnoDB": true, "ForceNoslaveBehind": false, "RplChecks": false, "MasterConn": "", "MultiMaster": false, "MultiTierSlave": false, "Spider": false, "BindAddr": "localhost", "HttpPort": "10001", "HttpServ": true, "HttpRoot": "../../dashboard", "HttpAuth": false, "HttpBootstrapButton": true, "SessionLifeTime": 3600, "Daemon": true, "MailFrom": "mrm@localhost", "MailTo": "", "MailSMTPAddr": "localhost:25", "MasterConnectRetry": 10, "FailLimit": 999, "FailTime": 1, "FailSync": false, "FailEventScheduler": false, "FailEventStatus": false, "FailRestartUnsafe": false, "MaxFail": 3, "FailResetTime": 300, "FailMaxDelay": 0, "CheckFalsePositiveHeartbeat": false, "CheckFalsePositiveMaxscale": false, "CheckFalsePositiveHeartbeatTimeout": 3, "CheckFalsePositiveMaxscaleTimeout": 14, "CheckFalsePositiveExternal": false, "CheckFalsePositiveExternalPort": 80, "Heartbeat": false, "MdbsProxyOn": false, "MdbsProxyHosts": "127.0.0.1:3307", "MdbsProxyUser": "admin", "MxsOn": true, "MxsHost": "192.168.100.50", "MxsPort": "3307", "MxsUser": "admin", "MxsPass": "mariadb", "MxsWritePort": 4007, "MxsReadPort": 4008, "MxsReadWritePort": 4006, "MxsMaxinfoPort": 3307, "MxsBinlogOn": false, "MxsBinlogPort": 3309, "MxsDisableMonitor": false, "MxsGetInfoMethod": "maxadmin", "MxsServerMatchPort": false, "HaproxyOn": false, "HaproxyWritePort": 3306, "HaproxyReadPort": 3307, "HaproxyStatPort": 1988, "HaproxyWriteBindIp": "0.0.0.0", "HaproxyReadBindIp": "0.0.0.0", "HaproxyBinaryPath": "/usr/sbin/haproxy", "KeyPath": "/etc/replication-manager/.replication-manager.key", "LogLevel": 0, "Test": true, "TestInjectTraffic": false, "Topology": "", "GraphiteMetrics": false, "GraphiteEmbedded": false, "GraphiteCarbonHost": "127.0.0.1", "GraphiteCarbonPort": 2003, "GraphiteCarbonApiPort": 10002, "GraphiteCarbonServerPort": 10003, "GraphiteCarbonLinkPort": 7002, "GraphiteCarbonPicklePort": 2004, "GraphiteCarbonPprofPort": 7007, "SysbenchBinaryPath": "/usr/local/bin/sysbench", "SysbenchTime": 60, "SysbenchThreads": 4, "MariaDBBinaryPath": "/usr/local/mysql/bin", "Arbitration": false, "ArbitrationSasSecret": "", "ArbitrationSasHosts": "88.191.151.84:80", "ArbitrationSasUniqueId": 0, "ArbitrationPeerHosts": "127.0.0.1:10002", "ReplicationSSL": false, "FailForceGtid": true, "RegTestStopCluster": false, "Enterprise": true, "ProvHost": "192.168.100.101:443", "ProvAdminUser": "root@localhost.localdomain:opensvc", "ProvUser": "replication-manager@localhost.localdomain:mariadb", "ProvType": "docker", "ProvAgents": "agent1,agent2", "ProvMem": "256", "ProvIops": "300", "ProvTags": "smallredolog,semisync,innodb,noquerycache,threadpool,logslow,multidomains", "ProvDisk": "1G", "ProvDiskFS": "zfs", "ProvDiskPool": "zpool", "ProvDiskDevice": "/srv", "ProvDiskType": "loopback", "ProvNetIface": "br0", "ProvNetmask": "255.255.255.0", "ProvGateway": "192.168.100.254", "ProvProxType": "docker", "ProvProxAgents": "agent2", "ProvProxDisk": "1G", "ProvProxDiskFS": "zfs", "ProvProxDiskPool": "zpool", "ProvProxDiskDevice": "/srv", "ProvProxDiskType": "loopback", "ProvProxNetIface": "br0", "ProvProxNetmask": "255.255.255.0", "ProvProxGateway": "192.168.100.254", "ProvMaxscaleVip": "", "ProvMdbshardproxyVip": "", "ProvHaproxyVip": "", "ProvWebsqlproxyVip": "", "ProvDbImg": "mariadb:10.2", "ProvProxImg": "asosso/maxscale:latest", "APIUser": "admin:mariadb", "APIPort": "3000", "ConfigFile": "././config/masterslave/mariadb/without_traffic/10.2/x2/multidomains/innodb/maxscale/latest/x1/replication-manager.conf" } }
,
{ "name": "testSlaReplAllSlavesStopNoSemiSync", "result": "FAIL", "config-file": "././config/masterslave/mariadb/without_traffic/10.2/x2/multidomains/innodb/maxscale/latest/x1/replication-manager.conf", "config-init": { "WorkingDir": "/var/lib/replication-manager", "ShareDir": "/usr/local/share/mrm", "User": "root:mariadb", "Hosts": "192.168.100.70,192.168.100.71", "HostsTLSCA": "", "HostsTLSKEY": "", "HostsTLSCLI": "", "Socket": "", "RplUser": "root:mariadb", "Interactive": false, "Verbose": false, "PreScript": "", "PostScript": "", "RejoinScript": "", "PrefMaster": "192.168.100.70", "IgnoreSrv": "", "SwitchWaitKill": 5000, "SwitchWaitTrx": 10, "SwitchWaitWrite": 10, "SwitchGtidCheck": false, "SwitchSync": false, "SwitchMaxDelay": 0, "ReadOnly": true, "Autorejoin": true, "AutorejoinFlashback": true, "AutorejoinMysqldump": true, "AutorejoinBackupBinlog": true, "AutorejoinSemisync": true, "LogFile": "./config/masterslave/mariadb/without_traffic/10.2/x2/multidomains/innodb/maxscale/latest/x1/1.1.0-preview3-99-gc75a256/testSlaReplAllSlavesStopNoSemiSync.log", "MonitoringTicker": 2, "Timeout": 1, "CheckType": "tcp", "CheckReplFilter": true, "CheckBinFilter": true, "ForceSlaveHeartbeat": false, "ForceSlaveHeartbeatTime": 3, "ForceSlaveHeartbeatRetry": 5, "ForceSlaveGtid": false, "ForceSlaveNoGtid": false, "ForceSlaveSemisync": true, "ForceSlaveReadOnly": true, "ForceBinlogRow": false, "ForceBinlogAnnotate": false, "ForceBinlogCompress": false, "ForceBinlogSlowqueries": false, "ForceBinlogChecksum": false, "ForceInmemoryBinlogCacheSize": false, "ForceDiskRelayLogSizeLimit": false, "ForceDiskRelayLogSizeLimitSize": 1000000000, "ForceSyncBinlog": true, "ForceSyncInnoDB": true, "ForceNoslaveBehind": false, "RplChecks": true, "MasterConn": "", "MultiMaster": false, "MultiTierSlave": false, "Spider": false, "BindAddr": "localhost", "HttpPort": "10001", "HttpServ": true, "HttpRoot": "../../dashboard", "HttpAuth": false, "HttpBootstrapButton": true, "SessionLifeTime": 3600, "Daemon": true, "MailFrom": "mrm@localhost", "MailTo": "", "MailSMTPAddr": "localhost:25", "MasterConnectRetry": 10, "FailLimit": 999, "FailTime": 1, "FailSync": false, "FailEventScheduler": false, "FailEventStatus": false, "FailRestartUnsafe": false, "MaxFail": 3, "FailResetTime": 300, "FailMaxDelay": 0, "CheckFalsePositiveHeartbeat": false, "CheckFalsePositiveMaxscale": false, "CheckFalsePositiveHeartbeatTimeout": 3, "CheckFalsePositiveMaxscaleTimeout": 14, "CheckFalsePositiveExternal": false, "CheckFalsePositiveExternalPort": 80, "Heartbeat": false, "MdbsProxyOn": false, "MdbsProxyHosts": "127.0.0.1:3307", "MdbsProxyUser": "admin", "MxsOn": true, "MxsHost": "192.168.100.50", "MxsPort": "3307", "MxsUser": "admin", "MxsPass": "mariadb", "MxsWritePort": 4007, "MxsReadPort": 4008, "MxsReadWritePort": 4006, "MxsMaxinfoPort": 3307, "MxsBinlogOn": false, "MxsBinlogPort": 3309, "MxsDisableMonitor": false, "MxsGetInfoMethod": "maxadmin", "MxsServerMatchPort": false, "HaproxyOn": false, "HaproxyWritePort": 3306, "HaproxyReadPort": 3307, "HaproxyStatPort": 1988, "HaproxyWriteBindIp": "0.0.0.0", "HaproxyReadBindIp": "0.0.0.0", "HaproxyBinaryPath": "/usr/sbin/haproxy", "KeyPath": "/etc/replication-manager/.replication-manager.key", "LogLevel": 0, "Test": true, "TestInjectTraffic": false, "Topology": "", "GraphiteMetrics": false, "GraphiteEmbedded": false, "GraphiteCarbonHost": "127.0.0.1", "GraphiteCarbonPort": 2003, "GraphiteCarbonApiPort": 10002, "GraphiteCarbonServerPort": 10003, "GraphiteCarbonLinkPort": 7002, "GraphiteCarbonPicklePort": 2004, "GraphiteCarbonPprofPort": 7007, "SysbenchBinaryPath": "/usr/local/bin/sysbench", "SysbenchTime": 60, "SysbenchThreads": 4, "MariaDBBinaryPath": "/usr/local/mysql/bin", "Arbitration": false, "ArbitrationSasSecret": "", "ArbitrationSasHosts": "88.191.151.84:80", "ArbitrationSasUniqueId": 0, "ArbitrationPeerHosts": "127.0.0.1:10002", "ReplicationSSL": false, "FailForceGtid": true, "RegTestStopCluster": false, "Enterprise": true, "ProvHost": "192.168.100.101:443", "ProvAdminUser": "root@localhost.localdomain:opensvc", "ProvUser": "replication-manager@localhost.localdomain:mariadb", "ProvType": "docker", "ProvAgents": "agent1,agent2", "ProvMem": "256", "ProvIops": "300", "ProvTags": "smallredolog,semisync,innodb,noquerycache,threadpool,logslow,multidomains", "ProvDisk": "1G", "ProvDiskFS": "zfs", "ProvDiskPool": "zpool", "ProvDiskDevice": "/srv", "ProvDiskType": "loopback", "ProvNetIface": "br0", "ProvNetmask": "255.255.255.0", "ProvGateway": "192.168.100.254", "ProvProxType": "docker", "ProvProxAgents": "agent2", "ProvProxDisk": "1G", "ProvProxDiskFS": "zfs", "ProvProxDiskPool": "zpool", "ProvProxDiskDevice": "/srv", "ProvProxDiskType": "loopback", "ProvProxNetIface": "br0", "ProvProxNetmask": "255.255.255.0", "ProvProxGateway": "192.168.100.254", "ProvMaxscaleVip": "", "ProvMdbshardproxyVip": "", "ProvHaproxyVip": "", "ProvWebsqlproxyVip": "", "ProvDbImg": "mariadb:10.2", "ProvProxImg": "asosso/maxscale:latest", "APIUser": "admin:mariadb", "APIPort": "3000", "ConfigFile": "././config/masterslave/mariadb/without_traffic/10.2/x2/multidomains/innodb/maxscale/latest/x1/replication-manager.conf" }, "config-test": { "WorkingDir": "/var/lib/replication-manager", "ShareDir": "/usr/local/share/mrm", "User": "root:mariadb", "Hosts": "192.168.100.70,192.168.100.71", "HostsTLSCA": "", "HostsTLSKEY": "", "HostsTLSCLI": "", "Socket": "", "RplUser": "root:mariadb", "Interactive": false, "Verbose": false, "PreScript": "", "PostScript": "", "RejoinScript": "", "PrefMaster": "192.168.100.70", "IgnoreSrv": "", "SwitchWaitKill": 5000, "SwitchWaitTrx": 10, "SwitchWaitWrite": 10, "SwitchGtidCheck": false, "SwitchSync": false, "SwitchMaxDelay": 0, "ReadOnly": true, "Autorejoin": true, "AutorejoinFlashback": true, "AutorejoinMysqldump": true, "AutorejoinBackupBinlog": true, "AutorejoinSemisync": true, "LogFile": "./config/masterslave/mariadb/without_traffic/10.2/x2/multidomains/innodb/maxscale/latest/x1/1.1.0-preview3-99-gc75a256/testSlaReplAllSlavesStopNoSemiSync.log", "MonitoringTicker": 2, "Timeout": 1, "CheckType": "tcp", "CheckReplFilter": true, "CheckBinFilter": true, "ForceSlaveHeartbeat": false, "ForceSlaveHeartbeatTime": 3, "ForceSlaveHeartbeatRetry": 5, "ForceSlaveGtid": false, "ForceSlaveNoGtid": false, "ForceSlaveSemisync": true, "ForceSlaveReadOnly": true, "ForceBinlogRow": false, "ForceBinlogAnnotate": false, "ForceBinlogCompress": false, "ForceBinlogSlowqueries": false, "ForceBinlogChecksum": false, "ForceInmemoryBinlogCacheSize": false, "ForceDiskRelayLogSizeLimit": false, "ForceDiskRelayLogSizeLimitSize": 1000000000, "ForceSyncBinlog": true, "ForceSyncInnoDB": true, "ForceNoslaveBehind": false, "RplChecks": true, "MasterConn": "", "MultiMaster": false, "MultiTierSlave": false, "Spider": false, "BindAddr": "localhost", "HttpPort": "10001", "HttpServ": true, "HttpRoot": "../../dashboard", "HttpAuth": false, "HttpBootstrapButton": true, "SessionLifeTime": 3600, "Daemon": true, "MailFrom": "mrm@localhost", "MailTo": "", "MailSMTPAddr": "localhost:25", "MasterConnectRetry": 10, "FailLimit": 999, "FailTime": 1, "FailSync": false, "FailEventScheduler": false, "FailEventStatus": false, "FailRestartUnsafe": false, "MaxFail": 3, "FailResetTime": 300, "FailMaxDelay": 0, "CheckFalsePositiveHeartbeat": false, "CheckFalsePositiveMaxscale": false, "CheckFalsePositiveHeartbeatTimeout": 3, "CheckFalsePositiveMaxscaleTimeout": 14, "CheckFalsePositiveExternal": false, "CheckFalsePositiveExternalPort": 80, "Heartbeat": false, "MdbsProxyOn": false, "MdbsProxyHosts": "127.0.0.1:3307", "MdbsProxyUser": "admin", "MxsOn": true, "MxsHost": "192.168.100.50", "MxsPort": "3307", "MxsUser": "admin", "MxsPass": "mariadb", "MxsWritePort": 4007, "MxsReadPort": 4008, "MxsReadWritePort": 4006, "MxsMaxinfoPort": 3307, "MxsBinlogOn": false, "MxsBinlogPort": 3309, "MxsDisableMonitor": false, "MxsGetInfoMethod": "maxadmin", "MxsServerMatchPort": false, "HaproxyOn": false, "HaproxyWritePort": 3306, "HaproxyReadPort": 3307, "HaproxyStatPort": 1988, "HaproxyWriteBindIp": "0.0.0.0", "HaproxyReadBindIp": "0.0.0.0", "HaproxyBinaryPath": "/usr/sbin/haproxy", "KeyPath": "/etc/replication-manager/.replication-manager.key", "LogLevel": 0, "Test": true, "TestInjectTraffic": false, "Topology": "", "GraphiteMetrics": false, "GraphiteEmbedded": false, "GraphiteCarbonHost": "127.0.0.1", "GraphiteCarbonPort": 2003, "GraphiteCarbonApiPort": 10002, "GraphiteCarbonServerPort": 10003, "GraphiteCarbonLinkPort": 7002, "GraphiteCarbonPicklePort": 2004, "GraphiteCarbonPprofPort": 7007, "SysbenchBinaryPath": "/usr/local/bin/sysbench", "SysbenchTime": 60, "SysbenchThreads": 4, "MariaDBBinaryPath": "/usr/local/mysql/bin", "Arbitration": false, "ArbitrationSasSecret": "", "ArbitrationSasHosts": "88.191.151.84:80", "ArbitrationSasUniqueId": 0, "ArbitrationPeerHosts": "127.0.0.1:10002", "ReplicationSSL": false, "FailForceGtid": true, "RegTestStopCluster": false, "Enterprise": true, "ProvHost": "192.168.100.101:443", "ProvAdminUser": "root@localhost.localdomain:opensvc", "ProvUser": "replication-manager@localhost.localdomain:mariadb", "ProvType": "docker", "ProvAgents": "agent1,agent2", "ProvMem": "256", "ProvIops": "300", "ProvTags": "smallredolog,semisync,innodb,noquerycache,threadpool,logslow,multidomains", "ProvDisk": "1G", "ProvDiskFS": "zfs", "ProvDiskPool": "zpool", "ProvDiskDevice": "/srv", "ProvDiskType": "loopback", "ProvNetIface": "br0", "ProvNetmask": "255.255.255.0", "ProvGateway": "192.168.100.254", "ProvProxType": "docker", "ProvProxAgents": "agent2", "ProvProxDisk": "1G", "ProvProxDiskFS": "zfs", "ProvProxDiskPool": "zpool", "ProvProxDiskDevice": "/srv", "ProvProxDiskType": "loopback", "ProvProxNetIface": "br0", "ProvProxNetmask": "255.255.255.0", "ProvProxGateway": "192.168.100.254", "ProvMaxscaleVip": "", "ProvMdbshardproxyVip": "", "ProvHaproxyVip": "", "ProvWebsqlproxyVip": "", "ProvDbImg": "mariadb:10.2", "ProvProxImg": "asosso/maxscale:latest", "APIUser": "admin:mariadb", "APIPort": "3000", "ConfigFile": "././config/masterslave/mariadb/without_traffic/10.2/x2/multidomains/innodb/maxscale/latest/x1/replication-manager.conf" } }
,
{ "name": "testSlaReplAllSlavesDelayNoSemiSync", "result": "PASS", "config-file": "././config/masterslave/mariadb/without_traffic/10.2/x2/multidomains/innodb/maxscale/latest/x1/replication-manager.conf", "config-init": { "WorkingDir": "/var/lib/replication-manager", "ShareDir": "/usr/local/share/mrm", "User": "root:mariadb", "Hosts": "192.168.100.70,192.168.100.71", "HostsTLSCA": "", "HostsTLSKEY": "", "HostsTLSCLI": "", "Socket": "", "RplUser": "root:mariadb", "Interactive": false, "Verbose": false, "PreScript": "", "PostScript": "", "RejoinScript": "", "PrefMaster": "192.168.100.70", "IgnoreSrv": "", "SwitchWaitKill": 5000, "SwitchWaitTrx": 10, "SwitchWaitWrite": 10, "SwitchGtidCheck": false, "SwitchSync": false, "SwitchMaxDelay": 0, "ReadOnly": true, "Autorejoin": true, "AutorejoinFlashback": true, "AutorejoinMysqldump": true, "AutorejoinBackupBinlog": true, "AutorejoinSemisync": true, "LogFile": "./config/masterslave/mariadb/without_traffic/10.2/x2/multidomains/innodb/maxscale/latest/x1/1.1.0-preview3-99-gc75a256/testSlaReplAllSlavesDelayNoSemiSync.log", "MonitoringTicker": 2, "Timeout": 1, "CheckType": "tcp", "CheckReplFilter": true, "CheckBinFilter": true, "ForceSlaveHeartbeat": false, "ForceSlaveHeartbeatTime": 3, "ForceSlaveHeartbeatRetry": 5, "ForceSlaveGtid": false, "ForceSlaveNoGtid": false, "ForceSlaveSemisync": true, "ForceSlaveReadOnly": true, "ForceBinlogRow": false, "ForceBinlogAnnotate": false, "ForceBinlogCompress": false, "ForceBinlogSlowqueries": false, "ForceBinlogChecksum": false, "ForceInmemoryBinlogCacheSize": false, "ForceDiskRelayLogSizeLimit": false, "ForceDiskRelayLogSizeLimitSize": 1000000000, "ForceSyncBinlog": true, "ForceSyncInnoDB": true, "ForceNoslaveBehind": false, "RplChecks": true, "MasterConn": "", "MultiMaster": false, "MultiTierSlave": false, "Spider": false, "BindAddr": "localhost", "HttpPort": "10001", "HttpServ": true, "HttpRoot": "../../dashboard", "HttpAuth": false, "HttpBootstrapButton": true, "SessionLifeTime": 3600, "Daemon": true, "MailFrom": "mrm@localhost", "MailTo": "", "MailSMTPAddr": "localhost:25", "MasterConnectRetry": 10, "FailLimit": 999, "FailTime": 1, "FailSync": false, "FailEventScheduler": false, "FailEventStatus": false, "FailRestartUnsafe": false, "MaxFail": 3, "FailResetTime": 300, "FailMaxDelay": 0, "CheckFalsePositiveHeartbeat": false, "CheckFalsePositiveMaxscale": false, "CheckFalsePositiveHeartbeatTimeout": 3, "CheckFalsePositiveMaxscaleTimeout": 14, "CheckFalsePositiveExternal": false, "CheckFalsePositiveExternalPort": 80, "Heartbeat": false, "MdbsProxyOn": false, "MdbsProxyHosts": "127.0.0.1:3307", "MdbsProxyUser": "admin", "MxsOn": true, "MxsHost": "192.168.100.50", "MxsPort": "3307", "MxsUser": "admin", "MxsPass": "mariadb", "MxsWritePort": 4007, "MxsReadPort": 4008, "MxsReadWritePort": 4006, "MxsMaxinfoPort": 3307, "MxsBinlogOn": false, "MxsBinlogPort": 3309, "MxsDisableMonitor": false, "MxsGetInfoMethod": "maxadmin", "MxsServerMatchPort": false, "HaproxyOn": false, "HaproxyWritePort": 3306, "HaproxyReadPort": 3307, "HaproxyStatPort": 1988, "HaproxyWriteBindIp": "0.0.0.0", "HaproxyReadBindIp": "0.0.0.0", "HaproxyBinaryPath": "/usr/sbin/haproxy", "KeyPath": "/etc/replication-manager/.replication-manager.key", "LogLevel": 0, "Test": true, "TestInjectTraffic": false, "Topology": "", "GraphiteMetrics": false, "GraphiteEmbedded": false, "GraphiteCarbonHost": "127.0.0.1", "GraphiteCarbonPort": 2003, "GraphiteCarbonApiPort": 10002, "GraphiteCarbonServerPort": 10003, "GraphiteCarbonLinkPort": 7002, "GraphiteCarbonPicklePort": 2004, "GraphiteCarbonPprofPort": 7007, "SysbenchBinaryPath": "/usr/local/bin/sysbench", "SysbenchTime": 60, "SysbenchThreads": 4, "MariaDBBinaryPath": "/usr/local/mysql/bin", "Arbitration": false, "ArbitrationSasSecret": "", "ArbitrationSasHosts": "88.191.151.84:80", "ArbitrationSasUniqueId": 0, "ArbitrationPeerHosts": "127.0.0.1:10002", "ReplicationSSL": false, "FailForceGtid": true, "RegTestStopCluster": false, "Enterprise": true, "ProvHost": "192.168.100.101:443", "ProvAdminUser": "root@localhost.localdomain:opensvc", "ProvUser": "replication-manager@localhost.localdomain:mariadb", "ProvType": "docker", "ProvAgents": "agent1,agent2", "ProvMem": "256", "ProvIops": "300", "ProvTags": "smallredolog,semisync,innodb,noquerycache,threadpool,logslow,multidomains", "ProvDisk": "1G", "ProvDiskFS": "zfs", "ProvDiskPool": "zpool", "ProvDiskDevice": "/srv", "ProvDiskType": "loopback", "ProvNetIface": "br0", "ProvNetmask": "255.255.255.0", "ProvGateway": "192.168.100.254", "ProvProxType": "docker", "ProvProxAgents": "agent2", "ProvProxDisk": "1G", "ProvProxDiskFS": "zfs", "ProvProxDiskPool": "zpool", "ProvProxDiskDevice": "/srv", "ProvProxDiskType": "loopback", "ProvProxNetIface": "br0", "ProvProxNetmask": "255.255.255.0", "ProvProxGateway": "192.168.100.254", "ProvMaxscaleVip": "", "ProvMdbshardproxyVip": "", "ProvHaproxyVip": "", "ProvWebsqlproxyVip": "", "ProvDbImg": "mariadb:10.2", "ProvProxImg": "asosso/maxscale:latest", "APIUser": "admin:mariadb", "APIPort": "3000", "ConfigFile": "././config/masterslave/mariadb/without_traffic/10.2/x2/multidomains/innodb/maxscale/latest/x1/replication-manager.conf" }, "config-test": { "WorkingDir": "/var/lib/replication-manager", "ShareDir": "/usr/local/share/mrm", "User": "root:mariadb", "Hosts": "192.168.100.70,192.168.100.71", "HostsTLSCA": "", "HostsTLSKEY": "", "HostsTLSCLI": "", "Socket": "", "RplUser": "root:mariadb", "Interactive": false, "Verbose": false, "PreScript": "", "PostScript": "", "RejoinScript": "", "PrefMaster": "192.168.100.70", "IgnoreSrv": "", "SwitchWaitKill": 5000, "SwitchWaitTrx": 10, "SwitchWaitWrite": 10, "SwitchGtidCheck": false, "SwitchSync": false, "SwitchMaxDelay": 2, "ReadOnly": true, "Autorejoin": true, "AutorejoinFlashback": true, "AutorejoinMysqldump": true, "AutorejoinBackupBinlog": true, "AutorejoinSemisync": true, "LogFile": "./config/masterslave/mariadb/without_traffic/10.2/x2/multidomains/innodb/maxscale/latest/x1/1.1.0-preview3-99-gc75a256/testSlaReplAllSlavesDelayNoSemiSync.log", "MonitoringTicker": 2, "Timeout": 1, "CheckType": "tcp", "CheckReplFilter": true, "CheckBinFilter": true, "ForceSlaveHeartbeat": false, "ForceSlaveHeartbeatTime": 3, "ForceSlaveHeartbeatRetry": 5, "ForceSlaveGtid": false, "ForceSlaveNoGtid": false, "ForceSlaveSemisync": true, "ForceSlaveReadOnly": true, "ForceBinlogRow": false, "ForceBinlogAnnotate": false, "ForceBinlogCompress": false, "ForceBinlogSlowqueries": false, "ForceBinlogChecksum": false, "ForceInmemoryBinlogCacheSize": false, "ForceDiskRelayLogSizeLimit": false, "ForceDiskRelayLogSizeLimitSize": 1000000000, "ForceSyncBinlog": true, "ForceSyncInnoDB": true, "ForceNoslaveBehind": false, "RplChecks": true, "MasterConn": "", "MultiMaster": false, "MultiTierSlave": false, "Spider": false, "BindAddr": "localhost", "HttpPort": "10001", "HttpServ": true, "HttpRoot": "../../dashboard", "HttpAuth": false, "HttpBootstrapButton": true, "SessionLifeTime": 3600, "Daemon": true, "MailFrom": "mrm@localhost", "MailTo": "", "MailSMTPAddr": "localhost:25", "MasterConnectRetry": 10, "FailLimit": 999, "FailTime": 1, "FailSync": false, "FailEventScheduler": false, "FailEventStatus": false, "FailRestartUnsafe": false, "MaxFail": 3, "FailResetTime": 300, "FailMaxDelay": 0, "CheckFalsePositiveHeartbeat": false, "CheckFalsePositiveMaxscale": false, "CheckFalsePositiveHeartbeatTimeout": 3, "CheckFalsePositiveMaxscaleTimeout": 14, "CheckFalsePositiveExternal": false, "CheckFalsePositiveExternalPort": 80, "Heartbeat": false, "MdbsProxyOn": false, "MdbsProxyHosts": "127.0.0.1:3307", "MdbsProxyUser": "admin", "MxsOn": true, "MxsHost": "192.168.100.50", "MxsPort": "3307", "MxsUser": "admin", "MxsPass": "mariadb", "MxsWritePort": 4007, "MxsReadPort": 4008, "MxsReadWritePort": 4006, "MxsMaxinfoPort": 3307, "MxsBinlogOn": false, "MxsBinlogPort": 3309, "MxsDisableMonitor": false, "MxsGetInfoMethod": "maxadmin", "MxsServerMatchPort": false, "HaproxyOn": false, "HaproxyWritePort": 3306, "HaproxyReadPort": 3307, "HaproxyStatPort": 1988, "HaproxyWriteBindIp": "0.0.0.0", "HaproxyReadBindIp": "0.0.0.0", "HaproxyBinaryPath": "/usr/sbin/haproxy", "KeyPath": "/etc/replication-manager/.replication-manager.key", "LogLevel": 0, "Test": true, "TestInjectTraffic": false, "Topology": "", "GraphiteMetrics": false, "GraphiteEmbedded": false, "GraphiteCarbonHost": "127.0.0.1", "GraphiteCarbonPort": 2003, "GraphiteCarbonApiPort": 10002, "GraphiteCarbonServerPort": 10003, "GraphiteCarbonLinkPort": 7002, "GraphiteCarbonPicklePort": 2004, "GraphiteCarbonPprofPort": 7007, "SysbenchBinaryPath": "/usr/local/bin/sysbench", "SysbenchTime": 60, "SysbenchThreads": 4, "MariaDBBinaryPath": "/usr/local/mysql/bin", "Arbitration": false, "ArbitrationSasSecret": "", "ArbitrationSasHosts": "88.191.151.84:80", "ArbitrationSasUniqueId": 0, "ArbitrationPeerHosts": "127.0.0.1:10002", "ReplicationSSL": false, "FailForceGtid": true, "RegTestStopCluster": false, "Enterprise": true, "ProvHost": "192.168.100.101:443", "ProvAdminUser": "root@localhost.localdomain:opensvc", "ProvUser": "replication-manager@localhost.localdomain:mariadb", "ProvType": "docker", "ProvAgents": "agent1,agent2", "ProvMem": "256", "ProvIops": "300", "ProvTags": "smallredolog,semisync,innodb,noquerycache,threadpool,logslow,multidomains", "ProvDisk": "1G", "ProvDiskFS": "zfs", "ProvDiskPool": "zpool", "ProvDiskDevice": "/srv", "ProvDiskType": "loopback", "ProvNetIface": "br0", "ProvNetmask": "255.255.255.0", "ProvGateway": "192.168.100.254", "ProvProxType": "docker", "ProvProxAgents": "agent2", "ProvProxDisk": "1G", "ProvProxDiskFS": "zfs", "ProvProxDiskPool": "zpool", "ProvProxDiskDevice": "/srv", "ProvProxDiskType": "loopback", "ProvProxNetIface": "br0", "ProvProxNetmask": "255.255.255.0", "ProvProxGateway": "192.168.100.254", "ProvMaxscaleVip": "", "ProvMdbshardproxyVip": "", "ProvHaproxyVip": "", "ProvWebsqlproxyVip": "", "ProvDbImg": "mariadb:10.2", "ProvProxImg": "asosso/maxscale:latest", "APIUser": "admin:mariadb", "APIPort": "3000", "ConfigFile": "././config/masterslave/mariadb/without_traffic/10.2/x2/multidomains/innodb/maxscale/latest/x1/replication-manager.conf" } }
]}
