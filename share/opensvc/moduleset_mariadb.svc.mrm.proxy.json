{
    "modulesets": [
        {
            "modules": [],
            "rulesets": [],
            "modset_name": "mariadb.svc.mrm.proxy",
            "modulesets": [
                "mariadb.svc.mrm.proxy.cnf"
            ],
            "publications": [
                "replication-manager"
            ],
            "id": 352,
            "responsibles": [
                "replication-manager"
            ]
        },
        {
            "modules": [
                {
                    "autofix": false,
                    "modset_mod_name": "mariadb.svc.mrm.proxy.cnf"
                }
            ],
            "rulesets": [
                "mariadb.svc.mrm.proxy.cnf"
            ],
            "modset_name": "mariadb.svc.mrm.proxy.cnf",
            "modulesets": [],
            "publications": [
                "replication-manager"
            ],
            "id": 353,
            "responsibles": [
                "replication-manager"
            ]
        }
    ],
    "filtersets": [
        {
            "fset_stats": false,
            "id": 268,
            "filters": [
                {
                    "filter": {
                        "f_op": "=",
                        "f_field": "os_name",
                        "f_value": "linux",
                        "f_table": "nodes",
                        "id": 214
                    },
                    "f_order": 0,
                    "f_log_op": "AND",
                    "filterset": null
                }
            ],
            "fset_name": "system.linux"
        },
        {
            "fset_stats": false,
            "id": 269,
            "filters": [
                {
                    "filter": {
                        "f_op": "=",
                        "f_field": "os_name",
                        "f_value": "darwin",
                        "f_table": "nodes",
                        "id": 215
                    },
                    "f_order": 0,
                    "f_log_op": "AND",
                    "filterset": null
                }
            ],
            "fset_name": "system.osx"
        },
        {
            "fset_stats": false,
            "id": 270,
            "filters": [
                {
                    "filter": {
                        "f_op": "=",
                        "f_field": "res_type",
                        "f_value": "container.docker",
                        "f_table": "resmon",
                        "id": 216
                    },
                    "f_order": 0,
                    "f_log_op": "AND",
                    "filterset": null
                }
            ],
            "fset_name": "system.docker"
        },
        {
            "fset_stats": false,
            "id": 271,
            "filters": [
                {
                    "filter": null,
                    "f_order": 0,
                    "f_log_op": "AND NOT",
                    "filterset": "system.docker"
                }
            ],
            "fset_name": "system.pkg"
        },
        {
            "fset_stats": false,
            "id": 287,
            "filters": [
                {
                    "filter": {
                        "f_op": "=",
                        "f_field": "tag_name",
                        "f_value": "wsrep",
                        "f_table": "v_tags",
                        "id": 232
                    },
                    "f_order": 0,
                    "f_log_op": "AND",
                    "filterset": null
                }
            ],
            "fset_name": "mariadb.replication.wsrep"
        },
        {
            "fset_stats": false,
            "id": 291,
            "filters": [
                {
                    "filter": {
                        "f_op": "=",
                        "f_field": "tag_name",
                        "f_value": "sphinx",
                        "f_table": "v_tags",
                        "id": 235
                    },
                    "f_order": 0,
                    "f_log_op": "AND",
                    "filterset": null
                }
            ],
            "fset_name": "mariadb.engine.sphinx"
        },
        {
            "fset_stats": false,
            "id": 298,
            "filters": [
                {
                    "filter": {
                        "f_op": "=",
                        "f_field": "tag_name",
                        "f_value": "masterslave",
                        "f_table": "v_tags",
                        "id": 242
                    },
                    "f_order": 0,
                    "f_log_op": "AND",
                    "filterset": null
                }
            ],
            "fset_name": "mariadb.replicaion.masterslave"
        },
        {
            "fset_stats": false,
            "id": 299,
            "filters": [
                {
                    "filter": {
                        "f_op": "=",
                        "f_field": "tag_name",
                        "f_value": "multimaster",
                        "f_table": "v_tags",
                        "id": 243
                    },
                    "f_order": 0,
                    "f_log_op": "AND",
                    "filterset": null
                }
            ],
            "fset_name": "mariadb.replication.multimaster"
        },
        {
            "fset_stats": false,
            "id": 321,
            "filters": [
                {
                    "filter": {
                        "f_op": "=",
                        "f_field": "tag_name",
                        "f_value": "nonetworkcompress",
                        "f_table": "v_tags",
                        "id": 321
                    },
                    "f_order": 0,
                    "f_log_op": "AND",
                    "filterset": null
                }
            ],
            "fset_name": "proxy.backend.nonetworkcompress"
        },
        {
            "fset_stats": false,
            "id": 322,
            "filters": [
                {
                    "filter": {
                        "f_op": "=",
                        "f_field": "tag_name",
                        "f_value": "readonmaster",
                        "f_table": "v_tags",
                        "id": 285
                    },
                    "f_order": 1,
                    "f_log_op": "AND",
                    "filterset": null
                }
            ],
            "fset_name": "proxy.route.readonmaster"
        },
        {
            "fset_stats": false,
            "id": 325,
            "filters": [
                {
                    "filter": {
                        "f_op": "=",
                        "f_field": "tag_name",
                        "f_value": "readwritesplit",
                        "f_table": "v_tags",
                        "id": 287
                    },
                    "f_order": 0,
                    "f_log_op": "AND",
                    "filterset": null
                }
            ],
            "fset_name": "proxy.route.readwritesplit"
        },
        {
            "fset_stats": false,
            "id": 361,
            "filters": [
                {
                    "filter": {
                        "f_op": "=",
                        "f_field": "tag_name",
                        "f_value": "ssl",
                        "f_table": "v_tags",
                        "id": 234
                    },
                    "f_order": 0,
                    "f_log_op": "AND",
                    "filterset": null
                }
            ],
            "fset_name": "proxy.frontend.ssl"
        }
    ],
    "rulesets": [
        {
            "fset_name": null,
            "ruleset_name": "mariadb.svc.basedir",
            "variables": [],
            "ruleset_public": false,
            "ruleset_type": "explicit",
            "rulesets": [
                "mariadb.svc.basedir.darwin",
                "mariadb.svc.basedir.not.darwin"
            ],
            "publications": [
                "replication-manager"
            ],
            "id": 998,
            "responsibles": [
                "replication-manager"
            ]
        },
        {
            "fset_name": null,
            "ruleset_name": "mariadb.svc.basedir.darwin",
            "variables": [
                {
                    "var_author": "replication-manager replication-manager@signal18.io",
                    "var_class": "raw",
                    "var_value": "/svc/%%ENV:SERVICES_SVCNAME%%",
                    "var_updated": "2018-04-09 15:30:18",
                    "var_name": "base_dir",
                    "id": 5891
                }
            ],
            "ruleset_public": false,
            "ruleset_type": "contextual",
            "rulesets": [],
            "publications": [
                "replication-manager"
            ],
            "id": 999,
            "responsibles": [
                "replication-manager"
            ]
        },
        {
            "fset_name": null,
            "ruleset_name": "mariadb.svc.basedir.not.darwin",
            "variables": [
                {
                    "var_author": "replication-manager replication-manager@signal18.io",
                    "var_class": "raw",
                    "var_value": "/Users/%%ENV:SVC_USERNAME%%/%%ENV:SERVICES_SVCNAME%%",
                    "var_updated": "2018-04-09 15:30:18",
                    "var_name": "base_dir",
                    "id": 5892
                }
            ],
            "ruleset_public": false,
            "ruleset_type": "contextual",
            "rulesets": [],
            "publications": [
                "replication-manager"
            ],
            "id": 1000,
            "responsibles": [
                "replication-manager"
            ]
        },
        {
            "fset_name": null,
            "ruleset_name": "mariadb.svc.env",
            "variables": [
                {
                    "var_author": "replication-manager replication-manager@signal18.io",
                    "var_class": "raw",
                    "var_value": "999",
                    "var_updated": "2018-04-09 15:30:18",
                    "var_name": "mysql_gid",
                    "id": 5893
                },
                {
                    "var_author": "replication-manager replication-manager@signal18.io",
                    "var_class": "raw",
                    "var_value": "999",
                    "var_updated": "2018-04-09 15:30:18",
                    "var_name": "mysql_uid",
                    "id": 5894
                },
                {
                    "var_author": "replication-manager replication-manager@signal18.io",
                    "var_class": "raw",
                    "var_value": "660",
                    "var_updated": "2018-04-09 15:30:18",
                    "var_name": "cnf_perms",
                    "id": 5895
                }
            ],
            "ruleset_public": false,
            "ruleset_type": "explicit",
            "rulesets": [
                "mariadb.svc.basedir",
                "mariadb.svc.env.osx",
                "mariadb.svc.env.linux"
            ],
            "publications": [
                "replication-manager"
            ],
            "id": 1001,
            "responsibles": [
                "replication-manager"
            ]
        },
        {
            "fset_name": "system.osx",
            "ruleset_name": "mariadb.svc.env.osx",
            "variables": [
                {
                    "var_author": "replication-manager replication-manager@signal18.io",
                    "var_class": "raw",
                    "var_value": "777",
                    "var_updated": "2018-04-09 15:30:18",
                    "var_name": "binded_dir_perms",
                    "id": 5896
                }
            ],
            "ruleset_public": false,
            "ruleset_type": "contextual",
            "rulesets": [
                "mariadb.svc.env.osx.pkg"
            ],
            "publications": [
                "replication-manager"
            ],
            "id": 1002,
            "responsibles": [
                "replication-manager"
            ]
        },
        {
            "fset_name": "system.linux",
            "ruleset_name": "mariadb.svc.env.linux",
            "variables": [
                {
                    "var_author": "replication-manager replication-manager@signal18.io",
                    "var_class": "raw",
                    "var_value": "775",
                    "var_updated": "2018-04-09 15:30:18",
                    "var_name": "binded_dir_perms",
                    "id": 5897
                }
            ],
            "ruleset_public": false,
            "ruleset_type": "contextual",
            "rulesets": [
                "mariadb.svc.env.linux.pkg"
            ],
            "publications": [
                "replication-manager"
            ],
            "id": 1003,
            "responsibles": [
                "replication-manager"
            ]
        },
        {
            "fset_name": "system.pkg",
            "ruleset_name": "mariadb.svc.env.osx.pkg",
            "variables": [
                {
                    "var_author": "replication-manager replication-manager@signal18.io",
                    "var_class": "raw",
                    "var_value": "mysql",
                    "var_updated": "2018-04-09 15:30:18",
                    "var_name": "mysql_gid",
                    "id": 5898
                },
                {
                    "var_author": "replication-manager replication-manager@signal18.io",
                    "var_class": "raw",
                    "var_value": "mysql",
                    "var_updated": "2018-04-09 15:30:18",
                    "var_name": "mysql_uid",
                    "id": 5899
                }
            ],
            "ruleset_public": false,
            "ruleset_type": "contextual",
            "rulesets": [],
            "publications": [
                "replication-manager"
            ],
            "id": 1004,
            "responsibles": [
                "replication-manager"
            ]
        },
        {
            "fset_name": "system.pkg",
            "ruleset_name": "mariadb.svc.env.linux.pkg",
            "variables": [
                {
                    "var_author": "replication-manager replication-manager@signal18.io",
                    "var_class": "raw",
                    "var_value": "mysql",
                    "var_updated": "2018-04-09 15:30:18",
                    "var_name": "mysql_gid",
                    "id": 5900
                },
                {
                    "var_author": "replication-manager replication-manager@signal18.io",
                    "var_class": "raw",
                    "var_value": "mysql",
                    "var_updated": "2018-04-09 15:30:18",
                    "var_name": "mysql_uid",
                    "id": 5901
                }
            ],
            "ruleset_public": false,
            "ruleset_type": "contextual",
            "rulesets": [],
            "publications": [
                "replication-manager"
            ],
            "id": 1005,
            "responsibles": [
                "replication-manager"
            ]
        },
        {
            "fset_name": null,
            "ruleset_name": "mariadb.svc.mrm.proxy.cnf",
            "variables": [
                {
                    "var_author": "admin Manager",
                    "var_class": "file",
                    "var_value": "{\"path\":\"/%%ENV:SVC_CONF_ENV_BASE_DIR%%/%%ENV:POD%%/etc/\",\"mode\":\"%%ENV:BINDED_DIR_PERMS%%\",\"uid\":\"%%ENV:MYSQL_UID%%\",\"gid\":\"%%ENV:MYSQL_GID%%\"}",
                    "var_updated": "2021-01-22 19:04:09",
                    "var_name": "proxy_cnf_dir_conf",
                    "id": 5995
                },
                {
                    "var_author": "replication-manager replication-manager@signal18.io",
                    "var_class": "file",
                    "var_value": "{\"path\":\"/%%ENV:SVC_CONF_ENV_BASE_DIR%%/%%ENV:POD%%/data/\",\"mode\":\"%%ENV:BINDED_DIR_PERMS%%\",\"uid\":\"%%ENV:MYSQL_UID%%\",\"gid\":\"%%ENV:MYSQL_GID%%\"}",
                    "var_updated": "2018-04-09 15:30:19",
                    "var_name": "proxy_cnf_dir_data",
                    "id": 5996
                },
                {
                    "var_author": "replication-manager replication-manager@signal18.io",
                    "var_class": "file",
                    "var_value": "{\"path\":\"/%%ENV:SVC_CONF_ENV_BASE_DIR%%/%%ENV:POD%%/log/\",\"mode\":\"%%ENV:BINDED_DIR_PERMS%%\",\"uid\":\"%%ENV:MYSQL_UID%%\",\"gid\":\"%%ENV:MYSQL_GID%%\"}",
                    "var_updated": "2018-04-09 15:30:19",
                    "var_name": "proxy_cnf_dir_log",
                    "id": 5997
                },
                {
                    "var_author": "admin Manager",
                    "var_class": "file",
                    "var_value": "{\"path\":\"/%%ENV:SVC_CONF_ENV_BASE_DIR%%/%%ENV:POD%%/etc/keepalived/keepalived.conf\",\"mode\":\"%%ENV:BINDED_DIR_PERMS%%\",\"uid\":\"%%ENV:MYSQL_UID%%\",\"gid\":\"%%ENV:MYSQL_GID%%\",\"fmt\":\"global_defs { \\n notification_email { stephane@mariadb.com } \\n notification_email_from keepalived@lb-3d9d6604 \\n smtp_server localhost \\n smtp_connect_timeout 30 \\n# This should be unique. \\n router_id 100 \\n} \\nvrrp_instance mysql_pool { \\n# The interface we listen on. interface eth1 \\n# The default state, one should be master, the others should be set to SLAVE.\\nstate %%ENV:STATE%% \\n \\n# This should be the same on all participating load balancers. \\nvirtual_router_id 100 \\npriority %%ENV:VRRP_PRIO%% \\n# Set the interface whose status to track to trigger a failover. \\n\\ntrack_interface { \\n eth1 \\n} \\n\\n# Password for the loadbalancers to share. \\nauthentication { \\n  auth_type PASS \\n  auth_pass 1111 \\n} \\n\\n# This is the IP address that floats between the loadbalancers. \\nvirtual_ipaddress { \\n  %%ENV:SVC_CONF_ENV_VIP_ADDR%%/%%ENV:SVC_CONF_ENV_VIP_NETMASK%% \\n}\\n \\n}\"}",
                    "var_updated": "2021-08-11 11:01:51",
                    "var_name": "proxy_cnf_keepalived",
                    "id": 5998
                },
                {
                    "var_author": "replication-manager replication-manager@signal18.io",
                    "var_class": "file",
                    "var_value": "{\"path\":\"%%ENV:SVC_CONF_ENV_BASE_DIR%%/%%ENV:POD%%/init/launcher\",\"mode\":755,\"uid\":\"%%ENV:MYSQL_UID%%\",\"gid\":\"%%ENV:MYSQL_GID%%\",\"fmt\":\"#!/bin/bash\\n\\nBASE_DIR=%%ENV:SVC_CONF_ENV_BASE_DIR%%/%%ENV:POD%%\\nSERVER_IP=%%ENV:SERVER_IP%%\\nSERVER_PORT=%%ENV:SVC_CONF_ENV_PORT_ADMIN%%\\nUSER=admin\\nMAXSCALE_ROOT_PASSWORD=mariadb\\nfunction _status {\\n        maxadmin -u $USER -h $SERVER_IP -P $SERVER_PORT -p$MAXSCALE_ROOT_PASSWORD help\\n}\\n\\nfunction _stop {\\n        maxadmin -u $USER -h $SERVER_IP -P $SERVER_PORT -p$MAXSCALE_ROOT_PASSWORD shutdown maxscale\\n}\\n\\nfunction _start {\\n\\tmaxscale -d --config=$BASE_DIR/conf/maxscale.cnf --datadir=$BASE_DIR/data --logdir=$BASE_DIR/data --piddir=$BASE_DIR/data &\\n}\\n\\ncase $1 in\\nstart)\\n        _status && {\\n                echo \\\"already started\\\"\\n                exit 0\\n        }\\n        _start\\n        ;;\\nstop)\\n        _status || {\\n                echo \\\"already stopped\\\"\\n                exit 0\\n        }\\n        _stop\\n        ;;\\nstatus)\\n        _status\\n        exit $?\\n        ;;\\ninfo)\\n        ;;\\nesac\\n\\n\"}",
                    "var_updated": "2018-04-09 15:30:19",
                    "var_name": "proxy_cnf_launcher",
                    "id": 6001
                },
                {
                    "var_author": "replication-manager replication-manager@signal18.io",
                    "var_class": "file",
                    "var_value": "{\"path\":\"/%%ENV:SVC_CONF_ENV_BASE_DIR%%/%%ENV:POD%%/init/\",\"mode\":\"%%ENV:BINDED_DIR_PERMS%%\",\"uid\":\"%%ENV:MYSQL_UID%%\",\"gid\":\"%%ENV:MYSQL_GID%%\"}",
                    "var_updated": "2018-04-09 15:30:19",
                    "var_name": "proxy_cnf_dir_init",
                    "id": 6002
                },
                {
                    "var_author": "admin Manager",
                    "var_class": "file",
                    "var_value": "{\"path\":\"/%%ENV:SVC_CONF_ENV_BASE_DIR%%/%%ENV:POD%%/etc/proxysql/ssl/\",\"mode\":\"%%ENV:BINDED_DIR_PERMS%%\",\"uid\":\"%%ENV:MYSQL_UID%%\",\"gid\":\"%%ENV:MYSQL_GID%%\"}",
                    "var_updated": "2021-08-11 14:16:36",
                    "var_name": "proxy_cnf_dir_proxysql_ssl",
                    "id": 6286
                },
                {
                    "var_author": "admin Manager",
                    "var_class": "file",
                    "var_value": "{\"path\":\"/%%ENV:SVC_CONF_ENV_BASE_DIR%%/%%ENV:POD%%/etc/haproxy/ssl/\",\"mode\":\"%%ENV:BINDED_DIR_PERMS%%\",\"uid\":\"%%ENV:MYSQL_UID%%\",\"gid\":\"%%ENV:MYSQL_UID%%\"}",
                    "var_updated": "2021-08-11 14:16:31",
                    "var_name": "proxy_cnf_dir_haproxy_ssl",
                    "id": 6287
                },
                {
                    "var_author": "admin Manager",
                    "var_class": "file",
                    "var_value": "{\"path\":\"/%%ENV:SVC_CONF_ENV_BASE_DIR%%/%%ENV:POD%%/etc/maxscale/ssl/\",\"mode\":\"%%ENV:BINDED_DIR_PERMS%%\",\"uid\":\"%%ENV:MYSQL_UID%%\",\"gid\":\"%%ENV:MYSQL_GID%%\"}",
                    "var_updated": "2021-08-11 14:16:25",
                    "var_name": "proxy_cnf_dir_maxscale_ssl",
                    "id": 6288
                }
            ],
            "ruleset_public": false,
            "ruleset_type": "explicit",
            "rulesets": [
                "mariadb.svc.basedir",
                "mariadb.svc.env",
                "mariadb.svc.mrm.proxy.cnf.haproxy",
                "mariadb.svc.mrm.proxy.cnf.masterslave",
                "mariadb.svc.mrm.proxy.cnf.wsrep",
                "mariadb.svc.mrm.proxy.cnf.multimaster",
                "mariadb.svc.mrm.proxy.cnf.sphinx",
                "mariadb.svc.mrm.proxy.cnf.proxysql.readwritesplit",
                "mariadb.svc.mrm.proxy.cnf.proxysql.default",
                "mariadb.svc.mrm.proxy.cnf.readonmaster",
                "mariadb.svc.mrm.proxy.cnf.usessl",
                "mariadb.svc.mrm.proxy.cnf.nonetworkcompress"
            ],
            "publications": [
                "replication-manager"
            ],
            "id": 1037,
            "responsibles": [
                "replication-manager"
            ]
        },
        {
            "fset_name": null,
            "ruleset_name": "mariadb.svc.mrm.proxy.cnf.haproxy",
            "variables": [
                {
                    "var_author": "admin Manager",
                    "var_class": "file",
                    "var_value": "{\"path\":\"/%%ENV:SVC_CONF_ENV_BASE_DIR%%/%%ENV:POD%%/etc/haproxy/haproxy_check.cfg\",\"mode\":\"%%ENV:BINDED_DIR_PERMS%%\",\"uid\":\"%%ENV:MYSQL_UID%%\",\"gid\":\"%%ENV:MYSQL_GID%%\",\"fmt\":\"global\\n\\n daemon\\n maxconn 4096\\n stats socket /run/admin.sock level admin\\n log /dev/log local0 debug\\n external-check\\n \\ndefaults\\n   log global\\n   mode http\\n   option dontlognull\\n   option redispatch\\n   option clitcpka\\n   option srvtcpka\\n   retries 3\\n   maxconn 500000\\n   timeout http-request 5s\\n   timeout connect 5000ms\\n   timeout client 50000s\\n   timeout server 50000s\\n\\nlisten stats\\n   bind 0.0.0.0:1988\\n   mode http\\n   stats enable\\n   stats uri /\\n   stats refresh 2s\\n   stats realm Haproxy\\\\ Stats\\n   stats show-legends\\n\\nfrontend my_write_frontend\\n    bind 0.0.0.0:%%ENV:SVC_CONF_ENV_PORT_RW%%\\n    option tcplog \\n    mode tcp\\n    default_backend service_write\\n\\nfrontend my_read_frontend\\n    bind 0.0.0.0:%%ENV:SVC_CONF_ENV_PORT_R_LB%%\\n    option tcplog \\n    mode tcp\\n    default_backend service_read\\n\\nbackend service_write\\n    mode tcp\\n    balance leastconn \\n    option external-check\\n    external-check path \\\"/usr/bin:/bin\\\"\\n    external-check command /usr/bin/checkmaster\\n\\n   %%ENV:SERVERS_HAPROXY_WRITE%%\\n\\nbackend service_read\\n    mode tcp\\n    balance leastconn \\n    option external-check\\n    external-check path \\\"/usr/bin:/bin\\\"\\n    external-check command /usr/bin/checkslave\\n\\n    %%ENV:SERVERS_HAPROXY_READ%%\\n\\n\"}",
                    "var_updated": "2022-01-13 12:05:37",
                    "var_name": "proxy_cnf_haproxy",
                    "id": 6004
                },
                {
                    "var_author": "admin Manager",
                    "var_class": "file",
                    "var_value": "{\"path\":\"/%%ENV:SVC_CONF_ENV_BASE_DIR%%/%%ENV:POD%%/init/checkslave\",\"mode\":755,\"uid\":\"%%ENV:MYSQL_UID%%\",\"gid\":\"%%ENV:MYSQL_GID%%\",\"fmt\":\"#!/bin/sh\\necho $3 $4\\nret=`wget -O - -q http://%%ENV:SVC_CONF_ENV_MRM_API_ADDR%%/clusters/%%ENV:SVC_CONF_ENV_MRM_CLUSTER_NAME%%/servers/$3/$4/slave-status`\\nn=`echo \\\"$ret\\\" | grep -c \\\"200\\\"`\\necho \\\"$n\\\"\\nif [ $n -eq 1 ]\\nthen\\n echo \\\"true\\\"\\n exit 0\\nfi\\nexit 1\"}",
                    "var_updated": "2021-01-22 19:06:33",
                    "var_name": "proxy_cnf_checkslave",
                    "id": 6005
                },
                {
                    "var_author": "admin Manager",
                    "var_class": "file",
                    "var_value": "{\"path\":\"/%%ENV:SVC_CONF_ENV_BASE_DIR%%/%%ENV:POD%%/init/checkmaster\",\"mode\":755,\"uid\":\"%%ENV:MYSQL_UID%%\",\"gid\":\"%%ENV:MYSQL_GID%%\",\"fmt\":\"#!/bin/sh\\necho $3 $4\\nret=`wget -O - -q http://%%ENV:SVC_CONF_ENV_MRM_API_ADDR%%/clusters/%%ENV:SVC_CONF_ENV_MRM_CLUSTER_NAME%%/servers/$3/$4/master-status`\\nn=`echo \\\"$ret\\\" | grep -c \\\"200\\\"`\\necho \\\"$n\\\"\\nif [ $n -eq 1 ]\\nthen\\n echo \\\"true\\\"\\n exit 0\\nfi\\nexit 1\"}",
                    "var_updated": "2021-01-22 19:06:24",
                    "var_name": "proxy_cnf_checkmaster",
                    "id": 6006
                },
                {
                    "var_author": "admin Manager",
                    "var_class": "file",
                    "var_value": "{\"path\":\"/%%ENV:SVC_CONF_ENV_BASE_DIR%%/%%ENV:POD%%/etc/haproxy/haproxy.cfg\",\"mode\":\"%%ENV:BINDED_DIR_PERMS%%\",\"uid\":\"%%ENV:MYSQL_UID%%\",\"gid\":\"%%ENV:MYSQL_GID%%\",\"fmt\":\"global\\n\\n daemon\\n maxconn 4096\\n\\n stats socket /run/haproxy.sock mode 666 level admin\\n stats socket tcp@%%ENV:SERVER_IP%%:%%ENV:SVC_CONF_ENV_PORT_ADMIN%% level admin expose-fd listeners\\n\\n\\n log /dev/log local0 debug\\n external-check\\n \\ndefaults\\n   log global\\n   mode http\\n   option dontlognull\\n   option redispatch\\n   option clitcpka\\n   option srvtcpka\\n   retries 3\\n   maxconn 500000\\n   timeout http-request 5s\\n   timeout connect 5000ms\\n   timeout client 50000s\\n   timeout server 50000s\\n\\nlisten stats\\n   bind 0.0.0.0:1988\\n   mode http\\n   stats enable\\n   stats uri /\\n   stats refresh 2s\\n   stats realm Haproxy\\\\ Stats\\n   stats show-legends\\n\\n%%ENV:SVC_CONF_HAPROXY_DNS%%\\n\\nfrontend my_write_frontend\\n    bind 0.0.0.0:%%ENV:SVC_CONF_ENV_PORT_RW%%\\n    option tcplog \\n    mode tcp\\n    default_backend %%ENV:SERVERS_HAPROXY_WRITE_BACKEND%%\\n\\nfrontend my_read_frontend\\n    bind 0.0.0.0:%%ENV:SVC_CONF_ENV_PORT_R_LB%%\\n    option tcplog \\n    mode tcp\\n    default_backend %%ENV:SERVERS_HAPROXY_READ_BACKEND%%\\n\\nbackend %%ENV:SERVERS_HAPROXY_WRITE_BACKEND%%\\n    mode tcp\\n    balance leastconn \\n \\n   %%ENV:SERVERS_HAPROXY_WRITE%%\\n\\nbackend %%ENV:SERVERS_HAPROXY_READ_BACKEND%%\\n    mode tcp\\n    balance leastconn \\n     \\n    %%ENV:SERVERS_HAPROXY_READ%%\\n\"}",
                    "var_updated": "2022-01-26 10:48:41",
                    "var_name": "proxy_cnf_haproxy_runtime_api",
                    "id": 6190
                }
            ],
            "ruleset_public": false,
            "ruleset_type": "explicit",
            "rulesets": [],
            "publications": [
                "replication-manager"
            ],
            "id": 1038,
            "responsibles": [
                "replication-manager"
            ]
        },
        {
            "fset_name": "mariadb.replicaion.masterslave",
            "ruleset_name": "mariadb.svc.mrm.proxy.cnf.masterslave",
            "variables": [
                {
                    "var_author": "admin Manager",
                    "var_class": "file",
                    "var_value": "{\"path\":\"/%%ENV:SVC_CONF_ENV_BASE_DIR%%/%%ENV:POD%%/etc/maxscale/maxscale.cnf\",\"mode\":\"%%ENV:BINDED_DIR_PERMS%%\",\"uid\":\"%%ENV:MYSQL_UID%%\",\"gid\":\"%%ENV:MYSQL_GID%%\",\"fmt\":\"[MaxScale]\\n#threads=auto\\n\\n[MaxInfo]\\ntype=service\\nrouter=maxinfo\\nuser=monitor\\npasswd=EBD2F49C3B375812A8CDEBA632ED8BBC\\n\\n[MaxInfo JSON Listener]\\ntype=listener\\nservice=MaxInfo\\nprotocol=HTTPD\\nport=%%ENV:SVC_CONF_ENV_MAXSCALE_MAXINFO_PORT%%\\naddress=%%ENV:SERVER_IP%%\\n\\n[MySQL Monitor]\\ntype=monitor\\n#module=mysqlmon\\nmodule=mariadbmon\\nservers=%%ENV:SERVERS_LIST%%\\nuser=root\\npasswd=%%ENV:SVC_CONF_ENV_MYSQL_ROOT_PASSWORD%%\\nmonitor_interval=500\\ndetect_stale_master=true\\ndetect_stale_slave=true\\ndetect_standalone_master=true\\n\\n[Debug Interface]\\ntype=service\\nrouter=debugcli\\n\\n[Read Write Connection Listener]\\ntype=listener\\nservice=Read Write Connection Router\\nprotocol=MySQLClient\\nport=%%ENV:SVC_CONF_ENV_PORT_RW_SPLIT%%\\naddress=%%ENV:SERVER_IP%%\\n\\n[Write Connection Listener]\\ntype=listener\\nservice=Write Connection Router\\n#protocol=MySQLClient\\nprotocol=MariaDBClient\\n\\nport=%%ENV:SVC_CONF_ENV_PORT_RW%%\\naddress=%%ENV:SERVER_IP%%\\n\\n[Read Write Connection Router]\\ntype=service\\nrouter=readwritesplit\\nlocalhost_match_wildcard_host=1\\nuser=root\\npasswd=%%ENV:SVC_CONF_ENV_MYSQL_ROOT_PASSWORD%%\\nmax_slave_connections=100%\\nrouter_options=master_accept_reads=1,slave_selection_criteria=LEAST_GLOBAL_CONNECTIONS\\nenable_root_user=true\\nservers=%%ENV:SERVERS_LIST%%\\n\\n%%ENV:CAUSAL_READ%%\\n\\n[Write Connection Router]\\ntype=service\\nrouter=readconnroute\\nrouter_options=master\\nservers=%%ENV:SERVERS_LIST%%\\nuser=root\\npasswd=%%ENV:SVC_CONF_ENV_MYSQL_ROOT_PASSWORD%%\\nenable_root_user=true\\n\\n[Replication]\\ntype=service\\nrouter=binlogrouter\\nversion_string=5.6.17-log\\nuser=root\\npasswd=%%ENV:SVC_CONF_ENV_MYSQL_ROOT_PASSWORD%%\\nrouter_options=server-id=999,user=root,password=%%ENV:SVC_CONF_ENV_MYSQL_ROOT_PASSWORD%%,binlogdir=/var/cache/maxscale/\\n\\n[Replication Listener]\\ntype=listener\\nservice=Replication\\nprotocol=MySQLClient\\nport=%%ENV:SVC_CONF_ENV_PORT_BINLOG%%\\naddress=%%ENV:SERVER_IP%%\\n\\n#[Debug Listener]\\n#type=listener\\n#service=Debug Interface\\n#protocol=telnetd\\n#port=%%ENV:SVC_CONF_ENV_PORT_TELNET%%\\n\\n[CLI]\\ntype=service\\nrouter=cli\\n\\n[CLI Listener]\\ntype=listener\\nservice=CLI \\nprotocol=maxscaled\\nport=%%ENV:SVC_CONF_ENV_PORT_ADMIN%%\\naddress=%%ENV:SERVER_IP%%\\n\\n%%ENV:SERVERS%%\\n\"}",
                    "var_updated": "2022-01-13 15:29:01",
                    "var_name": "proxy_cnf_maxscale",
                    "id": 6007
                }
            ],
            "ruleset_public": false,
            "ruleset_type": "contextual",
            "rulesets": [],
            "publications": [
                "replication-manager"
            ],
            "id": 1039,
            "responsibles": [
                "replication-manager"
            ]
        },
        {
            "fset_name": "mariadb.replication.wsrep",
            "ruleset_name": "mariadb.svc.mrm.proxy.cnf.wsrep",
            "variables": [
                {
                    "var_author": "admin Manager",
                    "var_class": "file",
                    "var_value": "{\"path\":\"/%%ENV:SVC_CONF_ENV_BASE_DIR%%/%%ENV:POD%%/etc/maxscale/maxscale.cnf\",\"mode\":\"%%ENV:BINDED_DIR_PERMS%%\",\"uid\":\"%%ENV:MYSQL_UID%%\",\"gid\":\"%%ENV:MYSQL_GID%%\",\"fmt\":\"[MaxScale]\\n#threads=auto\\n\\n[MaxInfo]\\ntype=service\\nrouter=maxinfo\\nuser=monitor\\npasswd=EBD2F49C3B375812A8CDEBA632ED8BBC\\n\\n[MaxInfo JSON Listener]\\ntype=listener\\nservice=MaxInfo\\nprotocol=HTTPD\\nport=%%ENV:SVC_CONF_ENV_MAXSCALE_MAXINFO_PORT%%\\naddress=%%ENV:SERVER_IP%%\\n\\n[MySQL Monitor]\\ntype=monitor\\nmodule=galeramon\\nservers=%%ENV:SERVERS_LIST%%\\nuser=root\\npasswd=%%ENV:SVC_CONF_ENV_MYSQL_ROOT_PASSWORD%%\\nmonitor_interval=500\\n\\n\\n[Debug Interface]\\ntype=service\\nrouter=debugcli\\n\\n[Read Write Connection Listener]\\ntype=listener\\nservice=Read Write Connection Router\\nprotocol=MySQLClient\\nport=%%ENV:SVC_CONF_ENV_PORT_RW_SPLIT%%\\naddress=%%ENV:SERVER_IP%%\\n\\n[Write Connection Listener]\\ntype=listener\\nservice=Write Connection Router\\nprotocol=MySQLClient\\nport=%%ENV:SVC_CONF_ENV_PORT_RW%%\\naddress=%%ENV:SERVER_IP%%\\n\\n[Read Write Connection Router]\\ntype=service\\nrouter=readwritesplit\\nlocalhost_match_wildcard_host=1\\nuser=root\\npasswd=%%ENV:SVC_CONF_ENV_MYSQL_ROOT_PASSWORD%%\\nmax_slave_connections=100%\\nrouter_options=master_accept_reads=1,slave_selection_criteria=LEAST_GLOBAL_CONNECTIONS\\nenable_root_user=true\\nservers=%%ENV:SERVERS_LIST%%\\n\\n[Write Connection Router]\\ntype=service\\nrouter=readconnroute\\nrouter_options=master\\nservers=%%ENV:SERVERS_LIST%%\\nuser=root\\npasswd=%%ENV:SVC_CONF_ENV_MYSQL_ROOT_PASSWORD%%\\nenable_root_user=true\\n\\n[Replication]\\ntype=service\\nrouter=binlogrouter\\nversion_string=5.6.17-log\\nuser=root\\npasswd=%%ENV:SVC_CONF_ENV_MYSQL_ROOT_PASSWORD%%\\nrouter_options=server-id=999,user=root,password=%%ENV:SVC_CONF_ENV_MYSQL_ROOT_PASSWORD%%,binlogdir=/var/cache/maxscale/\\n\\n[Replication Listener]\\ntype=listener\\nservice=Replication\\nprotocol=MySQLClient\\nport=%%ENV:SVC_CONF_ENV_PORT_BINLOG%%\\naddress=%%ENV:SERVER_IP%%\\n\\n#[Debug Listener]\\n#type=listener\\n#service=Debug Interface\\n#protocol=telnetd\\n#port=%%ENV:SVC_CONF_ENV_PORT_TELNET%%\\n\\n[CLI]\\ntype=service\\nrouter=cli\\n\\n[CLI Listener]\\ntype=listener\\nservice=CLI \\nprotocol=maxscaled\\nport=%%ENV:SVC_CONF_ENV_PORT_ADMIN%%\\naddress=%%ENV:SERVER_IP%%\\n\\n%%ENV:SERVERS%%\\n\"}",
                    "var_updated": "2021-08-11 11:17:25",
                    "var_name": "proxy_cnf_maxscale",
                    "id": 6008
                }
            ],
            "ruleset_public": false,
            "ruleset_type": "contextual",
            "rulesets": [],
            "publications": [
                "replication-manager"
            ],
            "id": 1040,
            "responsibles": [
                "replication-manager"
            ]
        },
        {
            "fset_name": "mariadb.replication.multimaster",
            "ruleset_name": "mariadb.svc.mrm.proxy.cnf.multimaster",
            "variables": [
                {
                    "var_author": "admin Manager",
                    "var_class": "file",
                    "var_value": "{\"path\":\"/%%ENV:SVC_CONF_ENV_BASE_DIR%%/%%ENV:POD%%/etc/maxscale/maxscale.cnf\",\"mode\":\"%%ENV:BINDED_DIR_PERMS%%\",\"uid\":\"%%ENV:MYSQL_UID%%\",\"gid\":\"%%ENV:MYSQL_GID%%\",\"fmt\":\"[MaxScale]\\n#threads=auto\\n\\n[MaxInfo]\\ntype=service\\nrouter=maxinfo\\nuser=monitor\\npasswd=EBD2F49C3B375812A8CDEBA632ED8BBC\\n\\n[MaxInfo JSON Listener]\\ntype=listener\\nservice=MaxInfo\\nprotocol=HTTPD\\nport=%%ENV:SVC_CONF_ENV_MAXSCALE_MAXINFO_PORT%%\\naddress=%%ENV:SERVER_IP%%\\n\\n[MySQL Monitor]\\ntype=monitor\\nmodule=mmmon\\nservers=%%ENV:SERVERS_LIST%%\\nuser=root\\npasswd=%%ENV:SVC_CONF_ENV_MYSQL_ROOT_PASSWORD%%\\nmonitor_interval=500\\ndetect_stale_master=true\\ndetect_stale_slave=true\\ndetect_standalone_master=true\\n\\n[Debug Interface]\\ntype=service\\nrouter=debugcli\\n\\n[Read Write Connection Listener]\\ntype=listener\\nservice=Read Write Connection Router\\nprotocol=MySQLClient\\nport=%%ENV:SVC_CONF_ENV_PORT_RW_SPLIT%%\\naddress=%%ENV:SERVER_IP%%\\n\\n[Write Connection Listener]\\ntype=listener\\nservice=Write Connection Router\\nprotocol=MySQLClient\\nport=%%ENV:SVC_CONF_ENV_PORT_RW%%\\naddress=%%ENV:SERVER_IP%%\\n\\n[Read Write Connection Router]\\ntype=service\\nrouter=readwritesplit\\nlocalhost_match_wildcard_host=1\\nuser=root\\npasswd=%%ENV:SVC_CONF_ENV_MYSQL_ROOT_PASSWORD%%\\nmax_slave_connections=100%\\nrouter_options=master_accept_reads=1,slave_selection_criteria=LEAST_GLOBAL_CONNECTIONS\\nenable_root_user=true\\nservers=%%ENV:SERVERS_LIST%%\\n\\n[Write Connection Router]\\ntype=service\\nrouter=readconnroute\\nrouter_options=master\\nservers=%%ENV:SERVERS_LIST%%\\nuser=root\\npasswd=%%ENV:SVC_CONF_ENV_MYSQL_ROOT_PASSWORD%%\\nenable_root_user=true\\n\\n[Replication]\\ntype=service\\nrouter=binlogrouter\\nversion_string=5.6.17-log\\nuser=root\\npasswd=%%ENV:SVC_CONF_ENV_MYSQL_ROOT_PASSWORD%%\\nrouter_options=server-id=999,user=root,password=%%ENV:SVC_CONF_ENV_MYSQL_ROOT_PASSWORD%%,binlogdir=/var/cache/maxscale/\\n\\n[Replication Listener]\\ntype=listener\\nservice=Replication\\nprotocol=MySQLClient\\nport=%%ENV:SVC_CONF_ENV_PORT_BINLOG%%\\naddress=%%ENV:SERVER_IP%%\\n\\n#[Debug Listener]\\n#type=listener\\n#service=Debug Interface\\n#protocol=telnetd\\n#port=%%ENV:SVC_CONF_ENV_PORT_TELNET%%\\n\\n[CLI]\\ntype=service\\nrouter=cli\\n\\n[CLI Listener]\\ntype=listener\\nservice=CLI \\nprotocol=maxscaled\\nport=%%ENV:SVC_CONF_ENV_PORT_ADMIN%%\\naddress=%%ENV:SERVER_IP%%\\n\\n%%ENV:SERVERS%%\\n\"}",
                    "var_updated": "2021-08-11 11:14:22",
                    "var_name": "proxy_cnf_maxscale",
                    "id": 6009
                }
            ],
            "ruleset_public": false,
            "ruleset_type": "contextual",
            "rulesets": [],
            "publications": [
                "replication-manager"
            ],
            "id": 1041,
            "responsibles": [
                "replication-manager"
            ]
        },
        {
            "fset_name": null,
            "ruleset_name": "mariadb.svc.mrm.proxy.cnf.sphinx",
            "variables": [
                {
                    "var_author": "admin Manager",
                    "var_class": "file",
                    "var_value": "{\"path\":\"/%%ENV:SVC_CONF_ENV_BASE_DIR%%/%%ENV:POD%%/etc/sphinx/sphinx.conf\",\"mode\":755,\"uid\":\"%%ENV:MYSQL_UID%%\",\"gid\":\"%%ENV:MYSQL_GID%%\",\"fmt\":\"#!/bin/sh\\ncat <<EOF\\n\\nsource base\\n{\\n\\t# data source type. mandatory, no default value\\n\\t# known types are mysql, pgsql, mssql, xmlpipe, xmlpipe2, odbc\\n\\ttype\\t\\t\\t= mysql \\n\\n\\t#####################################################################\\n\\t## SQL settings (for 'mysql' and 'pgsql' types)\\n\\t#####################################################################\\n\\n\\t# some straightforward parameters for SQL source types\\n\\tsql_host = %%ENV:SVC_CONF_ENV_VIP_ADDR%%\\n        sql_port = %%ENV:SVC_CONF_ENV_VIP_PORT%%\\n       \\tsql_user = %%ENV:SVC_CONF_ENV_MYSQL_ROOT_USER%%\\n\\tsql_pass = %%ENV:SVC_CONF_ENV_MYSQL_ROOT_PASSWORD%%\\n}\\n#############################################################################\\n## indexer settings\\n#############################################################################\\n\\nindexer\\n{\\n\\t# memory limit, in bytes, kiloytes (16384K) or megabytes (256M)\\n\\t# optional, default is 32M, max is 2047M, recommended is 256M to 1024M\\n\\tmem_limit\\t\\t= 256M\\n\\n}\\n\\n#############################################################################\\n## searchd settings\\n#############################################################################\\n\\nsearchd\\n{\\n\\n\\tlisten\\t\\t\\t= %%ENV:SERVER_IP%%:9312\\n\\tlisten\\t\\t\\t= %%ENV:SERVER_IP%%:%%ENV:SVC_CONF_ENV_PORT_RW%%:mysql41\\n\\n\\t# log file, searchd run info is logged here\\n\\t# optional, default is 'searchd.log'\\n\\tlog\\t\\t\\t= /var/log/sphinx/searchd.log\\n\\n\\t# query log file, all search queries are logged here\\n\\t# optional, default is empty (do not log queries)\\n\\tquery_log\\t\\t= /var/log/sphinx/query.log\\n\\n\\t# client read timeout, seconds\\n\\t# optional, default is 5\\n\\tread_timeout\\t\\t= 5\\n\\n\\t# request timeout, seconds\\n\\t# optional, default is 5 minutes\\n\\tclient_timeout\\t\\t= 300\\n\\n\\t# maximum amount of children to fork (concurrent searches to run)\\n\\t# optional, default is 0 (unlimited)\\n\\tmax_children\\t\\t= 30\\n\\n\\t# PID file, searchd process ID file name\\n\\t# mandatory\\n\\tpid_file\\t\\t= /var/run/searchd.pid\\n\\n\\t# max amount of matches the daemon ever keeps in RAM, per-index\\n\\t# WARNING, THERE'S ALSO PER-QUERY LIMIT, SEE SetLimits() API CALL\\n\\t\\n\\t# seamless rotate, prevents rotate stalls if precaching huge datasets\\n\\t# optional, default is 1\\n\\tseamless_rotate\\t\\t= 1\\n\\n\\t# whether to forcibly preopen all indexes on startup\\n\\t# optional, default is 1 (preopen everything)\\n\\tpreopen_indexes\\t\\t= 1\\n\\n\\t# whether to unlink .old index copies on succesful rotation.\\n\\t# optional, default is 1 (do unlink)\\n\\tunlink_old\\t\\t= 1\\n\\n\\t# MVA updates pool size\\n\\t# shared between all instances of searchd, disables attr flushes!\\n\\t# optional, default size is 1M\\n\\tmva_updates_pool\\t= 1M\\n\\n\\t# max allowed network packet size\\n\\t# limits both query packets from clients, and responses from agents\\n\\t# optional, default size is 8M\\n\\tmax_packet_size\\t\\t= 8M\\n\\n\\t# max allowed per-query filter count\\n\\t# optional, default is 256\\n\\tmax_filters\\t\\t= 256\\n\\n\\t# max allowed per-filter values count\\n\\t# optional, default is 4096\\n\\tmax_filter_values\\t= 4096\\n\\n\\t# max allowed per-batch query count (aka multi-query count)\\n\\t# optional, default is 32\\n\\tmax_batch_queries\\t= 32\\n\\n\\t# multi-processing mode (MPM)\\n\\t# known values are none, fork, prefork, and threads\\n\\t# optional, default is fork\\n\\t#\\n\\tworkers\\t\\t\\t= threads # for RT to work\\n}\\nEOF\\n\\nwget -O - -q http://%%ENV:SVC_CONF_ENV_MRM_API_ADDR%%/clusters/%%ENV:SVC_CONF_ENV_MRM_CLUSTER_NAME%%/sphinx-indexes\\n\"}",
                    "var_updated": "2021-08-11 11:16:19",
                    "var_name": "proxy_cnf_sphinx",
                    "id": 6010
                },
                {
                    "var_author": "replication-manager replication-manager@signal18.io",
                    "var_class": "file",
                    "var_value": "{\"path\":\"/%%ENV:SVC_CONF_ENV_BASE_DIR%%/%%ENV:POD%%/init/reindex.sh\",\"mode\":\"%%ENV:BINDED_DIR_PERMS%%\",\"uid\":\"%%ENV:MYSQL_UID%%\",\"gid\":\"%%ENV:MYSQL_GID%%\",\"fmt\":\"svcmgr -s %%ENV:SERVICES_SVCNAME%% docker exec -i %%ENV:SERVICES_SVCNAME%%.container.2001 /bin/sh -c \\\"indexer --all --rotate\\\"\"}",
                    "var_updated": "2018-04-09 15:30:19",
                    "var_name": "proxy_cnf_sphinx_reindex",
                    "id": 6011
                }
            ],
            "ruleset_public": false,
            "ruleset_type": "explicit",
            "rulesets": [
                "mariadb.svc.mrm.proxy.cnf.sphinx.cron"
            ],
            "publications": [
                "replication-manager"
            ],
            "id": 1042,
            "responsibles": [
                "replication-manager"
            ]
        },
        {
            "fset_name": "mariadb.engine.sphinx",
            "ruleset_name": "mariadb.svc.mrm.proxy.cnf.sphinx.cron",
            "variables": [
                {
                    "var_author": "replication-manager replication-manager@signal18.io",
                    "var_class": "crontabentry",
                    "var_value": "{\"user\":\"root\",\"check\":\"/%%ENV:SVC_CONF_ENV_BASE_DIR%%/%%ENV:POD%%/init/reindex.sh\",\"entry\":\"5     *     *     *     * \\troot /%%ENV:SVC_CONF_ENV_BASE_DIR%%/%%ENV:POD%%/init/reindex.sh\",\"ref\":\"/etc/cron.d/%%ENV:SERVICES_SVCNAME%%_sphinx_reindex\"}",
                    "var_updated": "2018-04-09 15:30:19",
                    "var_name": "proxy_cnf_sphinx_cron",
                    "id": 6012
                }
            ],
            "ruleset_public": false,
            "ruleset_type": "contextual",
            "rulesets": [],
            "publications": [
                "replication-manager"
            ],
            "id": 1043,
            "responsibles": [
                "replication-manager"
            ]
        },
        {
            "fset_name": "proxy.route.readwritesplit",
            "ruleset_name": "mariadb.svc.mrm.proxy.cnf.proxysql.readwritesplit",
            "variables": [
                {
                    "var_author": "admin Manager",
                    "var_class": "file",
                    "var_value": "{\"path\":\"/%%ENV:SVC_CONF_ENV_BASE_DIR%%/%%ENV:POD%%/etc/proxysql/proxysql.cnf\",\"mode\":\"%%ENV:BINDED_DIR_PERMS%%\",\"uid\":\"%%ENV:MYSQL_UID%%\",\"gid\":\"%%ENV:MYSQL_GID%%\",\"fmt\":\"admin_variables=\\n{\\n\\tadmin_credentials=\\\"admin:%%ENV:SVC_CONF_ENV_PASSWORD_ADMIN%%;external:%%ENV:SVC_CONF_ENV_PASSWORD_ADMIN%%\\\"\\n\\tmysql_ifaces=\\\"%%ENV:SERVER_IP%%:%%ENV:SVC_CONF_ENV_PORT_ADMIN%%;/%%ENV:SVC_CONF_ENV_DATADIR%%/proxysql_admin.sock\\\"\\n\\n}\\n\\nmysql_variables=\\n{\\n\\tthreads=4\\n\\tmax_connections=2048\\n\\tdefault_query_delay=0\\n\\tdefault_query_timeout=36000000\\n\\thave_compress=%%ENV:SVC_CONF_ENV_PROXY_USE_COMPRESS%%\\n\\tpoll_timeout=2000\\n        have_ssl=%%ENV:SVC_CONF_ENV_PROXY_USE_SSL%%\\n        ssl_p2s_cert=\\\"%%ENV:SVC_CONF_ENV_CONFDIR%%/ssl/client-cert.pem\\\" \\n        ssl_p2s_key=\\\"%%ENV:SVC_CONF_ENV_CONFDIR%%/ssl/client-key.pem\\\"\\n        ssl_p2s_ca=\\\"%%ENV:SVC_CONF_ENV_CONFDIR%%/ssl/ca-cert.pem\\\"\\n\\t\\n\\tinterfaces=\\\"%%ENV:EXTRA_BIND_SERVER_IPV6%%%%ENV:SERVER_IP%%:%%ENV:SVC_CONF_ENV_PORT_RW%%;%%ENV:SVC_CONF_ENV_DATADIR%%/proxysql.sock\\\"\\n\\tdefault_schema=\\\"information_schema\\\"\\n\\tstacksize=1048576\\n\\tserver_version=\\\"5.5.30\\\"\\n\\tconnect_timeout_server=3000\\n\\tmonitor_history=600000\\n\\tmonitor_connect_interval=60000\\n        monitor_ping_interval=4000\\n\\tmonitor_read_only_interval=1500\\n\\tmonitor_read_only_timeout=500\\n        monitor_username=\\\"%%ENV:SVC_CONF_ENV_MYSQL_ROOT_USER%%\\\"\\n        monitor_password=\\\"%%ENV:SVC_CONF_ENV_MYSQL_ROOT_PASSWORD%%\\\"\\n\\tping_interval_server_msec=20000\\n\\tping_timeout_server=1000\\n\\tcommands_stats=true\\n\\tsessions_sort=true\\n\\tconnect_retries_on_failure=10\\n        monitor_writer_is_also_reader=%%ENV:SVC_CONF_ENV_PROXYSQL_READ_ON_MASTER%%\\n}\\n\\n\\n# defines all the MySQL servers\\nmysql_servers =\\n(\\n%%ENV:SERVERS_PROXYSQL%%\\n)\\n\\nmysql_users:\\n(\\n { username = \\\"%%ENV:SVC_CONF_ENV_MYSQL_ROOT_USER%%\\\" , password = \\\"%%ENV:SVC_CONF_ENV_MYSQL_ROOT_PASSWORD%%\\\" , default_hostgroup = 0 , active = 1 }\\n)\\n#defines MySQL Query Rules\\nmysql_query_rules:\\n(\\n          {\\n              rule_id=1\\n              active=1\\n              match_digest=\\\"^SELECT .* FOR UPDATE$\\\"\\n              destination_hostgroup=0\\n              apply=1\\n          },\\n          {\\n              rule_id=2\\n              active=1\\n              match_digest=\\\"^SELECT\\\"\\n              destination_hostgroup=1\\n              apply=1\\n          },\\n          {\\n              rule_id=3\\n              active=1\\n              match_pattern=\\\"^SELECT @@.*\\\"\\n              destination_hostgroup=0\\n              apply=1\\n          },\\n          {\\n              rule_id=4\\n              active=1\\n              match_pattern=\\\"^SHOW.*VARIABLES\\\"\\n              destination_hostgroup=0\\n              apply=1\\n          }\\n)\\nmysql_replication_hostgroups=\\n(\\n        {\\n                writer_hostgroup=0\\n                reader_hostgroup=1\\n                comment=\\\"test repl 1\\\"\\n       }\\n)\\n\\n\\n\"}",
                    "var_updated": "2021-08-12 10:01:17",
                    "var_name": "proxy_cnf_proxysql",
                    "id": 6101
                }
            ],
            "ruleset_public": false,
            "ruleset_type": "contextual",
            "rulesets": [],
            "publications": [
                "replication-manager"
            ],
            "id": 1066,
            "responsibles": [
                "replication-manager"
            ]
        },
        {
            "fset_name": null,
            "ruleset_name": "mariadb.svc.mrm.proxy.cnf.proxysql.default",
            "variables": [
                {
                    "var_author": "admin Manager",
                    "var_class": "file",
                    "var_value": "{\"path\":\"/%%ENV:SVC_CONF_ENV_BASE_DIR%%/%%ENV:POD%%//etc/proxysql/proxysql.cnf\",\"mode\":\"%%ENV:BINDED_DIR_PERMS%%\",\"uid\":\"%%ENV:MYSQL_UID%%\",\"gid\":\"%%ENV:MYSQL_GID%%\",\"fmt\":\"admin_variables=\\n{\\n\\tadmin_credentials=\\\"admin:%%ENV:SVC_CONF_ENV_PASSWORD_ADMIN%%;external:%%ENV:SVC_CONF_ENV_PASSWORD_ADMIN%%\\\"\\n\\tmysql_ifaces=\\\"%%ENV:SERVER_IP%%:%%ENV:SVC_CONF_ENV_PORT_ADMIN%%;%%ENV:SVC_CONF_ENV_DATADIR%%/proxysql_admin.sock\\\"\\n\\n}\\n\\nmysql_variables=\\n{\\n\\tthreads=4\\n\\tmax_connections=2048\\n\\tdefault_query_delay=0\\n\\tdefault_query_timeout=36000000\\n\\thave_compress=%%ENV:SVC_CONF_ENV_PROXY_USE_COMPRESS%%\\n        have_ssl=%%ENV:SVC_CONF_ENV_PROXY_USE_SSL%%\\n        ssl_p2s_cert=\\\"%%ENV:SVC_CONF_ENV_CONFDIR%%/ssl/client-cert.pem\\\"\\n        ssl_p2s_key=\\\"%%ENV:SVC_CONF_ENV_CONFDIR%%/ssl/client-key.pem\\\"\\n        ssl_p2s_ca=\\\"%%ENV:SVC_CONF_ENV_CONFDIR%%/ssl/ca-cert.pem\\\"\\n\\tpoll_timeout=2000\\n\\tinterfaces=\\\"%%ENV:EXTRA_BIND_SERVER_IPV6%%%%ENV:SERVER_IP%%:%%ENV:SVC_CONF_ENV_PORT_RW%%;%%ENV:SVC_CONF_ENV_DATADIR%%/proxysql.sock\\\"\\n\\tdefault_schema=\\\"information_schema\\\"\\n\\tstacksize=1048576\\n\\tserver_version=\\\"5.5.30\\\"\\n\\tconnect_timeout_server=3000\\n\\tmonitor_history=600000\\n\\tmonitor_connect_interval=60000\\n        monitor_ping_interval=4000\\n\\tmonitor_read_only_interval=1500\\n\\tmonitor_read_only_timeout=500\\n        monitor_username=\\\"%%ENV:SVC_CONF_ENV_MYSQL_ROOT_USER%%\\\"\\n        monitor_password=\\\"%%ENV:SVC_CONF_ENV_MYSQL_ROOT_PASSWORD%%\\\"\\n\\tping_interval_server_msec=20000\\n\\tping_timeout_server=1000\\n\\tcommands_stats=true\\n\\tsessions_sort=true\\n\\tconnect_retries_on_failure=10\\n        monitor_writer_is_also_reader=%%ENV:SVC_CONF_ENV_PROXYSQL_READ_ON_MASTER%%\\n}\\n\\n\\n# defines all the MySQL servers\\nmysql_servers =\\n(\\n%%ENV:SERVERS_PROXYSQL%%\\n)\\n\\nmysql_users:\\n(\\n { username = \\\"%%ENV:SVC_CONF_ENV_MYSQL_ROOT_USER%%\\\" , password = \\\"%%ENV:SVC_CONF_ENV_MYSQL_ROOT_PASSWORD%%\\\" , default_hostgroup = 0 , active = 1 }\\n)\\n#defines MySQL Query Rules\\n\\nmysql_replication_hostgroups=\\n(\\n        {\\n                writer_hostgroup=0\\n                reader_hostgroup=1\\n                comment=\\\"test repl 1\\\"\\n       }\\n)\"}",
                    "var_updated": "2021-08-12 10:00:41",
                    "var_name": "proxy_cnf_proxysql",
                    "id": 6103
                }
            ],
            "ruleset_public": false,
            "ruleset_type": "contextual",
            "rulesets": [],
            "publications": [
                "replication-manager"
            ],
            "id": 1068,
            "responsibles": [
                "replication-manager"
            ]
        },
        {
            "fset_name": "proxy.route.readonmaster",
            "ruleset_name": "mariadb.svc.mrm.proxy.cnf.readonmaster",
            "variables": [
                {
                    "var_author": "admin Manager",
                    "var_class": "raw",
                    "var_value": "",
                    "var_updated": "2020-05-29 12:28:02",
                    "var_name": "readonmaster",
                    "id": 6178
                }
            ],
            "ruleset_public": false,
            "ruleset_type": "contextual",
            "rulesets": [],
            "publications": [
                "replication-manager"
            ],
            "id": 1070,
            "responsibles": [
                "replication-manager"
            ]
        },
        {
            "fset_name": "proxy.frontend.ssl",
            "ruleset_name": "mariadb.svc.mrm.proxy.cnf.usessl",
            "variables": [
                {
                    "var_author": "admin Manager",
                    "var_class": "raw",
                    "var_value": "",
                    "var_updated": "2020-05-29 12:28:43",
                    "var_name": "usessl",
                    "id": 6179
                }
            ],
            "ruleset_public": false,
            "ruleset_type": "contextual",
            "rulesets": [],
            "publications": [
                "replication-manager"
            ],
            "id": 1107,
            "responsibles": [
                "replication-manager"
            ]
        },
        {
            "fset_name": "proxy.backend.nonetworkcompress",
            "ruleset_name": "mariadb.svc.mrm.proxy.cnf.nonetworkcompress",
            "variables": [
                {
                    "var_author": "admin Manager",
                    "var_class": "raw",
                    "var_value": "",
                    "var_updated": "2020-05-29 12:29:39",
                    "var_name": "nonetworkcompress",
                    "id": 6180
                }
            ],
            "ruleset_public": false,
            "ruleset_type": "contextual",
            "rulesets": [],
            "publications": [
                "replication-manager"
            ],
            "id": 1108,
            "responsibles": [
                "replication-manager"
            ]
        }
    ]
}
