{
    "modulesets": [
        {
            "modules": [],
            "rulesets": [],
            "modset_name": "mariadb.svc.mrm.db",
            "modulesets": [
                "mariadb.svc.mrm.db.cnf"
            ],
            "publications": [
                "replication-manager"
            ],
            "id": 344,
            "responsibles": [
                "replication-manager"
            ]
        },
        {
            "modules": [
                {
                    "autofix": false,
                    "modset_mod_name": "mariadb.svc.mrm.db.cnf"
                }
            ],
            "rulesets": [
                "mariadb.svc.mrm.db.cnf"
            ],
            "modset_name": "mariadb.svc.mrm.db.cnf",
            "modulesets": [],
            "publications": [
                "replication-manager"
            ],
            "id": 345,
            "responsibles": [
                "replication-manager"
            ]
        }
    ],
    "filtersets": [
        {
            "fset_stats": false,
            "id": 253,
            "filters": [
                {
                    "filter": {
                        "f_op": "=",
                        "f_field": "os_name",
                        "f_value": "linux",
                        "f_table": "nodes",
                        "id": 207
                    },
                    "f_order": 0,
                    "f_log_op": "AND",
                    "filterset": null
                }
            ],
            "fset_name": "linux servers"
        },
        {
            "fset_stats": false,
            "id": 254,
            "filters": [
                {
                    "filter": {
                        "f_op": "=",
                        "f_field": "os_name",
                        "f_value": "darwin",
                        "f_table": "nodes",
                        "id": 208
                    },
                    "f_order": 0,
                    "f_log_op": "AND",
                    "filterset": null
                }
            ],
            "fset_name": "servers osx"
        },
        {
            "fset_stats": false,
            "id": 255,
            "filters": [
                {
                    "filter": {
                        "f_op": "=",
                        "f_field": "res_type",
                        "f_value": "container.docker",
                        "f_table": "resmon",
                        "id": 209
                    },
                    "f_order": 0,
                    "f_log_op": "AND",
                    "filterset": null
                }
            ],
            "fset_name": "mariadb.svc.prov.docker"
        },
        {
            "fset_stats": false,
            "id": 256,
            "filters": [
                {
                    "filter": null,
                    "f_order": 0,
                    "f_log_op": "AND NOT",
                    "filterset": "mariadb.svc.prov.docker"
                }
            ],
            "fset_name": "mariadb.svc.prov.pkg"
        },
        {
            "fset_stats": false,
            "id": 257,
            "filters": [
                {
                    "filter": {
                        "f_op": "=",
                        "f_field": "tag_name",
                        "f_value": "semisync",
                        "f_table": "v_tags",
                        "id": 210
                    },
                    "f_order": 0,
                    "f_log_op": "AND",
                    "filterset": null
                }
            ],
            "fset_name": "mariadb.svc.prov.semisync"
        },
        {
            "fset_stats": false,
            "id": 258,
            "filters": [
                {
                    "filter": {
                        "f_op": "=",
                        "f_field": "tag_name",
                        "f_value": "innodb",
                        "f_table": "v_tags",
                        "id": 211
                    },
                    "f_order": 0,
                    "f_log_op": "AND",
                    "filterset": null
                }
            ],
            "fset_name": "mariadb.svc.prov.innodb"
        },
        {
            "fset_stats": false,
            "id": 259,
            "filters": [
                {
                    "filter": {
                        "f_op": "=",
                        "f_field": "tag_name",
                        "f_value": "noquerycache",
                        "f_table": "v_tags",
                        "id": 212
                    },
                    "f_order": 0,
                    "f_log_op": "AND",
                    "filterset": null
                }
            ],
            "fset_name": "mariadb.svc.prov.noquerycache"
        },
        {
            "fset_stats": false,
            "id": 260,
            "filters": [
                {
                    "filter": {
                        "f_op": "=",
                        "f_field": "tag_name",
                        "f_value": "threadpool",
                        "f_table": "v_tags",
                        "id": 213
                    },
                    "f_order": 0,
                    "f_log_op": "AND",
                    "filterset": null
                }
            ],
            "fset_name": "mariadb.svc.prov.threadpool"
        },
        {
            "fset_stats": false,
            "id": 261,
            "filters": [
                {
                    "filter": {
                        "f_op": "=",
                        "f_field": "tag_name",
                        "f_value": "logaudit",
                        "f_table": "v_tags",
                        "id": 214
                    },
                    "f_order": 0,
                    "f_log_op": "AND",
                    "filterset": null
                }
            ],
            "fset_name": "mariadb.svc.prov.logaudit"
        },
        {
            "fset_stats": false,
            "id": 262,
            "filters": [
                {
                    "filter": {
                        "f_op": "=",
                        "f_field": "tag_name",
                        "f_value": "logslow",
                        "f_table": "v_tags",
                        "id": 215
                    },
                    "f_order": 0,
                    "f_log_op": "AND",
                    "filterset": null
                }
            ],
            "fset_name": "mariadb.svc.prov.logslow"
        },
        {
            "fset_stats": false,
            "id": 263,
            "filters": [
                {
                    "filter": {
                        "f_op": "=",
                        "f_field": "tag_name",
                        "f_value": "loggeneral",
                        "f_table": "v_tags",
                        "id": 216
                    },
                    "f_order": 0,
                    "f_log_op": "AND",
                    "filterset": null
                }
            ],
            "fset_name": "mariadb.svc.prov.loggeneral"
        },
        {
            "fset_stats": false,
            "id": 264,
            "filters": [
                {
                    "filter": {
                        "f_op": "=",
                        "f_field": "tag_name",
                        "f_value": "logsqlerror",
                        "f_table": "v_tags",
                        "id": 217
                    },
                    "f_order": 0,
                    "f_log_op": "AND",
                    "filterset": null
                }
            ],
            "fset_name": "mariadb.svc.prov.logsqlerror"
        },
        {
            "fset_stats": false,
            "id": 265,
            "filters": [
                {
                    "filter": {
                        "f_op": "=",
                        "f_field": "tag_name",
                        "f_value": "tokudb",
                        "f_table": "v_tags",
                        "id": 218
                    },
                    "f_order": 0,
                    "f_log_op": "AND",
                    "filterset": null
                }
            ],
            "fset_name": "mariadb.svc.prov.tokudb"
        },
        {
            "fset_stats": false,
            "id": 266,
            "filters": [
                {
                    "filter": {
                        "f_op": "=",
                        "f_field": "tag_name",
                        "f_value": "spider",
                        "f_table": "v_tags",
                        "id": 219
                    },
                    "f_order": 0,
                    "f_log_op": "AND",
                    "filterset": null
                }
            ],
            "fset_name": "mariadb.svc.prov.spider"
        },
        {
            "fset_stats": false,
            "id": 267,
            "filters": [
                {
                    "filter": {
                        "f_op": "=",
                        "f_field": "tag_name",
                        "f_value": "myrocks",
                        "f_table": "v_tags",
                        "id": 220
                    },
                    "f_order": 1,
                    "f_log_op": "AND",
                    "filterset": null
                }
            ],
            "fset_name": "mariadb.svc.prov.myrocks"
        },
        {
            "fset_stats": false,
            "id": 268,
            "filters": [
                {
                    "filter": {
                        "f_op": "=",
                        "f_field": "tag_name",
                        "f_value": "multidomains",
                        "f_table": "v_tags",
                        "id": 221
                    },
                    "f_order": 0,
                    "f_log_op": "AND",
                    "filterset": null
                }
            ],
            "fset_name": "mariadb.svc.multidomains"
        },
        {
            "fset_stats": false,
            "id": 269,
            "filters": [
                {
                    "filter": {
                        "f_op": "=",
                        "f_field": "tag_name",
                        "f_value": "mysqlgtid",
                        "f_table": "v_tags",
                        "id": 222
                    },
                    "f_order": 0,
                    "f_log_op": "AND",
                    "filterset": null
                }
            ],
            "fset_name": "mysql.svc.prov.mysqlgtid"
        },
        {
            "fset_stats": false,
            "id": 270,
            "filters": [
                {
                    "filter": {
                        "f_op": "=",
                        "f_field": "tag_name",
                        "f_value": "nologslaveupdates",
                        "f_table": "v_tags",
                        "id": 223
                    },
                    "f_order": 0,
                    "f_log_op": "AND",
                    "filterset": null
                }
            ],
            "fset_name": "mariadb.svc.prov.nologslaveupdates"
        },
        {
            "fset_stats": false,
            "id": 271,
            "filters": [
                {
                    "filter": {
                        "f_op": "=",
                        "f_field": "tag_name",
                        "f_value": "smallredolog",
                        "f_table": "v_tags",
                        "id": 224
                    },
                    "f_order": 0,
                    "f_log_op": "AND",
                    "filterset": null
                }
            ],
            "fset_name": "mariadb.svc.prov.smallredolog"
        },
        {
            "fset_stats": false,
            "id": 272,
            "filters": [
                {
                    "filter": {
                        "f_op": "=",
                        "f_field": "tag_name",
                        "f_value": "wsrep",
                        "f_table": "v_tags",
                        "id": 225
                    },
                    "f_order": 0,
                    "f_log_op": "AND",
                    "filterset": null
                }
            ],
            "fset_name": "mariadb.svc.prov.wsrep"
        },
        {
            "fset_stats": false,
            "id": 275,
            "filters": [
                {
                    "filter": {
                        "f_op": "=",
                        "f_field": "tag_name",
                        "f_value": "wsrep",
                        "f_table": "v_tags",
                        "id": 225
                    },
                    "f_order": 0,
                    "f_log_op": "AND NOT",
                    "filterset": null
                }
            ],
            "fset_name": "mariadb.svc.prov.nowsrep"
        },
        {
            "fset_stats": false,
            "id": 277,
            "filters": [
                {
                    "filter": {
                        "f_op": "=",
                        "f_field": "tag_name",
                        "f_value": "pfs",
                        "f_table": "v_tags",
                        "id": 228
                    },
                    "f_order": 0,
                    "f_log_op": "AND",
                    "filterset": null
                }
            ],
            "fset_name": "mariadb.svc.prov.pfs"
        },
        {
            "fset_stats": false,
            "id": 278,
            "filters": [
                {
                    "filter": {
                        "f_op": "=",
                        "f_field": "tag_name",
                        "f_value": "ssl",
                        "f_table": "v_tags",
                        "id": 229
                    },
                    "f_order": 0,
                    "f_log_op": "AND",
                    "filterset": null
                }
            ],
            "fset_name": "mariadb.svc.prov.ssl"
        },
        {
            "fset_stats": false,
            "id": 279,
            "filters": [
                {
                    "filter": {
                        "f_op": "=",
                        "f_field": "tag_name",
                        "f_value": "sphinx",
                        "f_table": "v_tags",
                        "id": 230
                    },
                    "f_order": 0,
                    "f_log_op": "AND",
                    "filterset": null
                }
            ],
            "fset_name": "mariadb.svc.prov.sphinx"
        },
        {
            "fset_stats": false,
            "id": 280,
            "filters": [
                {
                    "filter": {
                        "f_op": "=",
                        "f_field": "tag_name",
                        "f_value": "nodoublewrite",
                        "f_table": "v_tags",
                        "id": 231
                    },
                    "f_order": 0,
                    "f_log_op": "AND",
                    "filterset": null
                }
            ],
            "fset_name": "mariadb.svc.prov.nodoublewrite"
        },
        {
            "fset_stats": false,
            "id": 281,
            "filters": [
                {
                    "filter": {
                        "f_op": "=",
                        "f_field": "tag_name",
                        "f_value": "compressbinlog",
                        "f_table": "v_tags",
                        "id": 232
                    },
                    "f_order": 0,
                    "f_log_op": "AND",
                    "filterset": null
                }
            ],
            "fset_name": "mariadb.svc.prov.compressbinlog"
        },
        {
            "fset_stats": false,
            "id": 282,
            "filters": [
                {
                    "filter": {
                        "f_op": "=",
                        "f_field": "tag_name",
                        "f_value": "lowercasetable",
                        "f_table": "v_tags",
                        "id": 234
                    },
                    "f_order": 0,
                    "f_log_op": "AND",
                    "filterset": null
                }
            ],
            "fset_name": "mariadb.svc.prov.lowercasetable"
        },
        {
            "fset_stats": false,
            "id": 283,
            "filters": [
                {
                    "filter": {
                        "f_op": "=",
                        "f_field": "tag_name",
                        "f_value": "nodurable",
                        "f_table": "v_tags",
                        "id": 233
                    },
                    "f_order": 0,
                    "f_log_op": "AND",
                    "filterset": null
                }
            ],
            "fset_name": "mariadb.svc.prov.nodurable"
        },
        {
            "fset_stats": false,
            "id": 285,
            "filters": [
                {
                    "filter": {
                        "f_op": "=",
                        "f_field": "tag_name",
                        "f_value": "sqlmodeunstrict",
                        "f_table": "v_tags",
                        "id": 236
                    },
                    "f_order": 0,
                    "f_log_op": "AND",
                    "filterset": null
                }
            ],
            "fset_name": "mariadb.svc.prov.sqlmodeunstrict"
        },
        {
            "fset_stats": false,
            "id": 286,
            "filters": [
                {
                    "filter": {
                        "f_op": "=",
                        "f_field": "tag_name",
                        "f_value": "sqlmodeoracle",
                        "f_table": "v_tags",
                        "id": 237
                    },
                    "f_order": 0,
                    "f_log_op": "AND",
                    "filterset": null
                }
            ],
            "fset_name": "mariadb.svc.prov.sqlmodeoracle"
        }
    ],
    "rulesets": [
        {
            "fset_name": null,
            "ruleset_name": "mariadb.svc.mrm.db.cnf",
            "variables": [],
            "ruleset_public": false,
            "ruleset_type": "explicit",
            "rulesets": [
                "mariadb.svc.env",
                "mariadb.svc.mrm.db.cnf.docker",
                "mariadb.svc.mrm.db.cnf.package",
                "mariadb.svc.mrm.db.cnf.generic"
            ],
            "publications": [
                "replication-manager"
            ],
            "id": 988,
            "responsibles": [
                "replication-manager"
            ]
        },
        {
            "fset_name": null,
            "ruleset_name": "mariadb.svc.basedir",
            "variables": [],
            "ruleset_public": false,
            "ruleset_type": "explicit",
            "rulesets": [
                "mariadb.svc.basedir.darwin",
                "mariadb.svc.basedir.not.darwin"
            ],
            "publications": [
                "replication-manager"
            ],
            "id": 989,
            "responsibles": [
                "replication-manager"
            ]
        },
        {
            "fset_name": null,
            "ruleset_name": "mariadb.svc.basedir.darwin",
            "variables": [
                {
                    "var_author": "replication-manager replication-manager@localhost.localdomain",
                    "var_class": "raw",
                    "var_value": "/svc/%%ENV:SERVICES_SVCNAME%%",
                    "var_updated": "2017-08-28 13:38:28",
                    "var_name": "base_dir",
                    "id": 5873
                }
            ],
            "ruleset_public": false,
            "ruleset_type": "contextual",
            "rulesets": [],
            "publications": [
                "replication-manager"
            ],
            "id": 990,
            "responsibles": [
                "replication-manager"
            ]
        },
        {
            "fset_name": null,
            "ruleset_name": "mariadb.svc.basedir.not.darwin",
            "variables": [
                {
                    "var_author": "replication-manager replication-manager@localhost.localdomain",
                    "var_class": "raw",
                    "var_value": "/Users/%%ENV:SVC_USERNAME%%/%%ENV:SERVICES_SVCNAME%%",
                    "var_updated": "2017-08-28 13:38:28",
                    "var_name": "base_dir",
                    "id": 5874
                }
            ],
            "ruleset_public": false,
            "ruleset_type": "contextual",
            "rulesets": [],
            "publications": [
                "replication-manager"
            ],
            "id": 991,
            "responsibles": [
                "replication-manager"
            ]
        },
        {
            "fset_name": null,
            "ruleset_name": "mariadb.svc.env",
            "variables": [
                {
                    "var_author": "replication-manager replication-manager@localhost.localdomain",
                    "var_class": "raw",
                    "var_value": "999",
                    "var_updated": "2017-08-28 13:38:28",
                    "var_name": "mysql_gid",
                    "id": 5875
                },
                {
                    "var_author": "replication-manager replication-manager@localhost.localdomain",
                    "var_class": "raw",
                    "var_value": "999",
                    "var_updated": "2017-08-28 13:38:28",
                    "var_name": "mysql_uid",
                    "id": 5876
                },
                {
                    "var_author": "replication-manager replication-manager@localhost.localdomain",
                    "var_class": "raw",
                    "var_value": "660",
                    "var_updated": "2017-08-28 13:38:28",
                    "var_name": "cnf_perms",
                    "id": 5877
                }
            ],
            "ruleset_public": false,
            "ruleset_type": "explicit",
            "rulesets": [
                "mariadb.svc.basedir",
                "mariadb.svc.env.osx",
                "mariadb.svc.env.linux"
            ],
            "publications": [
                "replication-manager"
            ],
            "id": 992,
            "responsibles": [
                "replication-manager"
            ]
        },
        {
            "fset_name": "servers osx",
            "ruleset_name": "mariadb.svc.env.osx",
            "variables": [
                {
                    "var_author": "replication-manager replication-manager@localhost.localdomain",
                    "var_class": "raw",
                    "var_value": "777",
                    "var_updated": "2017-08-28 13:38:28",
                    "var_name": "binded_dir_perms",
                    "id": 5878
                }
            ],
            "ruleset_public": false,
            "ruleset_type": "contextual",
            "rulesets": [
                "mariadb.svc.env.osx.pkg"
            ],
            "publications": [
                "replication-manager"
            ],
            "id": 993,
            "responsibles": [
                "replication-manager"
            ]
        },
        {
            "fset_name": "linux servers",
            "ruleset_name": "mariadb.svc.env.linux",
            "variables": [
                {
                    "var_author": "replication-manager replication-manager@localhost.localdomain",
                    "var_class": "raw",
                    "var_value": "775",
                    "var_updated": "2017-08-28 13:38:28",
                    "var_name": "binded_dir_perms",
                    "id": 5879
                }
            ],
            "ruleset_public": false,
            "ruleset_type": "contextual",
            "rulesets": [
                "mariadb.svc.env.linux.pkg"
            ],
            "publications": [
                "replication-manager"
            ],
            "id": 994,
            "responsibles": [
                "replication-manager"
            ]
        },
        {
            "fset_name": "mariadb.svc.prov.pkg",
            "ruleset_name": "mariadb.svc.env.osx.pkg",
            "variables": [
                {
                    "var_author": "replication-manager replication-manager@localhost.localdomain",
                    "var_class": "raw",
                    "var_value": "mysql",
                    "var_updated": "2017-08-28 13:38:28",
                    "var_name": "mysql_gid",
                    "id": 5880
                },
                {
                    "var_author": "replication-manager replication-manager@localhost.localdomain",
                    "var_class": "raw",
                    "var_value": "mysql",
                    "var_updated": "2017-08-28 13:38:28",
                    "var_name": "mysql_uid",
                    "id": 5881
                }
            ],
            "ruleset_public": false,
            "ruleset_type": "contextual",
            "rulesets": [],
            "publications": [
                "replication-manager"
            ],
            "id": 995,
            "responsibles": [
                "replication-manager"
            ]
        },
        {
            "fset_name": "mariadb.svc.prov.pkg",
            "ruleset_name": "mariadb.svc.env.linux.pkg",
            "variables": [
                {
                    "var_author": "replication-manager replication-manager@localhost.localdomain",
                    "var_class": "raw",
                    "var_value": "mysql",
                    "var_updated": "2017-08-28 13:38:28",
                    "var_name": "mysql_gid",
                    "id": 5882
                },
                {
                    "var_author": "replication-manager replication-manager@localhost.localdomain",
                    "var_class": "raw",
                    "var_value": "mysql",
                    "var_updated": "2017-08-28 13:38:28",
                    "var_name": "mysql_uid",
                    "id": 5883
                }
            ],
            "ruleset_public": false,
            "ruleset_type": "contextual",
            "rulesets": [],
            "publications": [
                "replication-manager"
            ],
            "id": 996,
            "responsibles": [
                "replication-manager"
            ]
        },
        {
            "fset_name": "mariadb.svc.prov.docker",
            "ruleset_name": "mariadb.svc.mrm.db.cnf.docker",
            "variables": [
                {
                    "var_author": " Manager",
                    "var_class": "file",
                    "var_value": "{\"path\":\"%%ENV:SVC_CONF_ENV_BASE_DIR%%/%%ENV:POD%%/etc/mysql/my.cnf\",\"mode\":\"%%ENV:CNF_PERMS%%\",\"uid\":\"%%ENV:MYSQL_UID%%\",\"gid\":\"%%ENV:MYSQL_GID%%\",\"fmt\":\"[mariadb]\\nignore_db_dirs=.system\\n!include /etc/mysql/aria.cnf\\n\\n[mysqld]\\nserver_id = %%ENV:SERVER_ID%%\\nport=%%ENV:SERVER_PORT%%\\nuser = mysql\\n\\n!include /etc/mysql/security.cnf\\n!include /etc/mysql/logs.cnf\\n!include /etc/mysql/network.cnf\\n!include /etc/mysql/sharedpool.cnf\\n!include /etc/mysql/optimizer.cnf\\n!include /etc/mysql/rpl_ptr.cnf\\n\\n!includedir /etc/mysql/custom\\n!includedir /etc/mysql/rc.d\\n\\n[sst]\\ncpat='\\\\.system|.*galera\\\\.cache$\\\\|.*sst_in_progress$\\\\|.*grastate\\\\.dat$\\\\|.*\\\\.err$\\\\|.*\\\\.log$\\\\|.*RPM_UPGRADE_MARKER$\\\\|.*RPM_UPGRADE_HISTORY$\\\\|.*\\\\.xyz$'\"}",
                    "var_updated": "2017-10-12 05:24:54",
                    "var_name": "db_cnf_server",
                    "id": 5884
                },
                {
                    "var_author": " Manager",
                    "var_class": "file",
                    "var_value": "{\"path\":\"%%ENV:SVC_CONF_ENV_BASE_DIR%%/%%ENV:POD%%/etc/mysql/ssl.cnf\",\"mode\":\"%%ENV:CNF_PERMS%%\",\"uid\":\"%%ENV:MYSQL_UID%%\",\"gid\":\"%%ENV:MYSQL_GID%%\",\"fmt\":\"[mysqld]\\nssl\\nssl-ca=/etc/mysql/ssl/ca-cert.pem\\nssl-cert=/etc/mysql/ssl/server-cert.pem\\nssl-key=/etc/mysql/ssl/server-key.pem\"}",
                    "var_updated": "2017-12-11 13:49:15",
                    "var_name": "db_cnf_ssl",
                    "id": 5971
                }
            ],
            "ruleset_public": false,
            "ruleset_type": "contextual",
            "rulesets": [
                "mariadb.svc.mrm.db.cnf.docker.ssl"
            ],
            "publications": [
                "replication-manager"
            ],
            "id": 997,
            "responsibles": [
                "replication-manager"
            ]
        },
        {
            "fset_name": "mariadb.svc.prov.pkg",
            "ruleset_name": "mariadb.svc.mrm.db.cnf.package",
            "variables": [
                {
                    "var_author": " Manager",
                    "var_class": "file",
                    "var_value": "{\"path\":\"%%ENV:SVC_CONF_ENV_BASE_DIR%%/%%ENV:POD%%/etc/mysql/my.cnf\",\"mode\":\"%%ENV:CNF_PERMS%%\",\"uid\":\"%%ENV:MYSQL_UID%%\",\"gid\":\"%%ENV:MYSQL_GID%%\",\"fmt\":\"[mariadb]\\nignore_db_dirs=.system\\n!include ../etc/mysql/aria.cnf\\n[mysqld]\\n\\nserver_id = %%ENV:SERVER_ID%%\\nport=%%ENV:SERVER_PORT%%\\nuser = mysql\\n!include ../etc/mysql/security.cnf\\n!include ../etc/mysql/logs.cnf\\n!include ../etc/mysql/network.cnf\\n!include ../etc/mysql/sharedpool.cnf\\n!include ../etc/mysql/optimizer.cnf\\n!include ../etc/mysql/rpl_ptr.cnf\\n\\n\\n!includedir ../etc/mysql/custom\\n!includedir ../etc/mysql/rc.d\\n\\n\\n\"}",
                    "var_updated": "2017-10-12 05:25:21",
                    "var_name": "db_cnf_server",
                    "id": 5885
                },
                {
                    "var_author": " Manager",
                    "var_class": "file",
                    "var_value": "{\"path\":\"%%ENV:SVC_CONF_ENV_BASE_DIR%%/%%ENV:POD%%/etc/mysql/ssl.cnf\",\"mode\":\"%%ENV:CNF_PERMS%%\",\"uid\":\"%%ENV:MYSQL_UID%%\",\"gid\":\"%%ENV:MYSQL_GID%%\",\"fmt\":\"[mysqld]\\nssl\\nssl-ca=../etc/mysql/ssl/ca-cert.pem\\nssl-cert=../etc/mysql/ssl/server-cert.pem\\nssl-key=../etc/mysql/ssl/server-key.pem\"}",
                    "var_updated": "2017-12-11 13:51:52",
                    "var_name": "db_cnf_ssl",
                    "id": 5974
                }
            ],
            "ruleset_public": false,
            "ruleset_type": "contextual",
            "rulesets": [
                "mariadb.svc.mrm.db.cnf.package.ssl"
            ],
            "publications": [
                "replication-manager"
            ],
            "id": 998,
            "responsibles": [
                "replication-manager"
            ]
        },
        {
            "fset_name": null,
            "ruleset_name": "mariadb.svc.mrm.db.cnf.generic",
            "variables": [
                {
                    "var_author": " Manager",
                    "var_class": "file",
                    "var_value": "{\"path\":\"%%ENV:SVC_CONF_ENV_BASE_DIR%%/%%ENV:POD%%/etc/mysql/wsrep.cnf\",\"mode\":\"%%ENV:CNF_PERMS%%\",\"uid\":\"%%ENV:MYSQL_UID%%\",\"gid\":\"%%ENV:MYSQL_GID%%\",\"fmt\":\"[mysqld]\\nbind-address=%%ENV:SERVER_IP%%\\nlog_error=mysqld.err\\n[galera]\\n##\\n## WSREP options\\n##\\nwsrep_on=ON\\n\\n# Full path to wsrep provider library or 'none'\\nwsrep_provider=/usr/lib/libgalera_smm.so\\n\\n# wsrep_node_address=%%ENV:SERVER_IP%%:4567\\n\\n# Provider specific configuration options\\nwsrep_provider_options=\\\"gcache.size=128M; gmcast.segment=0\\\"\\n\\n# Logical cluster name. Should be the same for all nodes.\\nwsrep_cluster_name=\\\"mariadb_poc_cluster\\\"\\n\\n# Group communication system handle\\nwsrep_cluster_address=gcomm://%%ENV:SVC_CONF_ENV_GCOMM%%\\n\\n\\n\\n# Human_readable node name (non-unique). Hostname by default.\\n#wsrep_node_name=\\n\\n# Address for incoming client connections. Autodetect by default.\\nwsrep_node_incoming_address=%%ENV:SERVER_IP%%:%%ENV:SERVER_PORT%%\\n\\n# How many threads will process writesets from other nodes\\nwsrep_slave_threads=%%ENV:SVC_CONF_ENV_MAX_CORES%%\\n\\n# DBUG options for wsrep provider\\n#wsrep_dbug_option\\n\\n# Generate fake primary keys for non-PK tables (required for multi-master\\n# and parallel applying   svar  operation)\\nwsrep_certify_nonPK=1\\n\\n\\n\\n# Maximum number of rows in write set\\nwsrep_max_ws_rows=131072\\n\\n# Maximum size of write set\\nwsrep_max_ws_size=1073741824\\n\\n# to enable debug level logging, set this to 1\\nwsrep_debug=0\\n\\n# convert locking sessions into transactions\\nwsrep_convert_LOCK_to_trx=0\\n\\n# how many times to retry deadlocked autocommits\\nwsrep_retry_autocommit=10\\n\\n# change auto_increment_increment and auto_increment_offset automatically\\nwsrep_auto_increment_control=0\\n\\n# replicate myisam\\nwsrep_replicate_myisam=1\\n# retry autoinc insert, which failed for duplicate key error\\nwsrep_drupal_282555_workaround=1\\n\\n# enable \\\"strictly synchronous\\\" semantics for read operations\\n#wsrep_causal_reads=0\\nwsrep_causal_reads=1\\n\\n# Command to call when node status or cluster membership changes.\\n# Will be passed all or some of the following options:\\n# --status  - new status of this node\\n# --uuid    - UUID of the cluster\\n# --primary - whether the component is primary or not (\\\"yes\\\"/\\\"no\\\")\\n# --members - comma-separated list of members\\n# --index   - index of this node in the list\\n#wsrep_notify_cmd=\\n\\n##\\n## WSREP State Transfer options\\n##\\n# State Snapshot Transfer method\\n\\n\\n#wsrep_sst_donor= \\n#wsrep_sst_method=xtrabackup-v2\\n#wsrep_sst_method=rsync\\nwsrep_sst_method=mysqldump\\nwsrep_sst_auth=root:%%ENV:SVC_CONF_ENV_MYSQL_ROOT_PASSWORD%%\\n\\n# wsrep_sst_receive_address=%%ENV:SERVER_IP%%\\n# Location of the directory with data files. Needed for non-mysqldump\\n# state snapshot transfers. Defaults to mysql_real_data_home.\\nwsrep_data_home_dir=/var/lib/mysql\\n\\n[xtrabackup]\\nparallel=4\\n\"}",
                    "var_updated": "2017-10-12 06:06:40",
                    "var_name": "db_cnf_wsrep",
                    "id": 5886
                },
                {
                    "var_author": "replication-manager replication-manager@localhost.localdomain",
                    "var_class": "file",
                    "var_value": "{\"path\":\"%%ENV:SVC_CONF_ENV_BASE_DIR%%/%%ENV:POD%%/etc/mysql/tokudb.cnf\",\"mode\":\"%%ENV:CNF_PERMS%%\",\"uid\":\"%%ENV:MYSQL_UID%%\",\"gid\":\"%%ENV:MYSQL_GID%%\",\"fmt\":\"[mysqld]\\nplugin_load_add=ha_tokudb\\nloose_tokudb_cache_size=128M\\nloose_tokudb_prelock_empty=0\"}",
                    "var_updated": "2017-08-28 13:38:28",
                    "var_name": "db_cnf_tokudb",
                    "id": 5887
                },
                {
                    "var_author": "replication-manager replication-manager@localhost.localdomain",
                    "var_class": "file",
                    "var_value": "{\"path\":\"%%ENV:SVC_CONF_ENV_BASE_DIR%%/%%ENV:POD%%/etc/mysql/threadpool.cnf\",\"mode\":\"%%ENV:CNF_PERMS%%\",\"uid\":\"%%ENV:MYSQL_UID%%\",\"gid\":\"%%ENV:MYSQL_GID%%\",\"fmt\":\"# THREAD POOL\\n# ----------- \\n\\n[mariadb]\\n\\nthread_handling = pool-of-threads\\nextra_port = 3307\\nextra_max_connections = 10\"}",
                    "var_updated": "2017-08-28 13:38:28",
                    "var_name": "db_cnf_thread_pool",
                    "id": 5888
                },
                {
                    "var_author": "replication-manager replication-manager@localhost.localdomain",
                    "var_class": "file",
                    "var_value": "{\"path\":\"%%ENV:SVC_CONF_ENV_BASE_DIR%%/%%ENV:POD%%/etc/mysql/spider.cnf\",\"mode\":\"%%ENV:CNF_PERMS%%\",\"uid\":\"%%ENV:MYSQL_UID%%\",\"gid\":\"%%ENV:MYSQL_GID%%\",\"fmt\":\"[mysqld]\\nloose_spider_auto_increment_mode=1\\nloose_spider_semi_table_lock  = 0\\nloose_spider_support_xa=0\\nloose_spider_direct_dup_insert = 1\\nloose_spider_remote_sql_log_off=1\\nloose_spider_casual_read=0\\nloose_spider_bka_mode = 0\\nloose_spider_quick_mode=3 \\nloose_spider_quick_page_size=1000\\nloose_spider_sync_trx_isolation=1\\nloose_spider_sync_autocommit=1\\n\\nloose_spider_sts_sync=1\\nloose_spider_sts_bg_mode=0\\nloose_spider_sts_mode=1 \\nloose_spider_sts_interval=3600\\n#show table  \\n\\n\\nloose_spider_reset_sql_alloc=1\\nloose_spider_bgs_mode=0\\nloose_spider_use_pushdown_udf=0\\n\\nloose_spider_crd_mode=1\\nloose_spider_crd_sync=1\\nloose_spider_crd_bg_mode=0\\nloose_spider_crd_interval=3600\\n\\nloose_spider_connect_mutex = 0\\nloose_spider_conn_recycle_mode=0\\nloose_spider_conn_recycle_strict = 0\\nloose_spider_local_lock_table=0\\nloose_spider_connect_retry_count = 10   \\nloose_spider_connect_retry_interval = 1000 \\n\\npartition_skip_pk_sort_for_non_clustered_pk_table=1\"}",
                    "var_updated": "2017-08-28 13:38:28",
                    "var_name": "db_cnf_spider",
                    "id": 5889
                },
                {
                    "var_author": " Manager",
                    "var_class": "file",
                    "var_value": "{\"path\":\"%%ENV:SVC_CONF_ENV_BASE_DIR%%/%%ENV:POD%%/etc/mysql/sharedpool.cnf\",\"mode\":\"%%ENV:CNF_PERMS%%\",\"uid\":\"%%ENV:MYSQL_UID%%\",\"gid\":\"%%ENV:MYSQL_GID%%\",\"fmt\":\"[mariadb]\\njoin_buffer_space_limit = 1G\\njoin_cache_level = 6\\nmrr_buffer_size = 96M\\n\\n[mysqld]\\n# SQL \\n# --- \\n\\nopen_files_limit = 65000\\ntmp_table_size = 256M\\nmax_heap_table_size = 256M\\nkey_buffer_size = 1000M\\ntable_open_cache = 1024\\ntable_definition_cache = 1024\\nmax_allowed_packet = 512M\\nsort_buffer_size = 1M\\nread_buffer_size = 256K\\njoin_buffer_size = 128M\\n\\n\"}",
                    "var_updated": "2017-10-11 12:12:48",
                    "var_name": "db_cnf_sharedpool",
                    "id": 5890
                },
                {
                    "var_author": " Manager",
                    "var_class": "file",
                    "var_value": "{\"path\":\"%%ENV:SVC_CONF_ENV_BASE_DIR%%/%%ENV:POD%%/etc/mysql/security.cnf\",\"mode\":\"%%ENV:CNF_PERMS%%\",\"uid\":\"%%ENV:MYSQL_UID%%\",\"gid\":\"%%ENV:MYSQL_GID%%\",\"fmt\":\"# SECURITY\\n# --------\\n\\n[mysqld]\\n# Disabling symbolic-links is recommended to prevent assorted security risks\\n# symbolic-links = 0\\nsysdate_is_now = 1\\nconnect_timeout = 10\\n// Can't be used with docker overlay\\n//bind-address = %%ENV:SERVER_IP%%\\nsql_mode = NO_ENGINE_SUBSTITUTION,STRICT_TRANS_TABLES,NO_AUTO_CREATE_USER\\nlocal_infile = 0\\nmax_connect_errors = 1000000\\n# pam_use_cleartext_plugin = ON \\n# secure_auth = 1\\nskip_show_database = 1\"}",
                    "var_updated": "2018-04-09 08:57:37",
                    "var_name": "db_cnf_security",
                    "id": 5891
                },
                {
                    "var_author": "replication-manager replication-manager@localhost.localdomain",
                    "var_class": "file",
                    "var_value": "{\"path\":\"%%ENV:SVC_CONF_ENV_BASE_DIR%%/%%ENV:POD%%/etc/mysql/semisync.cnf\",\"mode\":\"%%ENV:CNF_PERMS%%\",\"uid\":\"%%ENV:MYSQL_UID%%\",\"gid\":\"%%ENV:MYSQL_GID%%\",\"fmt\":\"\\n[mysqld]\\n\\nplugin_load_add =\\\"semisync_master.so\\\"\\nplugin_load_add =\\\"semisync_slave.so\\\"\\n\\nloose_rpl_semi_sync_master = ON\\nloose_rpl_semi_sync_slave = ON\\nloose_rpl_semi_sync_master_enabled = ON\\nloose_rpl_semi_sync_slave_enabled = ON\\n\\n\\n\"}",
                    "var_updated": "2017-08-28 13:38:28",
                    "var_name": "db_cnf_rpl_semisync",
                    "id": 5892
                },
                {
                    "var_author": " Manager",
                    "var_class": "file",
                    "var_value": "{\"path\":\"%%ENV:SVC_CONF_ENV_BASE_DIR%%/%%ENV:POD%%/etc/mysql/optimizer.cnf\",\"mode\":\"%%ENV:CNF_PERMS%%\",\"uid\":\"%%ENV:MYSQL_UID%%\",\"gid\":\"%%ENV:MYSQL_GID%%\",\"fmt\":\"#[mariadb 10.4]\\n#max_prepared_stmt_count=200000\\n\\n[mariadb]\\noptimizer_search_depth = 0\\njoin_cache_level = 6\\noptimizer_switch ='extended_keys=off'\\noptimizer_switch ='index_condition_pushdown=on'\\noptimizer_switch ='engine_condition_pushdown=on'\\noptimizer_switch ='derived_merge=on'\\noptimizer_switch ='derived_with_keys=on'\\noptimizer_switch ='firstmatch=off'\\noptimizer_switch ='loosescan=off'\\noptimizer_switch ='materialization=on'\\noptimizer_switch ='in_to_exists=on'\\noptimizer_switch ='semijoin=on'\\noptimizer_switch ='partial_match_rowid_merge=on'\\noptimizer_switch ='partial_match_table_scan=on'\\noptimizer_switch ='subquery_cache=off'\\noptimizer_switch ='mrr=on'\\noptimizer_switch ='mrr_cost_based=off'\\noptimizer_switch ='mrr_sort_keys=on'\\noptimizer_switch ='outer_join_with_cache=on'\\noptimizer_switch ='semijoin_with_cache=off'\\noptimizer_switch ='join_cache_incremental=on'\\noptimizer_switch ='join_cache_hashed=on'\\noptimizer_switch ='join_cache_bka=on'\\noptimizer_switch ='optimize_join_buffer_size=on'\\noptimizer_switch ='table_elimination=on'\\n\\n[MariaDB 10.1.16] \\noptimizer_switch='orderby_uses_equalities=on'\"}",
                    "var_updated": "2018-04-03 12:41:55",
                    "var_name": "db_cnf_optimizer",
                    "id": 5893
                },
                {
                    "var_author": "replication-manager replication-manager@localhost.localdomain",
                    "var_class": "file",
                    "var_value": "{\"path\":\"%%ENV:SVC_CONF_ENV_BASE_DIR%%/%%ENV:POD%%/etc/mysql/noquerycache.cnf\",\"mode\":\"%%ENV:CNF_PERMS%%\",\"uid\":\"%%ENV:MYSQL_UID%%\",\"gid\":\"%%ENV:MYSQL_GID%%\",\"fmt\":\"# QUERY CACHE\\n# -----------\\n\\n[mysqld]\\n#query_cache_limit = 2M\\nquery_cache_size = 0\\nquery_cache_type = 0\"}",
                    "var_updated": "2017-08-28 13:38:28",
                    "var_name": "db_cnf_noquerycache",
                    "id": 5894
                },
                {
                    "var_author": " Manager",
                    "var_class": "file",
                    "var_value": "{\"path\":\"%%ENV:SVC_CONF_ENV_BASE_DIR%%/%%ENV:POD%%/etc/mysql/network.cnf\",\"mode\":\"%%ENV:CNF_PERMS%%\",\"uid\":\"%%ENV:MYSQL_UID%%\",\"gid\":\"%%ENV:MYSQL_GID%%\",\"fmt\":\"# NETWORK\\n# ------- \\n\\n[mysqld]\\n\\nmax_connections = 500\\nmax_user_connections = 450\\nthread_cache_size = 32\\nback_log = 128 \\nskip_name_resolve = 1\\nmax_allowed_packet = 512M\\n\"}",
                    "var_updated": "2017-10-12 05:24:32",
                    "var_name": "db_cnf_network",
                    "id": 5895
                },
                {
                    "var_author": " Manager",
                    "var_class": "file",
                    "var_value": "{\"path\":\"%%ENV:SVC_CONF_ENV_BASE_DIR%%/%%ENV:POD%%/etc/mysql/logs.cnf\",\"mode\":\"%%ENV:CNF_PERMS%%\",\"uid\":\"%%ENV:MYSQL_UID%%\",\"gid\":\"%%ENV:MYSQL_GID%%\",\"fmt\":\"# LOGS\\n# ---- \\n\\n[mariadb]\\nplugin_load_add =\\\"metadata_lock_info.so\\\"\\n\\n[mysqld]\\n\\ninnodb_print_all_deadlocks = 1\\nlog_warnings = 2 \\n\\n\\n\\n\"}",
                    "var_updated": "2017-10-11 12:55:35",
                    "var_name": "db_cnf_logs",
                    "id": 5896
                },
                {
                    "var_author": " Manager",
                    "var_class": "file",
                    "var_value": "{\"path\":\"%%ENV:SVC_CONF_ENV_BASE_DIR%%/%%ENV:POD%%/etc/mysql/innodb.cnf\",\"mode\":\"%%ENV:CNF_PERMS%%\",\"uid\":\"%%ENV:MYSQL_UID%%\",\"gid\":\"%%ENV:MYSQL_GID%%\",\"fmt\":\"# INNODB\\n# ------ \\n[mariadb]\\n#innodb_buffer_pool_populate=0 \\n \\n[mariadb 10.1]\\ninnodb_force_primary_key = 1\\ninnodb_default_row_format=dynamic\\n#innodb_defragment = 1\\n\\n[mariadb 10.2]\\ninnodb_lock_schedule_algorithm=fcfs\\n\\n[mariadb 10.3]\\ninnodb-page-cleaners= %%ENV:NODES_CPU_CORES%%\\n\\n[mysqld]\\ntransaction-isolation=READ-COMMITTED\\ndefault_storage_engine = InnoDB\\ninnodb_adaptive_hash_index = 0\\ninnodb_buffer_pool_size = %%ENV:SVC_CONF_ENV_MAX_MEM%%M\\ninnodb_buffer_pool_instances = %%ENV:IBPINSTANCES%%\\ninnodb_file_per_table=1\\ninnodb_read_io_threads = %%ENV:NODES_CPU_CORES%%\\ninnodb_write_io_threads = %%ENV:NODES_CPU_CORES%%\\ninnodb_io_capacity = %%ENV:CHECKPOINTIOPS%%\\ninnodb_io_capacity_max = %%ENV:SVC_CONF_ENV_MAX_IOPS%%\\ninnodb_max_dirty_pages_pct = 10\\ninnodb_flush_neighbors = 1\\ninnodb_log_file_size = 1024M\\n# Crash 10.2.14\\n#innodb_log_buffer_size = 256M\\ninnodb_log_files_in_group = 4\\ninnodb_thread_concurrency = 0\\ninnodb_file_format = barracuda\\ninnodb_flush_method = O_DIRECT\\n\\n#innodb_undo_tablespaces = 4\\ninnodb_autoinc_lock_mode = 2\\ninnodb_stats_on_metadata = 0\\ninnodb_buffer_pool_dump_at_shutdown = 1\\ninnodb_buffer_pool_load_at_startup = 1\\ninnodb_open_files = 16384\\ninnodb_purge_threads = 4\\ninnodb_change_buffering=none\\ninnodb_concurrency_tickets =5000\\n\\n\"}",
                    "var_updated": "2018-04-03 14:31:01",
                    "var_name": "db_cnf_innodb",
                    "id": 5897
                },
                {
                    "var_author": "replication-manager replication-manager@localhost.localdomain",
                    "var_class": "file",
                    "var_value": "{\"path\":\"%%ENV:SVC_CONF_ENV_BASE_DIR%%/%%ENV:POD%%/init/start\",\"mode\":755,\"uid\":\"%%ENV:MYSQL_UID%%\",\"gid\":\"%%ENV:MYSQL_GID%%\",\"fmt\":\"#!/bin/bash\\nset -eo pipefail\\nshopt -s nullglob\\nif [ -f %%ENV:SVC_CONF_ENV_BASE_DIR%%/%%ENV:POD%%/init/MYSQL_ROOT_PASSWORD ]; then \\n  . %%ENV:SVC_CONF_ENV_BASE_DIR%%/%%ENV:POD%%/init/MYSQL_ROOT_PASSWORD\\nfi\\n# if command starts with an option, prepend mysqld\\nif [ \\\"${1:0:1}\\\" = '-' ]; then\\n\\tset -- mysqld \\\"$@\\\"\\nfi\\n\\n# skip setup if they want an option that stops mysqld\\nwantHelp=\\nfor arg; do\\n\\tcase \\\"$arg\\\" in\\n\\t\\t-'?'|--help|--print-defaults|-V|--version)\\n\\t\\t\\twantHelp=1\\n\\t\\t\\tbreak\\n\\t\\t\\t;;\\n\\tesac\\ndone\\n\\n# usage: file_env VAR [DEFAULT]\\n#    ie: file_env 'XYZ_DB_PASSWORD' 'example'\\n# (will allow for \\\"$XYZ_DB_PASSWORD_FILE\\\" to fill in the value of\\n#  \\\"$XYZ_DB_PASSWORD\\\" from a file, especially for Docker's secrets feature)\\nfile_env() {\\n\\tlocal var=\\\"$1\\\"\\n\\tlocal fileVar=\\\"${var}_FILE\\\"\\n\\tlocal def=\\\"${2:-}\\\"\\n\\tif [ \\\"${!var:-}\\\" ] && [ \\\"${!fileVar:-}\\\" ]; then\\n\\t\\techo >&2 \\\"error: both $var and $fileVar are set (but are exclusive)\\\"\\n\\t\\texit 1\\n\\tfi\\n\\tlocal val=\\\"$def\\\"\\n\\tif [ \\\"${!var:-}\\\" ]; then\\n\\t\\tval=\\\"${!var}\\\"\\n\\telif [ \\\"${!fileVar:-}\\\" ]; then\\n\\t\\tval=\\\"$(< \\\"${!fileVar}\\\")\\\"\\n\\tfi\\n\\texport \\\"$var\\\"=\\\"$val\\\"\\n\\tunset \\\"$fileVar\\\"\\n}\\n\\n_check_config() {\\n\\ttoRun=( \\\"$@\\\" --verbose --help --log-bin-index=\\\"$(mktemp -u)\\\" )\\n\\tif ! errors=\\\"$(\\\"${toRun[@]}\\\" 2>&1 >/dev/null)\\\"; then\\n\\t\\tcat >&2 <<-EOM\\n\\n\\t\\t\\tERROR: mysqld failed while attempting to check config\\n\\t\\t\\tcommand was: \\\"${toRun[*]}\\\"\\n\\n\\t\\t\\t$errors\\n\\t\\tEOM\\n\\t\\texit 1\\n\\tfi\\n}\\n\\n_datadir() {\\n\\t\\\"$@\\\" --verbose --help --log-bin-index=\\\"$(mktemp -u)\\\" 2>/dev/null | awk '$1 == \\\"datadir\\\" { print $2; exit }'\\n}\\n\\n# allow the container to be started with `--user`\\nif [ \\\"$1\\\" = 'mysqld' -a -z \\\"$wantHelp\\\" -a \\\"$(id -u)\\\" = '0' ]; then\\n\\t_check_config \\\"$@\\\"\\n\\tDATADIR=\\\"%%ENV:SVC_CONF_ENV_BASE_DIR%%/%%ENV:POD%%/data\\\"\\n\\tchown -R mysql:mysql \\\"%%ENV:SVC_CONF_ENV_BASE_DIR%%/%%ENV:POD%%/data\\\"\\n\\nfi\\n\\nif [ \\\"$1\\\" = 'mysqld' -a -z \\\"$wantHelp\\\" ]; then\\n\\t# still need to check config, container may have started with --user\\n\\t_check_config \\\"$@\\\"\\n\\t# Get config\\n\\tDATADIR=\\\"%%ENV:SVC_CONF_ENV_BASE_DIR%%/%%ENV:POD%%/data\\\"\\n\\n\\tif [ ! -d \\\"$DATADIR/mysql\\\" ]; then\\n\\t\\tfile_env 'MYSQL_ROOT_PASSWORD'\\n\\t\\tif [ -z \\\"$MYSQL_ROOT_PASSWORD\\\" -a -z \\\"$MYSQL_ALLOW_EMPTY_PASSWORD\\\" -a -z \\\"$MYSQL_RANDOM_ROOT_PASSWORD\\\" ]; then\\n\\t\\t\\techo >&2 'error: database is uninitialized and password option is not specified '\\n\\t\\t\\techo >&2 '  You need to specify one of MYSQL_ROOT_PASSWORD, MYSQL_ALLOW_EMPTY_PASSWORD and MYSQL_RANDOM_ROOT_PASSWORD'\\n\\t\\t\\texit 1\\n\\t\\tfi\\n\\n\\t\\tmkdir -p \\\"$DATADIR\\\"\\n\\n\\t\\techo 'Initializing database'\\n\\t\\tmysql_install_db --defaults-file=\\\"$DATADIR/../etc/mysql/my.cnf\\\" --datadir=\\\"$DATADIR\\\" --rpm\\n\\t\\techo 'Database initialized'\\n\\n\\t\\t \\\"$@\\\" --datadir=\\\"$DATADIR\\\" --socket=\\\"$DATADIR/.system/mysqld.sock\\\" &\\n\\t\\tpid=\\\"$!\\\"\\n\\n\\t\\tmysql=( mysql --protocol=socket -uroot -hlocalhost --socket=\\\"$DATADIR/.system/mysqld.sock\\\" )\\n\\n\\t\\tfor i in {30..0}; do\\n\\t\\t\\tif echo 'SELECT 1' | mysql --protocol=socket -uroot -hlocalhost --socket=\\\"$DATADIR/.system/mysqld.sock\\\" &> /dev/null; then\\n\\t\\t\\t\\tbreak\\n\\t\\t\\tfi\\n\\t\\t\\techo 'MySQL init process in progress...'\\n\\t\\t\\tsleep 1\\n\\t\\tdone\\n\\t\\tif [ \\\"$i\\\" = 0 ]; then\\n\\t\\t\\techo >&2 'MySQL init process failed.'\\n\\t\\t\\texit 1\\n\\t\\tfi\\n\\n\\t\\n\\t\\tif [ ! -z \\\"$MYSQL_RANDOM_ROOT_PASSWORD\\\" ]; then\\n\\t\\t\\texport MYSQL_ROOT_PASSWORD=\\\"$(pwgen -1 32)\\\"\\n\\t\\t\\techo \\\"GENERATED ROOT PASSWORD: $MYSQL_ROOT_PASSWORD\\\"\\n\\t\\tfi\\n\\t\\t\\\"${mysql[@]}\\\" <<-EOSQL\\n\\t\\t\\t-- What's done in this file shouldn't be replicated\\n\\t\\t\\t--  or products like mysql-fabric won't work\\n\\t\\t\\tSET @@SESSION.SQL_LOG_BIN=0;\\n\\n\\t\\t\\tDELETE FROM mysql.user ;\\n\\t\\t\\tCREATE USER 'root'@'%' IDENTIFIED BY '${MYSQL_ROOT_PASSWORD}' ;\\n\\t\\t\\tGRANT ALL ON *.* TO 'root'@'%' WITH GRANT OPTION ;\\n\\t\\t\\tDROP DATABASE IF EXISTS test ;\\n\\t\\t\\tFLUSH PRIVILEGES ;\\n\\t\\tEOSQL\\n\\n\\t\\tif [ ! -z \\\"$MYSQL_ROOT_PASSWORD\\\" ]; then\\n\\t\\t\\tmysql+=( -p\\\"${MYSQL_ROOT_PASSWORD}\\\" )\\n\\t\\tfi\\n\\n\\t\\tfile_env 'MYSQL_DATABASE'\\n\\t\\tif [ \\\"$MYSQL_DATABASE\\\" ]; then\\n\\t\\t\\techo \\\"CREATE DATABASE IF NOT EXISTS \\\\`$MYSQL_DATABASE\\\\` ;\\\" | \\\"${mysql[@]}\\\"\\n\\t\\t\\tmysql+=( \\\"$MYSQL_DATABASE\\\" )\\n\\t\\tfi\\n\\n\\t\\tfile_env 'MYSQL_USER'\\n\\t\\tfile_env 'MYSQL_PASSWORD'\\n\\t\\tif [ \\\"$MYSQL_USER\\\" -a \\\"$MYSQL_PASSWORD\\\" ]; then\\n\\t\\t\\techo \\\"CREATE USER '$MYSQL_USER'@'%' IDENTIFIED BY '$MYSQL_PASSWORD' ;\\\" | \\\"${mysql[@]}\\\"\\n\\n\\t\\t\\tif [ \\\"$MYSQL_DATABASE\\\" ]; then\\n\\t\\t\\t\\techo \\\"GRANT ALL ON \\\\`$MYSQL_DATABASE\\\\`.* TO '$MYSQL_USER'@'%' ;\\\" | \\\"${mysql[@]}\\\"\\n\\t\\t\\tfi\\n\\n\\t\\t\\techo 'FLUSH PRIVILEGES ;' | \\\"${mysql[@]}\\\"\\n\\t\\tfi\\n\\n\\t\\techo\\n\\t\\tfor f in /docker-entrypoint-initdb.d/*; do\\n\\t\\t\\tcase \\\"$f\\\" in\\n\\t\\t\\t\\t*.sh)     echo \\\"$0: running $f\\\"; . \\\"$f\\\" ;;\\n\\t\\t\\t\\t*.sql)    echo \\\"$0: running $f\\\"; \\\"${mysql[@]}\\\" < \\\"$f\\\"; echo ;;\\n\\t\\t\\t\\t*.sql.gz) echo \\\"$0: running $f\\\"; gunzip -c \\\"$f\\\" | \\\"${mysql[@]}\\\"; echo ;;\\n\\t\\t\\t\\t*)        echo \\\"$0: ignoring $f\\\" ;;\\n\\t\\t\\tesac\\n\\t\\t\\techo\\n\\t\\tdone\\n\\n\\t\\tif ! kill -s TERM \\\"$pid\\\" || ! wait \\\"$pid\\\"; then\\n\\t\\t\\techo >&2 'MySQL init process failed.'\\n\\t\\t\\texit 1\\n\\t\\tfi\\n\\n\\t\\techo\\n\\t\\techo 'MySQL init process done. Ready for start up.'\\n\\t\\techo\\n\\tfi\\nfi\\n\\nexec \\\"$@\\\" --datadir=\\\"$DATADIR\\\" --socket=\\\"$DATADIR/.system/mysqld.sock\\\" & \"}",
                    "var_updated": "2017-08-28 13:38:28",
                    "var_name": "db_cnf_script_start",
                    "id": 5898
                },
                {
                    "var_author": "replication-manager replication-manager@localhost.localdomain",
                    "var_class": "file",
                    "var_value": "{\"path\":\"%%ENV:SVC_CONF_ENV_BASE_DIR%%/%%ENV:POD%%/init/MYSQL_ROOT_PASSWORD\",\"mode\":\"%%ENV:CNF_PERMS%%\",\"uid\":\"%%ENV:MYSQL_UID%%\",\"gid\":\"%%ENV:MYSQL_GID%%\",\"fmt\":\"export MYSQL_ROOT_PASSWORD=%%ENV:SVC_CONF_ENV_MYSQL_ROOT_PASSWORD%%\"}",
                    "var_updated": "2017-08-28 13:38:28",
                    "var_name": "db_cnf_script_password",
                    "id": 5899
                },
                {
                    "var_author": "replication-manager replication-manager@localhost.localdomain",
                    "var_class": "file",
                    "var_value": "{\"path\":\"%%ENV:SVC_CONF_ENV_BASE_DIR%%/%%ENV:POD%%/init/launcher\",\"mode\":755,\"uid\":\"%%ENV:MYSQL_UID%%\",\"gid\":\"%%ENV:MYSQL_GID%%\",\"fmt\":\"#!/bin/bash\\n\\nBASE_DIR=%%ENV:SVC_CONF_ENV_BASE_DIR%%/%%ENV:POD%%\\n[ -f $BASE_DIR/init/MYSQL_ROOT_PASSWORD ] && . $BASE_DIR/init/MYSQL_ROOT_PASSWORD\\nSERVER_IP=%%ENV:SERVER_IP%%\\nSERVER_PORT=%%ENV:SERVER_PORT%%\\nUSER=root\\n\\nfunction _status {\\n        mysqladmin -u $USER -h $SERVER_IP -P $SERVER_PORT -p$MYSQL_ROOT_PASSWORD status\\n}\\n\\nfunction _stop {\\n        mysqladmin -u $USER -h $SERVER_IP -P $SERVER_PORT -p$MYSQL_ROOT_PASSWORD shutdown\\n}\\n\\nfunction _start {\\n\\tcd $BASE_DIR/init\\n\\t$BASE_DIR/init/start --defaults-file=$BASE_DIR/etc/mysql/my.cnf\\n}\\n\\ncase $1 in\\nstart)\\n        _status && {\\n                echo \\\"already started\\\"\\n                exit 0\\n        }\\n        _start\\n        ;;\\nstop)\\n        _status || {\\n                echo \\\"already stopped\\\"\\n                exit 0\\n        }\\n        _stop\\n        ;;\\nstatus)\\n        _status\\n        exit $?\\n        ;;\\ninfo)\\n        ;;\\nesac\\n\\n\"}",
                    "var_updated": "2017-08-28 13:38:28",
                    "var_name": "db_cnf_script_launcher",
                    "id": 5900
                },
                {
                    "var_author": "replication-manager replication-manager@localhost.localdomain",
                    "var_class": "fileprop",
                    "var_value": "{\"path\":\"%%ENV:SVC_CONF_ENV_BASE_DIR%%/%%ENV:POD%%/init/\",\"mode\":\"%%ENV:BINDED_DIR_PERMS%%\",\"uid\":\"%%ENV:MYSQL_UID%%\",\"gid\":\"%%ENV:MYSQL_GID%%\"}",
                    "var_updated": "2017-08-28 13:38:28",
                    "var_name": "db_cnf_dir_init",
                    "id": 5901
                },
                {
                    "var_author": "replication-manager replication-manager@localhost.localdomain",
                    "var_class": "fileprop",
                    "var_value": "{\"path\":\"%%ENV:SVC_CONF_ENV_BASE_DIR%%/%%ENV:POD%%/data/.system/tokudb/\",\"mode\":\"%%ENV:BINDED_DIR_PERMS%%\",\"uid\":\"%%ENV:MYSQL_UID%%\",\"gid\":\"%%ENV:MYSQL_GID%%\"}",
                    "var_updated": "2017-08-28 13:38:28",
                    "var_name": "db_cnf_dir_data_system_tokudb",
                    "id": 5902
                },
                {
                    "var_author": "replication-manager replication-manager@localhost.localdomain",
                    "var_class": "fileprop",
                    "var_value": "{\"path\":\"%%ENV:SVC_CONF_ENV_BASE_DIR%%/%%ENV:POD%%/data/.system/tmp/\",\"mode\":\"%%ENV:BINDED_DIR_PERMS%%\",\"uid\":\"%%ENV:MYSQL_UID%%\",\"gid\":\"%%ENV:MYSQL_GID%%\"}",
                    "var_updated": "2017-08-28 13:38:28",
                    "var_name": "db_cnf_dir_data_system_tmp",
                    "id": 5903
                },
                {
                    "var_author": "replication-manager replication-manager@localhost.localdomain",
                    "var_class": "fileprop",
                    "var_value": "{\"path\":\"%%ENV:SVC_CONF_ENV_BASE_DIR%%/%%ENV:POD%%/data/.system/repl/\",\"mode\":\"%%ENV:BINDED_DIR_PERMS%%\",\"uid\":\"%%ENV:MYSQL_UID%%\",\"gid\":\"%%ENV:MYSQL_GID%%\"}",
                    "var_updated": "2017-08-28 13:38:28",
                    "var_name": "db_cnf_dir_data_system_repl",
                    "id": 5904
                },
                {
                    "var_author": "replication-manager replication-manager@localhost.localdomain",
                    "var_class": "fileprop",
                    "var_value": "{\"path\":\"%%ENV:SVC_CONF_ENV_BASE_DIR%%/%%ENV:POD%%/data/.system/logs/\",\"mode\":\"%%ENV:BINDED_DIR_PERMS%%\",\"uid\":\"%%ENV:MYSQL_UID%%\",\"gid\":\"%%ENV:MYSQL_GID%%\"}",
                    "var_updated": "2017-08-28 13:38:28",
                    "var_name": "db_cnf_dir_data_system_logs",
                    "id": 5905
                },
                {
                    "var_author": "replication-manager replication-manager@localhost.localdomain",
                    "var_class": "fileprop",
                    "var_value": "{\"path\":\"%%ENV:SVC_CONF_ENV_BASE_DIR%%/%%ENV:POD%%/data/.system/innodb/undo/\",\"mode\":\"%%ENV:BINDED_DIR_PERMS%%\",\"uid\":\"%%ENV:MYSQL_UID%%\",\"gid\":\"%%ENV:MYSQL_GID%%\"}",
                    "var_updated": "2017-08-28 13:38:28",
                    "var_name": "db_cnf_dir_data_system_innodb_undo",
                    "id": 5906
                },
                {
                    "var_author": "replication-manager replication-manager@localhost.localdomain",
                    "var_class": "fileprop",
                    "var_value": "{\"path\":\"%%ENV:SVC_CONF_ENV_BASE_DIR%%/%%ENV:POD%%/data/.system/innodb/redo/\",\"mode\":\"%%ENV:BINDED_DIR_PERMS%%\",\"uid\":\"%%ENV:MYSQL_UID%%\",\"gid\":\"%%ENV:MYSQL_GID%%\"}",
                    "var_updated": "2017-08-28 13:38:28",
                    "var_name": "db_cnf_dir_data_system_innodb_redo",
                    "id": 5907
                },
                {
                    "var_author": "replication-manager replication-manager@localhost.localdomain",
                    "var_class": "fileprop",
                    "var_value": "{\"path\":\"%%ENV:SVC_CONF_ENV_BASE_DIR%%/%%ENV:POD%%/data/.system/innodb/\",\"mode\":\"%%ENV:BINDED_DIR_PERMS%%\",\"uid\":\"%%ENV:MYSQL_UID%%\",\"gid\":\"%%ENV:MYSQL_GID%%\"}",
                    "var_updated": "2017-08-28 13:38:28",
                    "var_name": "db_cnf_dir_data_system_innodb",
                    "id": 5908
                },
                {
                    "var_author": "replication-manager replication-manager@localhost.localdomain",
                    "var_class": "file",
                    "var_value": "{\"path\":\"%%ENV:SVC_CONF_ENV_BASE_DIR%%/%%ENV:POD%%/data/.system/aria/\",\"mode\":\"%%ENV:BINDED_DIR_PERMS%%\",\"uid\":\"%%ENV:MYSQL_UID%%\",\"gid\":\"%%ENV:MYSQL_GID%%\"}",
                    "var_updated": "2017-08-28 13:38:28",
                    "var_name": "db_cnf_dir_data_system_aria",
                    "id": 5909
                },
                {
                    "var_author": "replication-manager replication-manager@localhost.localdomain",
                    "var_class": "file",
                    "var_value": "{\"path\":\"%%ENV:SVC_CONF_ENV_BASE_DIR%%/%%ENV:POD%%/data/.system/\",\"mode\":\"%%ENV:BINDED_DIR_PERMS%%\",\"uid\":\"%%ENV:MYSQL_UID%%\",\"gid\":\"%%ENV:MYSQL_GID%%\"}",
                    "var_updated": "2017-08-28 13:38:28",
                    "var_name": "db_cnf_dir_data_system",
                    "id": 5910
                },
                {
                    "var_author": "replication-manager replication-manager@localhost.localdomain",
                    "var_class": "file",
                    "var_value": "{\"path\":\"%%ENV:SVC_CONF_ENV_BASE_DIR%%/%%ENV:POD%%/data/\",\"mode\":\"%%ENV:BINDED_DIR_PERMS%%\",\"uid\":\"%%ENV:MYSQL_UID%%\",\"gid\":\"%%ENV:MYSQL_GID%%\"}",
                    "var_updated": "2017-08-28 13:38:28",
                    "var_name": "db_cnf_dir_data",
                    "id": 5911
                },
                {
                    "var_author": "replication-manager replication-manager@localhost.localdomain",
                    "var_class": "file",
                    "var_value": "{\"path\":\"%%ENV:SVC_CONF_ENV_BASE_DIR%%/%%ENV:POD%%/etc/mysql/custom/\",\"mode\":\"%%ENV:BINDED_DIR_PERMS%%\",\"uid\":\"%%ENV:MYSQL_UID%%\",\"gid\":\"%%ENV:MYSQL_GID%%\"}",
                    "var_updated": "2017-08-28 13:38:28",
                    "var_name": "db_cnf_dir_conf_custom",
                    "id": 5912
                },
                {
                    "var_author": "replication-manager replication-manager@localhost.localdomain",
                    "var_class": "file",
                    "var_value": "{\"path\":\"%%ENV:SVC_CONF_ENV_BASE_DIR%%/%%ENV:POD%%/etc/mysql/\",\"mode\":\"%%ENV:BINDED_DIR_PERMS%%\",\"uid\":\"%%ENV:MYSQL_UID%%\",\"gid\":\"%%ENV:MYSQL_GID%%\"}",
                    "var_updated": "2017-08-28 13:38:28",
                    "var_name": "db_cnf_dir_conf",
                    "id": 5913
                },
                {
                    "var_author": " Manager",
                    "var_class": "file",
                    "var_value": "{\"path\":\"%%ENV:SVC_CONF_ENV_BASE_DIR%%/%%ENV:POD%%/etc/mysql/compressinnodb.cnf\",\"mode\":\"%%ENV:CNF_PERMS%%\",\"uid\":\"%%ENV:MYSQL_UID%%\",\"gid\":\"%%ENV:MYSQL_GID%%\",\"fmt\":\"[mariadb-10.1]\\ninnodb_compression_default=1\\ninnodb_compression_algorithm=bzip2\\ninnodb_use_fallocate = 1\\ninnodb_use_trim = 1\\ninnodb_mtflush_threads = 16\\n\"}",
                    "var_updated": "2017-12-12 08:11:51",
                    "var_name": "db_cnf_compression_innodb",
                    "id": 5914
                },
                {
                    "var_author": " Manager",
                    "var_class": "file",
                    "var_value": "{\"path\":\"%%ENV:SVC_CONF_ENV_BASE_DIR%%/%%ENV:POD%%/etc/mysql/audit.cnf\",\"mode\":\"%%ENV:CNF_PERMS%%\",\"uid\":\"%%ENV:MYSQL_UID%%\",\"gid\":\"%%ENV:MYSQL_GID%%\",\"fmt\":\"### MariaDB Audit Plugin ###\\n\\n[mysqld]\\nserver_audit  = FORCE_PLUS_PERMANENT\\nserver_audit_events = CONNECT,QUERY,TABLE,QUERY_DDL,QUERY_DML\\nserver_audit_logging = ON\\n# server_audit_excl_users = exclude,users,here\\n# server_audit_file_rotate_now = OFF\\n# server_audit_file_rotate_size = 100000\\n# server_audit_file_rotations  = 9\\n# server_audit_incl_users = include,users,here\\nserver_audit_output_type = SYSLOG\\nserver_audit_query_log_limit = 1024\\nserver_audit_syslog_facility = LOG_USER\\nserver_audit_syslog_ident = mysql-server_auditing\\n#server_audit_syslog_infod =\\nserver_audit_syslog_priority = LOG_INFO\"}",
                    "var_updated": "2017-10-11 12:07:29",
                    "var_name": "db_cnf_audit",
                    "id": 5915
                },
                {
                    "var_author": " Manager",
                    "var_class": "file",
                    "var_value": "{\"path\":\"%%ENV:SVC_CONF_ENV_BASE_DIR%%/%%ENV:POD%%/etc/mysql/aria.cnf\",\"mode\":\"%%ENV:CNF_PERMS%%\",\"uid\":\"%%ENV:MYSQL_UID%%\",\"gid\":\"%%ENV:MYSQL_GID%%\",\"fmt\":\"# ARIA\\n# ----\\n\\n[mariadb]\\n\\naria_pagecache_buffer_size = 256M\\naria_group_commit = hard\\n#aria_used_for_temp_tables = 1\\naria_pagecache_file_hash_size = 1024\\n\"}",
                    "var_updated": "2017-10-11 12:04:31",
                    "var_name": "db_cnf_aria",
                    "id": 5916
                },
                {
                    "var_author": "replication-manager replication-manager@localhost.localdomain",
                    "var_class": "file",
                    "var_value": "{\"path\":\"%%ENV:SVC_CONF_ENV_BASE_DIR%%/%%ENV:POD%%/etc/mysql/myrock.cnf\",\"mode\":\"%%ENV:CNF_PERMS%%\",\"uid\":\"%%ENV:MYSQL_UID%%\",\"gid\":\"%%ENV:MYSQL_GID%%\",\"fmt\":\"[mariadb-10.2]\\nplugin-load-add=ha_rocksdb.so\\nrocksdb_max_open_files=-1\\nrocksdb_base_background_compactions=1\\nrocksdb_max_background_compactions=8\\nrocksdb_max_total_wal_size=4G\\nrocksdb_max_background_flushes=4\\nrocksdb_block_size=16384\\nrocksdb_block_cache_size=256M\\nrocksdb_table_cache_numshardbits=6\\n\\n# rate limiter\\nrocksdb_bytes_per_sync=4194304\\nrocksdb_wal_bytes_per_sync=4194304\\nrocksdb_rate_limiter_bytes_per_sec=104857600 #100MB/s\\n\\n# triggering compaction if there are many sequential deletes\\nrocksdb_compaction_sequential_deletes_count_sd=1\\nrocksdb_compaction_sequential_deletes=199999\\nrocksdb_compaction_sequential_deletes_window=200000\\n\\n# read free replication\\n#rocksdb_rpl_lookup_rows=0\\n\\nrocksdb_default_cf_options=write_buffer_size=128m;target_file_size_base=32m;max_bytes_for_level_base=512m;level0_file_num_compaction_trigger=4;level0_slowdown_writes_trigger=10;level0_stop_writes_trigger=15;max_write_buffer_number=4;compression_per_level=kLZ4Compression;bottommost_compression=kZSTD;compression_opts=-14:1:0;block_based_table_factory={cache_index_and_filter_blocks=1;filter_policy=bloomfilter:10:false;whole_key_filtering=0};level_compaction_dynamic_level_bytes=true;optimize_filters_for_hits=true;memtable_prefix_bloom_size_ratio=0.05;prefix_extractor=capped:12;compaction_pri=kMinOverlappingRatio\\n\\nrocksdb_override_cf_options=cf_link_pk={prefix_extractor=capped:20};rev:cf_link_id1_type={prefix_extractor=capped:20}\\n \\nrocksdb_allow_concurrent_memtable_write=1\\nrocksdb_enable_write_thread_adaptive_yield=1\"}",
                    "var_updated": "2017-08-28 13:38:28",
                    "var_name": "db_cnf_myrocks",
                    "id": 5917
                },
                {
                    "var_author": "replication-manager replication-manager@localhost.localdomain",
                    "var_class": "fileprop",
                    "var_value": "{\"path\":\"%%ENV:SVC_CONF_ENV_BASE_DIR%%/%%ENV:POD%%/etc/mysql/rc.d/\",\"mode\":\"%%ENV:BINDED_DIR_PERMS%%\",\"uid\":\"%%ENV:MYSQL_UID%%\",\"gid\":\"%%ENV:MYSQL_GID%%\"}",
                    "var_updated": "2017-08-28 13:38:28",
                    "var_name": "db_cnf_dir_conf_rc",
                    "id": 5918
                },
                {
                    "var_author": " Manager",
                    "var_class": "file",
                    "var_value": "{\"path\":\"%%ENV:SVC_CONF_ENV_BASE_DIR%%/%%ENV:POD%%/etc/mysql/logslow.cnf\",\"mode\":\"%%ENV:CNF_PERMS%%\",\"uid\":\"%%ENV:MYSQL_UID%%\",\"gid\":\"%%ENV:MYSQL_GID%%\",\"fmt\":\"[mariadb]\\nlog_slow_verbosity=query_plan,explain \\n[mysqld]\\n\\nslow_query_log = 1\\nlog_slow_admin_statements = 1\\nlog_slow_slave_statements = 1\\nlong_query_time = 10\\n\\n\"}",
                    "var_updated": "2017-10-11 12:12:01",
                    "var_name": "db_cnf_logslow",
                    "id": 5919
                },
                {
                    "var_author": " Manager",
                    "var_class": "file",
                    "var_value": "{\"path\":\"%%ENV:SVC_CONF_ENV_BASE_DIR%%/%%ENV:POD%%/etc/mysql/loggeneral.cnf\",\"mode\":\"%%ENV:CNF_PERMS%%\",\"uid\":\"%%ENV:MYSQL_UID%%\",\"gid\":\"%%ENV:MYSQL_GID%%\",\"fmt\":\"[mysqld]\\ngeneral_log=1\\n\\n\"}",
                    "var_updated": "2017-10-11 12:08:41",
                    "var_name": "db_cnf_loggeneral",
                    "id": 5920
                },
                {
                    "var_author": " Manager",
                    "var_class": "file",
                    "var_value": "{\"path\":\"%%ENV:SVC_CONF_ENV_BASE_DIR%%/%%ENV:POD%%/etc/mysql/logsqlerror.cnf\",\"mode\":\"%%ENV:CNF_PERMS%%\",\"uid\":\"%%ENV:MYSQL_UID%%\",\"gid\":\"%%ENV:MYSQL_GID%%\",\"fmt\":\"[mariadb]\\nplugin_load_add =\\\"sql_errlog.so\\\"\\nloose_sql_error_log_rotate = 1\"}",
                    "var_updated": "2017-10-11 12:13:21",
                    "var_name": "db_cnf_logsqlerror",
                    "id": 5921
                },
                {
                    "var_author": " Manager",
                    "var_class": "file",
                    "var_value": "{\"path\":\"%%ENV:SVC_CONF_ENV_BASE_DIR%%/%%ENV:POD%%/etc/mysql/nodoublewrite.cnf\",\"mode\":\"%%ENV:CNF_PERMS%%\",\"uid\":\"%%ENV:MYSQL_UID%%\",\"gid\":\"%%ENV:MYSQL_GID%%\",\"fmt\":\"[mysqld]\\ninnodb_doublewrite=0\\ninnodb_checksum_algorithm = none\"}",
                    "var_updated": "2017-12-14 16:41:00",
                    "var_name": "db_cnf_nodoublewrite",
                    "id": 5922
                },
                {
                    "var_author": " Manager",
                    "var_class": "file",
                    "var_value": "{\"path\":\"%%ENV:SVC_CONF_ENV_BASE_DIR%%/%%ENV:POD%%/etc/mysql/rpl_ptr.cnf\",\"mode\":\"%%ENV:CNF_PERMS%%\",\"uid\":\"%%ENV:MYSQL_UID%%\",\"gid\":\"%%ENV:MYSQL_GID%%\",\"fmt\":\"# REPLICATION\\n# ----------- \\n[mysqld]\\nserver_id = %%ENV:SERVER_ID%%\\n#skip_slave_start = 1\\n\\n\\nrelay_log_space_limit = 1G\\n\\n \\nbinlog_format = ROW\\nbinlog_checksum = 1\\nbinlog_cache_size = 1M\\nbinlog_stmt_cache_size = 1M\\nexpire_logs_days = 5 \\nsync_binlog = 1\\nreport_host='host_%%ENV:SERVER_ID%%'\\nlog_slave_updates = ON\\n[mariadb-10.1]\\nslave_parallel_mode = optimistic\\n[mariadb]\\nreplicate_annotate_row_events = 1\\nslave_domain_parallel_threads = %%ENV:NODES_CPU_CORES%%\\nslave_parallel_threads = %%ENV:NODES_CPU_CORES%%\\n\\n[mysql 5.6]\\nbinlog_row_query_log_events = 1\"}",
                    "var_updated": "2018-03-16 11:24:49",
                    "var_name": "db_cnf_rpl_ptr",
                    "id": 5923
                },
                {
                    "var_author": "replication-manager replication-manager@localhost.localdomain",
                    "var_class": "file",
                    "var_value": "{\"path\":\"%%ENV:SVC_CONF_ENV_BASE_DIR%%/%%ENV:POD%%/etc/mysql/multidomains.cnf\",\"mode\":\"%%ENV:CNF_PERMS%%\",\"uid\":\"%%ENV:MYSQL_UID%%\",\"gid\":\"%%ENV:MYSQL_GID%%\",\"fmt\":\"[mariadb]\\ngtid_domain_id = %%ENV:SERVER_ID%%\"}",
                    "var_updated": "2017-08-28 13:38:28",
                    "var_name": "db_cnf_mulidomains",
                    "id": 5924
                },
                {
                    "var_author": "replication-manager replication-manager@localhost.localdomain",
                    "var_class": "file",
                    "var_value": "{\"path\":\"%%ENV:SVC_CONF_ENV_BASE_DIR%%/%%ENV:POD%%/etc/mysql/mysqlgtid.cnf\",\"mode\":\"%%ENV:CNF_PERMS%%\",\"uid\":\"%%ENV:MYSQL_UID%%\",\"gid\":\"%%ENV:MYSQL_GID%%\",\"fmt\":\"[mysqld-5.7]\\ngtid_mode=ON\\nenforce-gtid-consistency=1\\n[mysqld-5.6]\\ngtid_mode=ON\\nenforce-gtid-consistency=1\"}",
                    "var_updated": "2017-08-28 13:38:28",
                    "var_name": "db_cnf_mysqlgtid",
                    "id": 5925
                },
                {
                    "var_author": " Manager",
                    "var_class": "file",
                    "var_value": "{\"path\":\"%%ENV:SVC_CONF_ENV_BASE_DIR%%/%%ENV:POD%%/etc/mysql/nologslaveupdates.cnf\",\"mode\":\"%%ENV:CNF_PERMS%%\",\"uid\":\"%%ENV:MYSQL_UID%%\",\"gid\":\"%%ENV:MYSQL_GID%%\",\"fmt\":\"[mysqld]\\nlog_slave_updates=0\"}",
                    "var_updated": "2017-12-01 14:13:32",
                    "var_name": "db_cnf_nologslaveupdates",
                    "id": 5926
                },
                {
                    "var_author": "replication-manager replication-manager@localhost.localdomain",
                    "var_class": "file",
                    "var_value": "{\"path\":\"%%ENV:SVC_CONF_ENV_BASE_DIR%%/%%ENV:POD%%/etc/mysql/smallredolog.cnf\",\"mode\":\"%%ENV:CNF_PERMS%%\",\"uid\":\"%%ENV:MYSQL_UID%%\",\"gid\":\"%%ENV:MYSQL_GID%%\",\"fmt\":\"[mysqld]\\ninnodb_log_file_size = 64M\"}",
                    "var_updated": "2017-08-28 13:38:28",
                    "var_name": "db_cnf_smallredolog",
                    "id": 5927
                },
                {
                    "var_author": " Manager",
                    "var_class": "file",
                    "var_value": "{\"path\":\"%%ENV:SVC_CONF_ENV_BASE_DIR%%/%%ENV:POD%%/etc/mysql/path.cnf\",\"mode\":\"%%ENV:CNF_PERMS%%\",\"uid\":\"%%ENV:MYSQL_UID%%\",\"gid\":\"%%ENV:MYSQL_GID%%\",\"fmt\":\"\\n[mysqld]\\nlog_error = ./.system/logs/errors.log\\ntmpdir = ./.system/tmp\\ngeneral_log_file= ./.system/logs/sql-all \\ninnodb_data_home_dir = ./.system/innodb\\ninnodb_log_group_home_dir = ./.system/innodb/redo\\ninnodb_undo_directory  = ./.system/innodb/undo\\nlog_bin= ./.system/repl/log-bin\\nlog_bin_index= ./.system/repl/log-bin.index \\nrelay_log = ./.system/repl/relay-bin\\nrelay_log_index=./.system/repl/relay-bin.index\\n\\nslow_query_log_file = ./.system/logs/sql-slow\\n\\n[mariadb]\\n\\naria_log_dir_path = ./.system/aria\\nloose_server_audit_file_path =  ./.system/logs/mariadb_audit.log\\nloose_sql_error_log_filename = ./.system/logs/sql-errors \"}",
                    "var_updated": "2017-10-17 13:05:30",
                    "var_name": "db_cnf_path",
                    "id": 5960
                },
                {
                    "var_author": " Manager",
                    "var_class": "file",
                    "var_value": "{\"path\":\"%%ENV:SVC_CONF_ENV_BASE_DIR%%/%%ENV:POD%%/etc/mysql/pfs.cnf\",\"mode\":\"%%ENV:CNF_PERMS%%\",\"uid\":\"%%ENV:MYSQL_UID%%\",\"gid\":\"%%ENV:MYSQL_GID%%\",\"fmt\":\"[mysqld]\\nperformance_schema\\nperformance_schema_instrument=\\\"events_statements_history_long=ON\\\"\\nperformance_schema_consumer_events_statements_history=ON\\nperformance_schema_consumer_events_statements_history_long=ON\"}",
                    "var_updated": "2017-12-21 09:14:28",
                    "var_name": "db_cnf_pfs",
                    "id": 5966
                },
                {
                    "var_author": " Manager",
                    "var_class": "file",
                    "var_value": "{\"path\":\"%%ENV:SVC_CONF_ENV_BASE_DIR%%/%%ENV:POD%%/etc/mysql/groupreplication.cnf\",\"mode\":\"%%ENV:CNF_PERMS%%\",\"uid\":\"%%ENV:MYSQL_UID%%\",\"gid\":\"%%ENV:MYSQL_GID%%\",\"fmt\":\"[mysqld]\\nplugin_load=group_replication.so\\nloose_group_replication_single_primary_mode = ON\\nloose_group_replication = FORCE_PLUS_PERMANENT\\ntransaction_write_set_extraction=XXHASH64\\nloose-group_replication_group_name=\\\"aaaaaaaa-aaaa-aaaa-aaaa-aaaaaaaaaaaa\\\"\\nloose-group_replication_start_on_boot=off\\nloose-group_replication_local_address= \\\"127.0.0.1:24901\\\"\\nloose-group_replication_group_seeds= \\\"127.0.0.1:24901,127.0.0.1:24902,127.0.0.1:24903\\\"\\nloose-group_replication_bootstrap_group= off\"}",
                    "var_updated": "2017-11-21 10:50:37",
                    "var_name": "db_cnf_groupreplication",
                    "id": 5968
                },
                {
                    "var_author": " Manager",
                    "var_class": "file",
                    "var_value": "{\"path\":\"/%%ENV:SVC_CONF_ENV_BASE_DIR%%/%%ENV:POD%%/etc/mysql/sphinx.cnf\",\"mode\":\"%%ENV:CNF_PERMS%%\",\"uid\":\"%%ENV:MYSQL_UID%%\",\"gid\":\"%%ENV:MYSQL_GID%%\",\"fmt\":\"[mariadb]\\nplugin_load_add=ha_sphinx\"}",
                    "var_updated": "2017-12-20 23:03:33",
                    "var_name": "db_cnf_sphinx",
                    "id": 5969
                },
                {
                    "var_author": " Manager",
                    "var_class": "file",
                    "var_value": "{\"path\":\"%%ENV:SVC_CONF_ENV_BASE_DIR%%/%%ENV:POD%%/etc/mysql/ssl/\",\"mode\":\"%%ENV:BINDED_DIR_PERMS%%\",\"uid\":\"%%ENV:MYSQL_UID%%\",\"gid\":\"%%ENV:MYSQL_GID%%\"}",
                    "var_updated": "2017-12-11 14:03:31",
                    "var_name": "db_cnf_dir_conf_ssl",
                    "id": 5983
                },
                {
                    "var_author": " Manager",
                    "var_class": "file",
                    "var_value": "{\"path\":\"%%ENV:SVC_CONF_ENV_BASE_DIR%%/%%ENV:POD%%/etc/mysql/compressbinlog.cnf\",\"mode\":\"%%ENV:CNF_PERMS%%\",\"uid\":\"%%ENV:MYSQL_UID%%\",\"gid\":\"%%ENV:MYSQL_GID%%\",\"fmt\":\"[mariadb-10.2]\\nlog_bin_compress=1\"}",
                    "var_updated": "2017-12-12 08:12:03",
                    "var_name": "db_cnf_compression_binlog",
                    "id": 5984
                },
                {
                    "var_author": " Manager",
                    "var_class": "file",
                    "var_value": "{\"path\":\"%%ENV:SVC_CONF_ENV_BASE_DIR%%/%%ENV:POD%%/etc/mysql/lowercasetable.cnf\",\"mode\":\"%%ENV:CNF_PERMS%%\",\"uid\":\"%%ENV:MYSQL_UID%%\",\"gid\":\"%%ENV:MYSQL_GID%%\",\"fmt\":\"[mysqld]\\nlower_case_table_names = 1\"}",
                    "var_updated": "2017-12-20 17:43:44",
                    "var_name": "db_cnf_lowercasetable",
                    "id": 5993
                },
                {
                    "var_author": " Manager",
                    "var_class": "file",
                    "var_value": "{\"path\":\"%%ENV:SVC_CONF_ENV_BASE_DIR%%/%%ENV:POD%%/etc/mysql/nodurable.cnf\",\"mode\":\"%%ENV:CNF_PERMS%%\",\"uid\":\"%%ENV:MYSQL_UID%%\",\"gid\":\"%%ENV:MYSQL_GID%%\",\"fmt\":\"[mysqld]\\nloose_innodb_flush_log_at_trx_commit = 0\"}",
                    "var_updated": "2017-12-20 18:23:16",
                    "var_name": "db_cnf_nodurable",
                    "id": 5996
                },
                {
                    "var_author": " Manager",
                    "var_class": "file",
                    "var_value": "{\"path\":\"%%ENV:SVC_CONF_ENV_BASE_DIR%%/%%ENV:POD%%/etc/mysql/sqlmodeunstrict.cnf\",\"mode\":\"%%ENV:CNF_PERMS%%\",\"uid\":\"%%ENV:MYSQL_UID%%\",\"gid\":\"%%ENV:MYSQL_GID%%\",\"fmt\":\"[mysqld]\\nsql_mode=''\"}",
                    "var_updated": "2017-12-27 12:45:12",
                    "var_name": "db_cnf_sqlmodeunstrict",
                    "id": 5997
                },
                {
                    "var_author": " Manager",
                    "var_class": "file",
                    "var_value": "{\"path\":\"%%ENV:SVC_CONF_ENV_BASE_DIR%%/%%ENV:POD%%/etc/mysql/sqlmodeoracle.cnf\",\"mode\":\"%%ENV:CNF_PERMS%%\",\"uid\":\"%%ENV:MYSQL_UID%%\",\"gid\":\"%%ENV:MYSQL_GID%%\",\"fmt\":\"[mariadb-10.3]\\nsql_mode='oracle'\"}",
                    "var_updated": "2017-12-27 13:05:39",
                    "var_name": "db_cnf_sqlmodeoracle",
                    "id": 5998
                },
                {
                    "var_author": " Manager",
                    "var_class": "file",
                    "var_value": "{\"path\":\"%%ENV:SVC_CONF_ENV_BASE_DIR%%/%%ENV:POD%%/init/snapback\",\"mode\":755,\"uid\":\"%%ENV:MYSQL_UID%%\",\"gid\":\"%%ENV:MYSQL_GID%%\",\"fmt\":\"#!/bin/bash\\nFILE=%%ENV:SVC_CONF_ENV_BASE_DIR%%/%%ENV:POD%%/data/replication_manager_schema/snapback.frm    \\nif [ -f $FILE ]; then\\n   echo \\\"Need snapback $FILE exists.\\\"\\n   LASTSNAP=`zfs list -r -t all |grep zp%%ENV:SERVICES_SVCNAME%%_pod01 | grep daily | sort -r | head -n 1  | cut -d\\\" \\\" -f1`\\n   %%ENV:SERVICES_SVCNAME%% stop\\n   zfs rollback $LASTSNAP\\n   %%ENV:SERVICES_SVCNAME%% start\\n\\nelse\\n   echo \\\"No need snapback File $FILE does not exist.\\\"\\nfi\"}",
                    "var_updated": "2018-01-18 15:40:07",
                    "var_name": "db_cnf_script_snapback",
                    "id": 6009
                },
                {
                    "var_author": " Manager",
                    "var_class": "file",
                    "var_value": "{\"path\":\"%%ENV:SVC_CONF_ENV_BASE_DIR%%/%%ENV:POD%%/etc/mysql/backup.cnf\",\"mode\":\"%%ENV:CNF_PERMS%%\",\"uid\":\"%%ENV:MYSQL_UID%%\",\"gid\":\"%%ENV:MYSQL_GID%%\",\"fmt\":\"[xtrabackup]\\nparallel=4\\nuser=root\\npassword=%%ENV:SVC_CONF_ENV_MYSQL_ROOT_PASSWORD%%\\n\"}",
                    "var_updated": "2018-01-20 09:36:39",
                    "var_name": "db_cnf_xtrabackup",
                    "id": 6010
                },
                {
                    "var_author": " Manager",
                    "var_class": "file",
                    "var_value": "{\"path\":\"%%ENV:SVC_CONF_ENV_BASE_DIR%%/%%ENV:POD%%/init/dbjobs\",\"mode\":755,\"uid\":\"%%ENV:MYSQL_UID%%\",\"gid\":\"%%ENV:MYSQL_GID%%\",\"fmt\":\"#!/bin/bash\\nUSER=root\\nPASSWORD=%%ENV:SVC_CONF_ENV_MYSQL_ROOT_PASSWORD%%\\nERROLOG=/var/lib/mysql/.system/logs/errors.log\\nSLOWLOG=/var/lib/mysql/.system/logs/sql-slow\\nBACKUPDIR=/var/lib/mysql/.system/backup\\nDATADIR=/var/lib/mysql/\\nJOBS=( \\\"xtrabackup\\\" \\\"error\\\" \\\"slowquery\\\" \\\"zfssnapback\\\" \\\"optimize\\\" \\\"reseedxtrabackup\\\" \\\"reseedmysqldump\\\" \\\"flashbackxtrabackup\\\" \\\"flashbackmysqldump\\\" )\\n\\ndoneJob()\\n{\\n /usr/bin/mysql -u$USER -p$PASSWORD -e \\\"set sql_log_bin=0;UPDATE replication_manager_schema.jobs set end=NOW(), result=LOAD_FILE('/tmp/dbjob.out') WHERE id='$ID';\\\" &\\n}\\n\\npauseJob()\\n{\\n /usr/bin/mysql -u$USER -p$PASSWORD -e \\\"select sleep(6);set sql_log_bin=0;UPDATE replication_manager_schema.jobs set result=LOAD_FILE('/tmp/dbjob.out') WHERE id='$ID';\\\" &\\n}\\n\\npartialRestore()\\n{\\n /usr/bin/mysql -p$PASSWORD -u$USER -e \\\"set sql_log_bin=0;install plugin BLACKHOLE soname 'ha_blackhole.so'\\\"\\n for dir in $(ls -d $BACKUPDIR/*/ | xargs -n 1 basename | grep -vE 'mysql|performance_schema|replication_manager_schema') ; do\\n /usr/bin/mysql -p$PASSWORD -u$USER -e \\\"set sql_log_bin=0;drop database IF EXISTS $dir; CREATE DATABASE $dir;\\\"\\n chown -R mysql:mysql $BACKUPDIR\\n\\n  for file in $(find $BACKUPDIR/$dir/ -name \\\"*.exp\\\" | xargs -n 1 basename | cut -d'.' --complement -f2-) ; do\\n   cat $BACKUPDIR/$dir/$file.frm | sed -e 's/\\\\x06\\\\x00\\\\x49\\\\x6E\\\\x6E\\\\x6F\\\\x44\\\\x42\\\\x00\\\\x00\\\\x00/\\\\x09\\\\x00\\\\x42\\\\x4C\\\\x41\\\\x43\\\\x4B\\\\x48\\\\x4F\\\\x4C\\\\x45/g' > $DATADIR/$dir/mrm_pivo.frm\\n   chown mysql:mysql $DATADIR/$dir/mrm_pivo.frm\\n   /usr/bin/mysql -p$PASSWORD -u$USER -e \\\"set sql_log_bin=0;ALTER TABLE $dir.mrm_pivo  engine=innodb;RENAME TABLE $dir.mrm_pivo TO $dir.$file; ALTER TABLE $dir.$file DISCARD TABLESPACE;\\\"\\n   mv $BACKUPDIR/$dir/$file.ibd $DATADIR/$dir/$file.ibd\\n   mv $BACKUPDIR/$dir/$file.exp $DATADIR/$dir/$file.exp\\n   mv $BACKUPDIR/$dir/$file.cfg $DATADIR/$dir/$file.cfg\\n   mv $BACKUPDIR/$dir/$file.TRG $DATADIR/$dir/$file.TRG\\n   /usr/bin/mysql -p$PASSWORD -u$USER -e \\\"set sql_log_bin=0;ALTER TABLE $dir.$file IMPORT TABLESPACE\\\"\\n  done\\n  for file in $(find $BACKUPDIR/$dir/ -name \\\"*.MYD\\\" | xargs -n 1 basename | cut -d'.' --complement -f2-) ; do\\n   mv $BACKUPDIR/$dir/$file.* $DATADIR/$dir/\\n   /usr/bin/mysql -p$PASSWORD -u$USER -e \\\"set sql_log_bin=0;FLUSH TABLE $dir.$file\\\"\\n  done\\n  for file in $(find $BACKUPDIR/$dir/ -name \\\"*.CSV\\\" | xargs -n 1 basename | cut -d'.' --complement -f2-) ; do\\n   mv $BACKUPDIR/$dir/$file.* $DATADIR/$dir/\\n   /usr/bin/mysql -p$PASSWORD -u$USER -e \\\"set sql_log_bin=0;FLUSH TABLE $dir.$file\\\"\\n  done\\n done\\n for file in $(find $BACKUPDIR/mysql/ -name \\\"*.MYD\\\" | xargs -n 1 basename | cut -d'.' --complement -f2-) ; do\\n   mv $BACKUPDIR/mysql/$file.* $DATADIR/mysql/\\n   /usr/bin/mysql -p$PASSWORD -u$USER -e \\\"set sql_log_bin=0;FLUSH TABLE mysql.$file\\\"\\n done\\n cat $BACKUPDIR/xtrabackup_info | grep binlog_pos | awk  -F, '{ print $3 }' | sed -e 's/GTID of the last change/set sql_log_bin=0;set global gtid_slave_pos=/g' | /usr/bin/mysql -p$PASSWORD -u$USER\\n /usr/bin/mysql -p$PASSWORD -u$USER  -e\\\"flush privileges;start slave;\\\"\\n}\\n\\nfor job in \\\"${JOBS[@]}\\\"\\ndo\\n\\n TASK=($(echo \\\"select concat(id,'@',server,':',port) from replication_manager_schema.jobs WHERE task='$job' and done=0 order by task desc limit 1\\\" | /usr/bin/mysql -p$PASSWORD -u$USER -N))\\n\\n ADDRESS=($(echo $TASK | awk -F@ '{ print $2 }'))\\n ID=($(echo $TASK | awk -F@ '{ print $1 }'))\\n /usr/bin/mysql -uroot -p$PASSWORD -e \\\"set sql_log_bin=0;UPDATE replication_manager_schema.jobs set done=1 WHERE task='$job';\\\"\\n\\n  if [ \\\"$ADDRESS\\\" == \\\"\\\" ]; then\\n    echo \\\"No $job needed\\\"\\n  else\\n    echo \\\"Processing $job\\\"\\n    case \\\"$job\\\" in\\n      reseedmysqldump)\\n       echo \\\"Waiting backup.\\\" >  /tmp/dbjob.out\\n       pauseJob\\n       socat -u TCP-LISTEN:4444,reuseaddr STDOUT | gunzip | /usr/bin/mysql -p$PASSWORD -u$USER > /tmp/dbjob.out 2>&1\\n        /usr/bin/mysql -p$PASSWORD -u$USER -e 'start slave;'\\n      ;;\\n      flashbackmysqldump)\\n       echo \\\"Waiting backup.\\\" >  /tmp/dbjob.out\\n       pauseJob\\n       socat -u TCP-LISTEN:4444,reuseaddr STDOUT | gunzip | /usr/bin/mysql -p$PASSWORD -u$USER > /tmp/dbjob.out 2>&1\\n        /usr/bin/mysql -p$PASSWORD -u$USER -e 'start slave;'\\n      ;;\\n      reseedxtrabackup)\\n       rm -rf $BACKUPDIR\\n       mkdir $BACKUPDIR\\n       echo \\\"Waiting backup.\\\" >  /tmp/dbjob.out\\n       pauseJob\\n       socat -u TCP-LISTEN:4444,reuseaddr STDOUT | xbstream -x -C $BACKUPDIR\\n       xtrabackup --prepare --export --target-dir=$BACKUPDIR\\n       partialRestore\\n      ;;\\n      flashbackxtrabackup)\\n       rm -rf $BACKUPDIR\\n       mkdir $BACKUPDIR\\n       echo \\\"Waiting backup.\\\" >  /tmp/dbjob.out\\n       pauseJob\\n       socat -u TCP-LISTEN:4444,reuseaddr STDOUT | xbstream -x -C $BACKUPDIR\\n       xtrabackup --prepare --export --target-dir=$BACKUPDIR\\n       partialRestore\\n      ;;\\n      xtrabackup)\\n       cd /docker-entrypoint-initdb.d\\n       /usr/bin/innobackupex  --defaults-file=/etc/mysql/my.cnf --socket='/var/run/mysqld/mysqld.sock' --slave-info --no-version-check  --user=$USER --password=$PASSWORD --stream=xbstream /tmp/ | socat -u stdio TCP:$ADDRESS &>/tmp/dbjob.out\\n      ;;\\n      error)\\n       cat $ERROLOG| socat -u stdio TCP:$ADDRESS &>/tmp/dbjob.out\\n       > $ERROLOG\\n      ;;\\n      slowquery)\\n       cat $SLOWLOG| socat -u stdio TCP:$ADDRESS &>/tmp/dbjob.out\\n       > $SLOWLOG\\n      ;;\\n      zfssnapback)\\n       LASTSNAP=`zfs list -r -t all |grep zp%%ENV:SERVICES_SVCNAME%%_pod01 | grep daily | sort -r | head -n 1  | cut -d\\\" \\\" -f1`\\n       %%ENV:SERVICES_SVCNAME%% stop\\n       zfs rollback $LASTSNAP\\n       %%ENV:SERVICES_SVCNAME%% start\\n      ;;\\n      optimize)\\n       /usr/bin/mysqloptimize -u$USER -p$PASSWORD --all-databases &>/tmp/dbjob.out\\n      ;;\\n  esac\\n  doneJob\\n  fi\\n\\ndone\\n\"}",
                    "var_updated": "2018-03-31 13:38:53",
                    "var_name": "db_cnf_script_dbjobs",
                    "id": 6011
                },
                {
                    "var_author": " Manager",
                    "var_class": "file",
                    "var_value": "{\"path\":\"%%ENV:SVC_CONF_ENV_BASE_DIR%%/%%ENV:POD%%/init/wsrep_sst_xtrabackup-v2\",\"mode\":755,\"uid\":\"%%ENV:MYSQL_UID%%\",\"gid\":\"%%ENV:MYSQL_GID%%\",\"fmt\":\"#!/bin/bash -ue\\n# Copyright (C) 2013 Percona Inc\\n#\\n# This program is free software; you can redistribute it and/or modify\\n# it under the terms of the GNU General Public License as published by\\n# the Free Software Foundation; version 2 of the License.\\n#\\n# This program is distributed in the hope that it will be useful,\\n# but WITHOUT ANY WARRANTY; without even the implied warranty of\\n# MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\\n# GNU General Public License for more details.\\n#\\n# You should have received a copy of the GNU General Public License\\n# along with this program; see the file COPYING. If not, write to the\\n# Free Software Foundation, Inc., 51 Franklin St, Fifth Floor, Boston\\n# MA  02110-1301  USA.\\n\\n# Documentation: http://www.percona.com/doc/percona-xtradb-cluster/manual/xtrabackup_sst.html \\n# Make sure to read that before proceeding!\\n\\n\\n\\n\\n. $(dirname $0)/wsrep_sst_common\\n\\nealgo=\\\"\\\"\\nekey=\\\"\\\"\\nekeyfile=\\\"\\\"\\nencrypt=0\\nnproc=1\\necode=0\\nssyslog=\\\"\\\"\\nssystag=\\\"\\\"\\nXTRABACKUP_PID=\\\"\\\"\\nSST_PORT=\\\"\\\"\\nREMOTEIP=\\\"\\\"\\nREMOTEHOST=\\\"\\\"\\ntca=\\\"\\\"\\ntcert=\\\"\\\"\\ntkey=\\\"\\\"\\nsockopt=\\\"\\\"\\nprogress=\\\"\\\"\\nttime=0\\ntotime=0\\nlsn=\\\"\\\"\\necmd=\\\"\\\"\\nrlimit=\\\"\\\"\\n# Initially\\nstagemsg=\\\"${WSREP_SST_OPT_ROLE}\\\"\\ncpat=\\\"\\\"\\nib_home_dir=\\\"\\\"\\nib_log_dir=\\\"\\\"\\nib_undo_dir=\\\"\\\"\\n\\nsfmt=\\\"tar\\\"\\nstrmcmd=\\\"\\\"\\ntfmt=\\\"\\\"\\ntcmd=\\\"\\\"\\nrebuild=0\\nrebuildcmd=\\\"\\\"\\npayload=0\\npvformat=\\\"-F '%N => Rate:%r Avg:%a Elapsed:%t %e Bytes: %b %p' \\\"\\npvopts=\\\"-f  -i 10 -N $WSREP_SST_OPT_ROLE \\\"\\nSTATDIR=\\\"\\\"\\nuextra=0\\ndisver=\\\"\\\"\\n\\ntmpopts=\\\"\\\"\\nitmpdir=\\\"\\\"\\nxtmpdir=\\\"\\\"\\n\\nscomp=\\\"\\\"\\nsdecomp=\\\"\\\"\\nssl_dhparams=\\\"\\\"\\n\\nssl_cert=\\\"\\\"\\nssl_ca=\\\"\\\"\\nssl_key=\\\"\\\"\\n\\n# Required for backup locks\\n# For backup locks it is 1 sent by joiner\\n# 5.6.21 PXC and later can't donate to an older joiner\\nsst_ver=1\\n\\nif which pv &>/dev/null && pv --help | grep -q FORMAT;then \\n    pvopts+=$pvformat\\nfi\\npcmd=\\\"pv $pvopts\\\"\\ndeclare -a RC\\n\\nINNOBACKUPEX_BIN=innobackupex\\nDATA=\\\"${WSREP_SST_OPT_DATA}\\\"\\nINFO_FILE=\\\"xtrabackup_galera_info\\\"\\nIST_FILE=\\\"xtrabackup_ist\\\"\\nMAGIC_FILE=\\\"${DATA}/${INFO_FILE}\\\"\\n\\n# Setting the path for ss and ip\\nexport PATH=\\\"/usr/sbin:/sbin:$PATH\\\"\\n\\ntimeit(){\\n    local stage=$1\\n    shift\\n    local cmd=\\\"$@\\\"\\n    local x1 x2 took extcode\\n\\n    if [[ $ttime -eq 1 ]];then \\n        x1=$(date +%s)\\n        wsrep_log_info \\\"Evaluating $cmd\\\"\\n        eval \\\"$cmd\\\"\\n        extcode=$?\\n        x2=$(date +%s)\\n        took=$(( x2-x1 ))\\n        wsrep_log_info \\\"NOTE: $stage took $took seconds\\\"\\n        totime=$(( totime+took ))\\n    else \\n        wsrep_log_info \\\"Evaluating $cmd\\\"\\n        eval \\\"$cmd\\\"\\n        extcode=$?\\n    fi\\n    return $extcode\\n}\\n\\nget_keys()\\n{\\n    # $encrypt -eq 1 is for internal purposes only\\n    if [[ $encrypt -ge 2 || $encrypt -eq -1 ]];then \\n        return \\n    fi\\n\\n    if [[ $encrypt -eq 0 ]];then \\n        if $MY_PRINT_DEFAULTS xtrabackup | grep -q encrypt;then\\n            wsrep_log_error \\\"Unexpected option combination. SST may fail. Refer to http://www.percona.com/doc/percona-xtradb-cluster/manual/xtrabackup_sst.html \\\"\\n        fi\\n        return\\n    fi\\n\\n    if [[ $sfmt == 'tar' ]];then\\n        wsrep_log_info \\\"NOTE: Xtrabackup-based encryption - encrypt=1 - cannot be enabled with tar format\\\"\\n        encrypt=-1\\n        return\\n    fi\\n\\n    wsrep_log_info \\\"Xtrabackup based encryption enabled in my.cnf - Supported only from Xtrabackup 2.1.4\\\"\\n\\n    if [[ -z $ealgo ]];then\\n        wsrep_log_error \\\"FATAL: Encryption algorithm empty from my.cnf, bailing out\\\"\\n        exit 3\\n    fi\\n\\n    if [[ -z $ekey && ! -r $ekeyfile ]];then\\n        wsrep_log_error \\\"FATAL: Either key or keyfile must be readable\\\"\\n        exit 3\\n    fi\\n\\n    if [[ -z $ekey ]];then\\n        ecmd=\\\"xbcrypt --encrypt-algo=$ealgo --encrypt-key-file=$ekeyfile\\\"\\n    else\\n        wsrep_log_warning \\\"Using the 'encrypt-key' option causes the encryption key\\\"\\n        wsrep_log_warning \\\"to be set via the command-line and is considered insecure.\\\"\\n        wsrep_log_warning \\\"It is recommended to use the 'encrypt-key-file' option instead.\\\"\\n\\n        ecmd=\\\"xbcrypt --encrypt-algo=$ealgo --encrypt-key=$ekey\\\"\\n    fi\\n\\n    if [[ \\\"$WSREP_SST_OPT_ROLE\\\" == \\\"joiner\\\" ]];then\\n        ecmd+=\\\" -d\\\"\\n    fi\\n\\n    stagemsg+=\\\"-XB-Encrypted\\\"\\n}\\n\\n#\\n# If the ssl_dhparams variable is already set, uses that as a source\\n# of dh parameters for OpenSSL. Otherwise, looks for dhparams.pem in the\\n# datadir, and creates it there if it can't find the file.\\n# No input parameters\\n#\\ncheck_for_dhparams()\\n{\\n    if [[ -z \\\"$ssl_dhparams\\\" ]]; then\\n        if ! [[ -r \\\"$DATA/dhparams.pem\\\" ]]; then\\n            wsrep_check_programs openssl\\n            wsrep_log_info \\\"Could not find dhparams file, creating $DATA/dhparams.pem\\\"\\n\\n            if ! openssl dhparam -out \\\"$DATA/dhparams.pem\\\" 2048 >/dev/null 2>&1\\n            then\\n                wsrep_log_error \\\"******** FATAL ERROR ********************************* \\\"\\n                wsrep_log_error \\\"* Could not create the dhparams.pem file with OpenSSL. \\\"\\n                wsrep_log_error \\\"****************************************************** \\\"\\n                exit 22\\n            fi\\n        fi\\n        ssl_dhparams=\\\"$DATA/dhparams.pem\\\"\\n    fi\\n}\\n\\n#\\n# verifies that the certificate matches the private key\\n# doing this will save us having to wait for a timeout that would\\n# otherwise occur.\\n#\\n# 1st param: path to the cert\\n# 2nd param: path to the private key\\n#\\nverify_cert_matches_key()\\n{\\n    local cert_path=$1\\n    local key_path=$2\\n\\n    wsrep_check_programs openssl diff\\n\\n    # generate the public key from the cert and the key\\n    # they should match (otherwise we can't create an SSL connection)\\n    if ! diff <(openssl x509 -in \\\"$cert_path\\\" -pubkey -noout) <(openssl rsa -in \\\"$key_path\\\" -pubout 2>/dev/null) >/dev/null 2>&1\\n    then\\n        wsrep_log_error \\\"******** FATAL ERROR ************************* \\\"\\n        wsrep_log_error \\\"* The certifcate and private key do not match. \\\"\\n        wsrep_log_error \\\"* Please check your certificate and key files. \\\"\\n        wsrep_log_error \\\"********************************************** \\\"\\n        exit 22\\n    fi\\n}\\n\\n# Checks to see if the file exists\\n# If the file does not exist (or cannot be read), issues an error\\n# and exits\\n#\\n# 1st param: file name to be checked (for read access)\\n# 2nd param: 1st error message (header)\\n# 3rd param: 2nd error message (footer, optional)\\n#\\nverify_file_exists()\\n{\\n    local file_path=$1\\n    local error_message1=$2\\n    local error_message2=$3\\n\\n    if ! [[ -r \\\"$file_path\\\" ]]; then\\n        wsrep_log_error \\\"******** FATAL ERROR ************************* \\\"\\n        wsrep_log_error \\\"* $error_message1 \\\"\\n        wsrep_log_error \\\"* Could not find/access : $file_path \\\"\\n\\n        if ! [[ -z \\\"$error_message2\\\" ]]; then\\n            wsrep_log_error \\\"* $error_message2 \\\"\\n        fi\\n\\n        wsrep_log_error \\\"********************************************** \\\"\\n        exit 22\\n    fi\\n}\\n\\nget_transfer()\\n{\\n    if [[ -z $SST_PORT ]];then \\n        TSST_PORT=4444\\n    else \\n        TSST_PORT=$SST_PORT\\n    fi\\n\\n    if [[ $tfmt == 'nc' ]];then\\n        if [[ ! -x `which nc` ]];then \\n            wsrep_log_error \\\"nc(netcat) not found in path: $PATH\\\"\\n            exit 2\\n        fi\\n\\n        if [[ $encrypt -eq 2 || $encrypt -eq 3 || $encrypt -eq 4 ]]; then\\n            wsrep_log_error \\\"******** FATAL ERROR *********************** \\\"\\n            wsrep_log_error \\\"* Using SSL encryption (encrypt= 2, 3, or 4) \\\"\\n            wsrep_log_error \\\"* is not supported when using nc(netcat).    \\\"\\n            wsrep_log_error \\\"******************************************** \\\"\\n            exit 22\\n        fi\\n\\n        wsrep_log_info \\\"Using netcat as streamer\\\"\\n        if [[ \\\"$WSREP_SST_OPT_ROLE\\\"  == \\\"joiner\\\" ]];then\\n            if nc -h 2>&1 | grep -q ncat; then\\n                tcmd=\\\"nc $sockopt -l ${TSST_PORT}\\\"\\n            else \\n                tcmd=\\\"nc $sockopt -dl ${TSST_PORT}\\\"\\n            fi\\n        else\\n            # netcat doesn't understand [] around IPv6 address\\n            tcmd=\\\"nc ${REMOTEIP//[\\\\[\\\\]]/} ${TSST_PORT}\\\"\\n        fi\\n    else\\n        tfmt='socat'\\n        wsrep_log_info \\\"Using socat as streamer\\\"\\n        if [[ ! -x `which socat` ]];then \\n            wsrep_log_error \\\"socat not found in path: $PATH\\\"\\n            exit 2\\n        fi\\n\\n        donor_extra=\\\"\\\"\\n        joiner_extra=\\\"\\\"\\n        if [[ $encrypt -eq 2 || $encrypt -eq 3 || $encrypt -eq 4 ]]; then\\n            if ! socat -V | grep -q WITH_OPENSSL; then\\n                wsrep_log_error \\\"******** FATAL ERROR ****************** \\\"\\n                wsrep_log_error \\\"* socat is not openssl enabled.         \\\"\\n                wsrep_log_error \\\"* Unable to encrypt SST communications. \\\"\\n                wsrep_log_error \\\"*************************************** \\\"\\n                exit 2\\n            fi\\n\\n            # Determine the socat version\\n            SOCAT_VERSION=`socat -V 2>&1 | grep -oe '[0-9]\\\\.[0-9][\\\\.0-9]*' | head -n1`\\n            if [[ -z \\\"$SOCAT_VERSION\\\" ]]; then\\n                wsrep_log_error \\\"******** FATAL ERROR **************** \\\"\\n                wsrep_log_error \\\"* Cannot determine the socat version. \\\"\\n                wsrep_log_error \\\"************************************* \\\"\\n                exit 2\\n            fi\\n\\n            # socat versions < 1.7.3 will have 512-bit dhparams (too small)\\n            #       so create 2048-bit dhparams and send that as a parameter\\n            # socat version >= 1.7.3, checks to see if the peername matches the hostname\\n            #       set commonname=\\\"\\\" to disable the peername checks\\n            #\\n            if ! check_for_version \\\"$SOCAT_VERSION\\\" \\\"1.7.3\\\"; then\\n                if [[ \\\"$WSREP_SST_OPT_ROLE\\\"  == \\\"joiner\\\" ]]; then\\n                    # dhparams check (will create ssl_dhparams if needed)\\n                    check_for_dhparams\\n                    joiner_extra=\\\",dhparam=$ssl_dhparams\\\"\\n                fi\\n            fi\\n            if check_for_version \\\"$SOCAT_VERSION\\\" \\\"1.7.3\\\"; then\\n                donor_extra=',commonname=\\\"\\\"'\\n            fi\\n        fi\\n\\n        if [[ $encrypt -eq 2 ]]; then\\n            wsrep_log_warning \\\"**** WARNING **** encrypt=2 is deprecated and will be removed in a future release\\\"\\n            wsrep_log_info \\\"Using openssl based encryption with socat: with crt and ca\\\"\\n\\n            verify_file_exists \\\"$tcert\\\" \\\"Both certificate and CA files are required.\\\" \\\\\\n                                        \\\"Please check the 'tcert' option.           \\\"\\n            verify_file_exists \\\"$tca\\\" \\\"Both certificate and CA files are required.\\\" \\\\\\n                                      \\\"Please check the 'tca' option.             \\\"\\n\\n            stagemsg+=\\\"-OpenSSL-Encrypted-2\\\"\\n            if [[ \\\"$WSREP_SST_OPT_ROLE\\\"  == \\\"joiner\\\" ]];then\\n                wsrep_log_info \\\"Decrypting with CERT: $tcert, CA: $tca\\\"\\n                tcmd=\\\"socat -u openssl-listen:${TSST_PORT},reuseaddr,cert=${tcert},cafile=${tca}${joiner_extra}${sockopt} stdio\\\"\\n            else\\n                wsrep_log_info \\\"Encrypting with CERT: $tcert, CA: $tca\\\"\\n                tcmd=\\\"socat -u stdio openssl-connect:${REMOTEIP}:${TSST_PORT},cert=${tcert},cafile=${tca}${donor_extra}${sockopt}\\\"\\n            fi\\n        elif [[ $encrypt -eq 3 ]];then\\n            wsrep_log_warning \\\"**** WARNING **** encrypt=3 is deprecated and will be removed in a future release\\\"\\n            wsrep_log_info \\\"Using openssl based encryption with socat: with key and crt\\\"\\n\\n            verify_file_exists \\\"$tcert\\\" \\\"Both certificate and key files are required.\\\" \\\\\\n                                        \\\"Please check the 'tcert' option.            \\\"\\n            verify_file_exists \\\"$tkey\\\" \\\"Both certificate and key files are required.\\\" \\\\\\n                                       \\\"Please check the 'tkey' option.             \\\"\\n\\n            stagemsg+=\\\"-OpenSSL-Encrypted-3\\\"\\n            if [[ \\\"$WSREP_SST_OPT_ROLE\\\"  == \\\"joiner\\\" ]];then\\n                wsrep_log_info \\\"Decrypting with CERT: $tcert, KEY: $tkey\\\"\\n                tcmd=\\\"socat -u openssl-listen:${TSST_PORT},reuseaddr,cert=${tcert},key=${tkey},verify=0${joiner_extra}${sockopt} stdio\\\"\\n            else\\n                wsrep_log_info \\\"Encrypting with CERT: $tcert, KEY: $tkey\\\"\\n                tcmd=\\\"socat -u stdio openssl-connect:${REMOTEIP}:${TSST_PORT},cert=${tcert},key=${tkey},verify=0${sockopt}\\\"\\n            fi\\n        elif [[ $encrypt -eq 4 ]]; then\\n            wsrep_log_info \\\"Using openssl based encryption with socat: with key, crt, and ca\\\"\\n\\n            verify_file_exists \\\"$ssl_ca\\\" \\\"CA, certificate, and key files are required.\\\" \\\\\\n                                         \\\"Please check the 'ssl-ca' option.           \\\"\\n            verify_file_exists \\\"$ssl_cert\\\" \\\"CA, certificate, and key files are required.\\\" \\\\\\n                                           \\\"Please check the 'ssl-cert' option.         \\\"\\n            verify_file_exists \\\"$ssl_key\\\" \\\"CA, certificate, and key files are required.\\\" \\\\\\n                                          \\\"Please check the 'ssl-key' option.          \\\"\\n\\n            # Check to see that the key matches the cert\\n            verify_cert_matches_key $ssl_cert $ssl_key\\n\\n            stagemsg+=\\\"-OpenSSL-Encrypted-4\\\"\\n            if [[ \\\"$WSREP_SST_OPT_ROLE\\\"  == \\\"joiner\\\" ]]; then\\n                wsrep_log_info \\\"Decrypting with CERT: $ssl_cert, KEY: $ssl_key, CA: $ssl_ca\\\"\\n                tcmd=\\\"socat -u openssl-listen:${TSST_PORT},reuseaddr,cert=${ssl_cert},key=${ssl_key},cafile=${ssl_ca},verify=1${joiner_extra}${sockopt} stdio\\\"\\n            else\\n                wsrep_log_info \\\"Encrypting with CERT: $ssl_cert, KEY: $ssl_key, CA: $ssl_ca\\\"\\n                tcmd=\\\"socat -u stdio openssl-connect:${REMOTEIP}:${TSST_PORT},cert=${ssl_cert},key=${ssl_key},cafile=${ssl_ca},verify=1${donor_extra}${sockopt}\\\"\\n            fi\\n\\n        else\\n            if [[ $encrypt -eq 1 ]]; then\\n                wsrep_log_warning \\\"**** WARNING **** encrypt=1 is deprecated and will be removed in a future release\\\"\\n            fi\\n\\n            if [[ \\\"$WSREP_SST_OPT_ROLE\\\"  == \\\"joiner\\\" ]]; then\\n                tcmd=\\\"socat -u TCP-LISTEN:${TSST_PORT},reuseaddr${sockopt} stdio\\\"\\n            else\\n                tcmd=\\\"socat -u stdio TCP:${REMOTEIP}:${TSST_PORT}${sockopt}\\\"\\n            fi\\n        fi\\n    fi\\n}\\n\\nget_footprint()\\n{\\n    pushd $WSREP_SST_OPT_DATA 1>/dev/null\\n    payload=$(find . -regex '.*\\\\.ibd$\\\\|.*\\\\.MYI$\\\\|.*\\\\.MYD$\\\\|.*ibdata1$' -type f -print0 | du --files0-from=- --block-size=1 -c | awk 'END { print $1 }')\\n    if $MY_PRINT_DEFAULTS xtrabackup | grep -q -- \\\"--compress\\\";then \\n        # QuickLZ has around 50% compression ratio\\n        # When compression/compaction used, the progress is only an approximate.\\n        payload=$(( payload*1/2 ))\\n    fi\\n    popd 1>/dev/null\\n    pcmd+=\\\" -s $payload\\\"\\n    adjust_progress\\n}\\n\\nadjust_progress()\\n{\\n\\n    if [[ ! -x `which pv` ]];then \\n        wsrep_log_error \\\"pv not found in path: $PATH\\\"\\n        wsrep_log_error \\\"Disabling all progress/rate-limiting\\\"\\n        pcmd=\\\"\\\"\\n        rlimit=\\\"\\\"\\n        progress=\\\"\\\"\\n        return\\n    fi\\n\\n    if [[ -n $progress && $progress != '1' ]];then \\n        if [[ -e $progress ]];then \\n            pcmd+=\\\" 2>>$progress\\\"\\n        else \\n            pcmd+=\\\" 2>$progress\\\"\\n        fi\\n    elif [[ -z $progress && -n $rlimit  ]];then \\n            # When rlimit is non-zero\\n            pcmd=\\\"pv -q\\\"\\n    fi \\n\\n    if [[ -n $rlimit && \\\"$WSREP_SST_OPT_ROLE\\\"  == \\\"donor\\\" ]];then\\n        wsrep_log_info \\\"Rate-limiting SST to $rlimit\\\"\\n        pcmd+=\\\" -L \\\\$rlimit\\\"\\n    fi\\n}\\n\\nread_cnf()\\n{\\n    sfmt=$(parse_cnf sst streamfmt \\\"xbstream\\\")\\n    tfmt=$(parse_cnf sst transferfmt \\\"socat\\\")\\n    tca=$(parse_cnf sst tca \\\"\\\")\\n    tcert=$(parse_cnf sst tcert \\\"\\\")\\n    tkey=$(parse_cnf sst tkey \\\"\\\")\\n    encrypt=$(parse_cnf sst encrypt 0)\\n    sockopt=$(parse_cnf sst sockopt \\\"\\\")\\n    progress=$(parse_cnf sst progress \\\"\\\")\\n    rebuild=$(parse_cnf sst rebuild 0)\\n    ttime=$(parse_cnf sst time 0)\\n    cpat=$(parse_cnf sst cpat '.*\\\\.pem$\\\\|.*init\\\\.ok$\\\\|.*galera\\\\.cache$\\\\|.*sst_in_progress$\\\\|.*\\\\.sst$\\\\|.*gvwstate\\\\.dat$\\\\|.*grastate\\\\.dat$\\\\|.*\\\\.err$\\\\|.*\\\\.log$\\\\|.*RPM_UPGRADE_MARKER$\\\\|.*RPM_UPGRADE_HISTORY$')\\n    ealgo=$(parse_cnf xtrabackup encrypt \\\"\\\")\\n    ekey=$(parse_cnf xtrabackup encrypt-key \\\"\\\")\\n    ekeyfile=$(parse_cnf xtrabackup encrypt-key-file \\\"\\\")\\n    scomp=$(parse_cnf sst compressor \\\"\\\")\\n    sdecomp=$(parse_cnf sst decompressor \\\"\\\")\\n\\n\\n    # Refer to http://www.percona.com/doc/percona-xtradb-cluster/manual/xtrabackup_sst.html \\n    if [[ -z $ealgo ]];then\\n        ealgo=$(parse_cnf sst encrypt-algo \\\"\\\")\\n        ekey=$(parse_cnf sst encrypt-key \\\"\\\")\\n        ekeyfile=$(parse_cnf sst encrypt-key-file \\\"\\\")\\n    fi\\n\\n    # Pull the parameters needed for encrypt=4\\n    ssl_ca=$(parse_cnf sst ssl-ca \\\"\\\")\\n    if [[ -z \\\"$ssl_ca\\\" ]]; then\\n        ssl_ca=$(parse_cnf mysqld ssl-ca \\\"\\\")\\n    fi\\n    ssl_cert=$(parse_cnf sst ssl-cert \\\"\\\")\\n    if [[ -z \\\"$ssl_cert\\\" ]]; then\\n        ssl_cert=$(parse_cnf mysqld ssl-cert \\\"\\\")\\n    fi\\n    ssl_key=$(parse_cnf sst ssl-key \\\"\\\")\\n    if [[ -z \\\"$ssl_key\\\" ]]; then\\n        ssl_key=$(parse_cnf mysqld ssl-key \\\"\\\")\\n    fi\\n\\n    rlimit=$(parse_cnf sst rlimit \\\"\\\")\\n    uextra=$(parse_cnf sst use-extra 0)\\n    iopts=$(parse_cnf sst inno-backup-opts \\\"\\\")\\n    iapts=$(parse_cnf sst inno-apply-opts \\\"\\\")\\n    impts=$(parse_cnf sst inno-move-opts \\\"\\\")\\n    stimeout=$(parse_cnf sst sst-initial-timeout 100)\\n    ssyslog=$(parse_cnf sst sst-syslog 0)\\n    ssystag=$(parse_cnf mysqld_safe syslog-tag \\\"${SST_SYSLOG_TAG:-}\\\")\\n    ssystag+=\\\"-\\\"\\n\\n    if [[ $ssyslog -ne -1 ]];then \\n        if $MY_PRINT_DEFAULTS mysqld_safe | tr '_' '-' | grep -q -- \\\"--syslog\\\";then\\n            ssyslog=1\\n        fi\\n    fi\\n}\\n\\nget_stream()\\n{\\n    if [[ $sfmt == 'xbstream' ]];then \\n        wsrep_log_info \\\"Streaming with xbstream\\\"\\n        if [[ \\\"$WSREP_SST_OPT_ROLE\\\"  == \\\"joiner\\\" ]];then\\n            strmcmd=\\\"xbstream -x\\\"\\n        else\\n            strmcmd=\\\"xbstream -c \\\\${INFO_FILE}\\\"\\n        fi\\n    else\\n        sfmt=\\\"tar\\\"\\n        wsrep_log_info \\\"Streaming with tar\\\"\\n        if [[ \\\"$WSREP_SST_OPT_ROLE\\\"  == \\\"joiner\\\" ]];then\\n            strmcmd=\\\"tar xfi - \\\"\\n        else\\n            strmcmd=\\\"tar cf - \\\\${INFO_FILE} \\\"\\n        fi\\n\\n    fi\\n}\\n\\nget_proc()\\n{\\n    set +e\\n    nproc=$(grep -c processor /proc/cpuinfo)\\n    [[ -z $nproc || $nproc -eq 0 ]] && nproc=1\\n    set -e\\n}\\n\\nsig_joiner_cleanup()\\n{\\n    wsrep_log_error \\\"Removing $MAGIC_FILE file due to signal\\\"\\n    rm -f \\\"$MAGIC_FILE\\\"\\n}\\n\\ncleanup_joiner()\\n{\\n    # Since this is invoked just after exit NNN\\n    local estatus=$?\\n    if [[ $estatus -ne 0 ]];then \\n        wsrep_log_error \\\"Cleanup after exit with status:$estatus\\\"\\n    elif [ \\\"${WSREP_SST_OPT_ROLE}\\\" = \\\"joiner\\\" ];then\\n        wsrep_log_info \\\"Removing the sst_in_progress file\\\"\\n        wsrep_cleanup_progress_file\\n    fi\\n    if [[ -n $progress && -p $progress ]];then \\n        wsrep_log_info \\\"Cleaning up fifo file $progress\\\"\\n        rm $progress\\n    fi\\n    if [[ -n ${STATDIR:-} ]];then \\n       [[ -d $STATDIR ]] && rm -rf $STATDIR\\n    fi\\n\\n    # Final cleanup \\n    pgid=$(ps -o pgid= $$ | grep -o '[0-9]*')\\n\\n    # This means no setsid done in mysqld.\\n    # We don't want to kill mysqld here otherwise.\\n    if [[ $$ -eq $pgid ]];then\\n\\n        # This means a signal was delivered to the process.\\n        # So, more cleanup. \\n        if [[ $estatus -ge 128 ]];then \\n            kill -KILL -$$ || true\\n        fi\\n\\n    fi\\n\\n    exit $estatus\\n}\\n\\ncheck_pid()\\n{\\n    local pid_file=\\\"$1\\\"\\n    [ -r \\\"$pid_file\\\" ] && ps -p $(cat \\\"$pid_file\\\") >/dev/null 2>&1\\n}\\n\\ncleanup_donor()\\n{\\n    # Since this is invoked just after exit NNN\\n    local estatus=$?\\n    if [[ $estatus -ne 0 ]];then \\n        wsrep_log_error \\\"Cleanup after exit with status:$estatus\\\"\\n    fi\\n\\n    if [[ -n ${XTRABACKUP_PID:-} ]];then \\n        if check_pid $XTRABACKUP_PID\\n        then\\n            wsrep_log_error \\\"xtrabackup process is still running. Killing... \\\"\\n            kill_xtrabackup\\n        fi\\n\\n    fi\\n    rm -f ${DATA}/${IST_FILE} || true\\n\\n    if [[ -n $progress && -p $progress ]];then \\n        wsrep_log_info \\\"Cleaning up fifo file $progress\\\"\\n        rm -f $progress || true\\n    fi\\n\\n    wsrep_log_info \\\"Cleaning up temporary directories\\\"\\n\\n    if [[ -n $xtmpdir ]];then \\n       [[ -d $xtmpdir ]] &&  rm -rf $xtmpdir || true\\n    fi\\n\\n    if [[ -n $itmpdir ]];then \\n       [[ -d $itmpdir ]] &&  rm -rf $itmpdir || true\\n    fi\\n\\n    # Final cleanup \\n    pgid=$(ps -o pgid= $$ | grep -o '[0-9]*')\\n\\n    # This means no setsid done in mysqld.\\n    # We don't want to kill mysqld here otherwise.\\n    if [[ $$ -eq $pgid ]];then\\n\\n        # This means a signal was delivered to the process.\\n        # So, more cleanup. \\n        if [[ $estatus -ge 128 ]];then \\n            kill -KILL -$$ || true\\n        fi\\n\\n    fi\\n\\n    exit $estatus\\n\\n}\\n\\nkill_xtrabackup()\\n{\\n    local PID=$(cat $XTRABACKUP_PID)\\n    [ -n \\\"$PID\\\" -a \\\"0\\\" != \\\"$PID\\\" ] && kill $PID && (kill $PID && kill -9 $PID) || :\\n    wsrep_log_info \\\"Removing xtrabackup pid file $XTRABACKUP_PID\\\"\\n    rm -f \\\"$XTRABACKUP_PID\\\" || true\\n}\\n\\nsetup_ports()\\n{\\n    if [[ \\\"$WSREP_SST_OPT_ROLE\\\"  == \\\"donor\\\" ]];then\\n        SST_PORT=$WSREP_SST_OPT_PORT\\n        REMOTEIP=$WSREP_SST_OPT_HOST\\n        lsn=$(echo $WSREP_SST_OPT_PATH | awk -F '[/]' '{ print $2 }')\\n        sst_ver=$(echo $WSREP_SST_OPT_PATH | awk -F '[/]' '{ print $3 }')\\n    else\\n        SST_PORT=$WSREP_SST_OPT_PORT\\n    fi\\n}\\n\\n# waits ~1 minute for nc/socat to open the port and then reports ready\\n# (regardless of timeout)\\nwait_for_listen()\\n{\\n    local HOST=$1\\n    local PORT=$2\\n    local MODULE=$3\\n\\n    for i in {1..300}\\n    do\\n        ss -p state listening \\\"( sport = :$PORT )\\\" | grep -qE 'socat|nc' && break\\n        sleep 0.2\\n    done\\n\\n    echo \\\"ready ${HOST}:${PORT}/${MODULE}//$sst_ver\\\"\\n}\\n\\ncheck_extra()\\n{\\n    local use_socket=1\\n    if [[ $uextra -eq 1 ]];then \\n        if $MY_PRINT_DEFAULTS --mysqld | tr '_' '-' | grep -- \\\"--thread-handling=\\\" | grep -q 'pool-of-threads';then \\n            local eport=$($MY_PRINT_DEFAULTS mysqld | tr '_' '-' | grep -- \\\"--extra-port=\\\" | cut -d= -f2)\\n            if [[ -n $eport ]];then \\n                # Xtrabackup works only locally.\\n                # Hence, setting host to 127.0.0.1 unconditionally. \\n                wsrep_log_info \\\"SST through extra_port $eport\\\"\\n                INNOEXTRA+=\\\" --host=127.0.0.1 --port=$eport \\\"\\n                use_socket=0\\n            else \\n                wsrep_log_error \\\"Extra port $eport null, failing\\\"\\n                exit 1\\n            fi\\n        else \\n            wsrep_log_info \\\"Thread pool not set, ignore the option use_extra\\\"\\n        fi\\n    fi\\n}\\n\\nrecv_joiner()\\n{\\n    local dir=$1\\n    local msg=$2 \\n    local tmt=$3\\n    local checkf=$4\\n    local ltcmd\\n\\n    if [[ ! -d ${dir} ]];then\\n        # This indicates that IST is in progress\\n        return\\n    fi\\n\\n    pushd ${dir} 1>/dev/null\\n    set +e\\n\\n    if [[ $tmt -gt 0 && -x `which timeout` ]];then \\n        if timeout --help | grep -q -- '-k';then \\n            ltcmd=\\\"timeout -k $(( tmt+10 )) $tmt $tcmd\\\"\\n        else \\n            ltcmd=\\\"timeout -s9 $tmt $tcmd\\\"\\n        fi\\n        timeit \\\"$msg\\\" \\\"$ltcmd | $strmcmd; RC=( \\\"\\\\${PIPESTATUS[@]}\\\" )\\\"\\n    else \\n        timeit \\\"$msg\\\" \\\"$tcmd | $strmcmd; RC=( \\\"\\\\${PIPESTATUS[@]}\\\" )\\\"\\n    fi\\n\\n    set -e\\n    popd 1>/dev/null \\n\\n    if [[ ${RC[0]} -eq 124 ]];then \\n        wsrep_log_error \\\"Possible timeout in receving first data from donor in gtid stage\\\"\\n        exit 32\\n    fi\\n\\n    for ecode in \\\"${RC[@]}\\\";do \\n        if [[ $ecode -ne 0 ]];then \\n            wsrep_log_error \\\"Error while getting data from donor node: \\\" \\\\\\n                            \\\"exit codes: ${RC[@]}\\\"\\n            exit 32\\n        fi\\n    done\\n\\n    if [[ $checkf -eq 1 && ! -r \\\"${MAGIC_FILE}\\\" ]];then\\n        # this message should cause joiner to abort\\n        wsrep_log_error \\\"xtrabackup process ended without creating '${MAGIC_FILE}'\\\"\\n        wsrep_log_info \\\"Contents of datadir\\\" \\n        wsrep_log_info \\\"$(ls -l ${dir}/*)\\\"\\n        exit 32\\n    fi\\n}\\n\\n\\nsend_donor()\\n{\\n    local dir=$1\\n    local msg=$2 \\n\\n    pushd ${dir} 1>/dev/null\\n    set +e\\n    timeit \\\"$msg\\\" \\\"$strmcmd | $tcmd; RC=( \\\"\\\\${PIPESTATUS[@]}\\\" )\\\"\\n    set -e\\n    popd 1>/dev/null \\n\\n\\n    for ecode in \\\"${RC[@]}\\\";do \\n        if [[ $ecode -ne 0 ]];then \\n            wsrep_log_error \\\"Error while getting data from donor node: \\\" \\\\\\n                            \\\"exit codes: ${RC[@]}\\\"\\n            exit 32\\n        fi\\n    done\\n\\n}\\n\\n# Returns the version string in a standardized format\\n# Input \\\"1.2.3\\\" => echoes \\\"010203\\\"\\n# Wrongly formatted values => echoes \\\"000000\\\"\\nnormalize_version()\\n{\\n    local major=0\\n    local minor=0\\n    local patch=0\\n\\n    # Only parses purely numeric version numbers, 1.2.3 \\n    # Everything after the first three values are ignored\\n    if [[ $1 =~ ^([0-9]+)\\\\.([0-9]+)\\\\.?([0-9]*)([\\\\.0-9])*$ ]]; then\\n        major=${BASH_REMATCH[1]}\\n        minor=${BASH_REMATCH[2]}\\n        patch=${BASH_REMATCH[3]}\\n    fi\\n\\n    printf %02d%02d%02d $major $minor $patch\\n}\\n\\n# Compares two version strings\\n# The first parameter is the version to be checked\\n# The second parameter is the minimum version required\\n# Returns 1 (failure) if $1 >= $2, 0 (success) otherwise\\ncheck_for_version()\\n{\\n    local local_version_str=\\\"$( normalize_version $1 )\\\"\\n    local required_version_str=\\\"$( normalize_version $2 )\\\"\\n\\n    if [[ \\\"$local_version_str\\\" < \\\"$required_version_str\\\" ]]; then\\n        return 1\\n    else\\n        return 0\\n    fi\\n}\\n\\n\\nif [[ ! -x `which $INNOBACKUPEX_BIN` ]];then \\n    wsrep_log_error \\\"innobackupex not in path: $PATH\\\"\\n    exit 2\\nfi\\n\\n# check the version, we require XB-2.4 to ensure that we can pass the\\n# datadir via the command-line option\\nXB_REQUIRED_VERSION=\\\"2.3.5\\\"\\n\\nXB_VERSION=`$INNOBACKUPEX_BIN --version 2>&1 | grep -oe '[0-9]\\\\.[0-9][\\\\.0-9]*' | head -n1`\\nif [[ -z $XB_VERSION ]]; then\\n    wsrep_log_error \\\"FATAL: Cannot determine the $INNOBACKUPEX_BIN version. Needs xtrabackup-$XB_REQUIRED_VERSION or higher to perform SST\\\"\\n    exit 2\\nfi\\n\\nif ! check_for_version $XB_VERSION $XB_REQUIRED_VERSION; then\\n    wsrep_log_error \\\"FATAL: The $INNOBACKUPEX_BIN version is $XB_VERSION. Needs xtrabackup-$XB_REQUIRED_VERSION or higher to perform SST\\\"\\n    exit 2\\nfi\\n\\n\\nrm -f \\\"${MAGIC_FILE}\\\"\\n\\nif [[ ! ${WSREP_SST_OPT_ROLE} == 'joiner' && ! ${WSREP_SST_OPT_ROLE} == 'donor' ]];then \\n    wsrep_log_error \\\"Invalid role ${WSREP_SST_OPT_ROLE}\\\"\\n    exit 22\\nfi\\n\\nread_cnf\\nsetup_ports\\n\\nif ${INNOBACKUPEX_BIN} /tmp --help 2>/dev/null | grep -q -- '--version-check'; then \\n    disver=\\\"--no-version-check\\\"\\nfi\\n\\nif [[ ${FORCE_FTWRL:-0} -eq 1 ]];then \\n    wsrep_log_info \\\"Forcing FTWRL due to environment variable FORCE_FTWRL equal to $FORCE_FTWRL\\\"\\n    iopts+=\\\" --no-backup-locks \\\"\\nfi\\n\\n\\nINNOEXTRA=\\\"\\\"\\n\\nif [[ $ssyslog -eq 1 ]];then \\n\\n    if [[ ! -x `which logger` ]];then \\n        wsrep_log_error \\\"logger not in path: $PATH. Ignoring\\\"\\n    else\\n\\n        wsrep_log_info \\\"Logging all stderr of SST/Innobackupex to syslog\\\"\\n\\n        exec 2> >(logger -p daemon.err -t ${ssystag}wsrep-sst-$WSREP_SST_OPT_ROLE)\\n\\n        wsrep_log_error()\\n        {\\n            logger  -p daemon.err -t ${ssystag}wsrep-sst-$WSREP_SST_OPT_ROLE \\\"$@\\\" \\n        }\\n\\n        wsrep_log_info()\\n        {\\n            logger  -p daemon.info -t ${ssystag}wsrep-sst-$WSREP_SST_OPT_ROLE \\\"$@\\\" \\n        }\\n\\n        INNOAPPLY=\\\"${INNOBACKUPEX_BIN} $disver $iapts --apply-log \\\\$rebuildcmd \\\\${DATA} 2>&1  | logger -p daemon.err -t ${ssystag}innobackupex-apply \\\"\\n        INNOMOVE=\\\"${INNOBACKUPEX_BIN} ${WSREP_SST_OPT_DEFAULT} $disver $impts --datadir=${DATA} --move-back --force-non-empty-directories \\\\${DATA} 2>&1 | logger -p daemon.err -t ${ssystag}innobackupex-move \\\"\\n        INNOBACKUP=\\\"${INNOBACKUPEX_BIN} ${WSREP_SST_OPT_DEFAULT} $disver $iopts \\\\$tmpopts \\\\$INNOEXTRA --galera-info --stream=\\\\$sfmt \\\\$itmpdir 2> >(logger -p daemon.err -t ${ssystag}innobackupex-backup)\\\"\\n    fi\\n\\nelse \\n    INNOAPPLY=\\\"${INNOBACKUPEX_BIN} $disver $iapts --apply-log \\\\$rebuildcmd \\\\${DATA} &>\\\\${DATA}/innobackup.prepare.log\\\"\\n    INNOMOVE=\\\"${INNOBACKUPEX_BIN} ${WSREP_SST_OPT_DEFAULT} --defaults-group=mysqld${WSREP_SST_OPT_CONF_SUFFIX} $disver $impts --datadir=${DATA} --move-back --force-non-empty-directories \\\\${DATA} &>\\\\${DATA}/innobackup.move.log\\\"\\n    INNOBACKUP=\\\"${INNOBACKUPEX_BIN} ${WSREP_SST_OPT_DEFAULT} $disver $iopts \\\\$tmpopts \\\\$INNOEXTRA --galera-info --stream=\\\\$sfmt \\\\$itmpdir 2>\\\\${DATA}/innobackup.backup.log\\\"\\nfi\\n\\nget_stream\\nget_transfer\\n\\nif [ \\\"$WSREP_SST_OPT_ROLE\\\" = \\\"donor\\\" ]\\nthen\\n    trap cleanup_donor EXIT\\n\\n    if [ $WSREP_SST_OPT_BYPASS -eq 0 ]\\n    then\\n        usrst=0\\n        if [[ -z $sst_ver ]];then \\n            wsrep_log_error \\\"Upgrade joiner to 5.6.21 or higher for backup locks support\\\"\\n            wsrep_log_error \\\"The joiner is not supported for this version of donor\\\"\\n            exit 93\\n        fi\\n\\n        if [[ -z $(parse_cnf mysqld tmpdir \\\"\\\") && -z $(parse_cnf xtrabackup tmpdir \\\"\\\") ]];then \\n            xtmpdir=$(mktemp -d)\\n            tmpopts=\\\" --tmpdir=$xtmpdir \\\"\\n            wsrep_log_info \\\"Using $xtmpdir as xtrabackup temporary directory\\\"\\n        fi\\n\\n        itmpdir=$(mktemp -d)\\n        wsrep_log_info \\\"Using $itmpdir as innobackupex temporary directory\\\"\\n\\n        if [[ -n \\\"${WSREP_SST_OPT_USER:-}\\\" && \\\"$WSREP_SST_OPT_USER\\\" != \\\"(null)\\\" ]]; then\\n           INNOEXTRA+=\\\" --user=$WSREP_SST_OPT_USER\\\"\\n           usrst=1\\n        fi\\n\\n        if [ -n \\\"${WSREP_SST_OPT_PSWD:-}\\\" ]; then\\n           INNOEXTRA+=\\\" --password=$WSREP_SST_OPT_PSWD\\\"\\n        elif [[ $usrst -eq 1 ]];then\\n           # Empty password, used for testing, debugging etc.\\n           INNOEXTRA+=\\\" --password=\\\"\\n        fi\\n\\n        get_keys\\n        check_extra\\n\\n        wsrep_log_info \\\"Streaming GTID file before SST\\\"\\n\\n        # Store donor's wsrep GTID (state ID) and wsrep_gtid_domain_id\\n        # (separated by a space).\\n        echo \\\"${WSREP_SST_OPT_GTID} ${WSREP_SST_OPT_GTID_DOMAIN_ID}\\\" > \\\"${MAGIC_FILE}\\\"\\n\\n        ttcmd=\\\"$tcmd\\\"\\n\\n        if [[ $encrypt -eq 1 ]];then\\n            if [[ -n $scomp ]];then \\n                tcmd=\\\" \\\\$ecmd | $scomp | $tcmd \\\"\\n            else \\n                tcmd=\\\" \\\\$ecmd | $tcmd \\\"\\n            fi\\n        elif [[ -n $scomp ]];then \\n            tcmd=\\\" $scomp | $tcmd \\\"\\n        fi\\n\\n        send_donor $DATA \\\"${stagemsg}-gtid\\\"\\n\\n        # Restore the transport commmand to its original state\\n        tcmd=\\\"$ttcmd\\\"\\n        if [[ -n $progress ]];then \\n            get_footprint\\n            tcmd=\\\"$pcmd | $tcmd\\\"\\n        elif [[ -n $rlimit ]];then \\n            adjust_progress\\n            tcmd=\\\"$pcmd | $tcmd\\\"\\n        fi\\n\\n        wsrep_log_info \\\"Sleeping before data transfer for SST\\\"\\n        sleep 10\\n\\n        wsrep_log_info \\\"Streaming the backup to joiner at ${REMOTEIP} ${SST_PORT:-4444}\\\"\\n\\n        # Add compression to the head of the stream (if specified)\\n        if [[ -n $scomp ]]; then\\n            tcmd=\\\"$scomp | $tcmd\\\"\\n        fi\\n\\n        # Add encryption to the head of the stream (if specified)\\n        if [[ $encrypt -eq 1 ]]; then\\n            tcmd=\\\" \\\\$ecmd | $tcmd \\\"\\n        fi\\n\\n        set +e\\n        timeit \\\"${stagemsg}-SST\\\" \\\"$INNOBACKUP | $tcmd; RC=( \\\"\\\\${PIPESTATUS[@]}\\\" )\\\"\\n        set -e\\n\\n        if [ ${RC[0]} -ne 0 ]; then\\n          wsrep_log_error \\\"${INNOBACKUPEX_BIN} finished with error: ${RC[0]}. \\\" \\\\\\n                          \\\"Check ${DATA}/innobackup.backup.log\\\"\\n          exit 22\\n        elif [[ ${RC[$(( ${#RC[@]}-1 ))]} -eq 1 ]];then \\n          wsrep_log_error \\\"$tcmd finished with error: ${RC[1]}\\\"\\n          exit 22\\n        fi\\n\\n        # innobackupex implicitly writes PID to fixed location in $xtmpdir\\n        XTRABACKUP_PID=\\\"$xtmpdir/xtrabackup_pid\\\"\\n\\n\\n    else # BYPASS FOR IST\\n\\n        wsrep_log_info \\\"Bypassing the SST for IST\\\"\\n        echo \\\"continue\\\" # now server can resume updating data\\n\\n        # Store donor's wsrep GTID (state ID) and wsrep_gtid_domain_id\\n        # (separated by a space).\\n        echo \\\"${WSREP_SST_OPT_GTID} ${WSREP_SST_OPT_GTID_DOMAIN_ID}\\\" > \\\"${MAGIC_FILE}\\\"\\n        echo \\\"1\\\" > \\\"${DATA}/${IST_FILE}\\\"\\n        get_keys\\n        if [[ $encrypt -eq 1 ]];then\\n            if [[ -n $scomp ]];then \\n                tcmd=\\\" \\\\$ecmd | $scomp | $tcmd \\\"\\n            else\\n                tcmd=\\\" \\\\$ecmd | $tcmd \\\"\\n            fi\\n        elif [[ -n $scomp ]];then \\n            tcmd=\\\" $scomp | $tcmd \\\"\\n        fi\\n        strmcmd+=\\\" \\\\${IST_FILE}\\\"\\n\\n        send_donor $DATA \\\"${stagemsg}-IST\\\"\\n\\n    fi\\n\\n    echo \\\"done ${WSREP_SST_OPT_GTID}\\\"\\n    wsrep_log_info \\\"Total time on donor: $totime seconds\\\"\\n\\nelif [ \\\"${WSREP_SST_OPT_ROLE}\\\" = \\\"joiner\\\" ]\\nthen\\n    [[ -e $SST_PROGRESS_FILE ]] && wsrep_log_info \\\"Stale sst_in_progress file: $SST_PROGRESS_FILE\\\"\\n    [[ -n $SST_PROGRESS_FILE ]] && touch $SST_PROGRESS_FILE\\n\\n    ib_home_dir=$(parse_cnf mysqld innodb-data-home-dir \\\"\\\")\\n    ib_log_dir=$(parse_cnf mysqld innodb-log-group-home-dir \\\"\\\")\\n    ib_undo_dir=$(parse_cnf mysqld innodb-undo-directory \\\"\\\")\\n\\n    stagemsg=\\\"Joiner-Recv\\\"\\n\\n    sencrypted=1\\n    nthreads=1\\n\\n    MODULE=\\\"xtrabackup_sst\\\"\\n\\n    rm -f \\\"${DATA}/${IST_FILE}\\\"\\n\\n    # May need xtrabackup_checkpoints later on\\n    rm -f ${DATA}/xtrabackup_binary ${DATA}/xtrabackup_galera_info  ${DATA}/xtrabackup_logfile\\n\\n    wait_for_listen ${WSREP_SST_OPT_HOST} ${WSREP_SST_OPT_PORT:-4444} ${MODULE} &\\n\\n    trap sig_joiner_cleanup HUP PIPE INT TERM\\n    trap cleanup_joiner EXIT\\n\\n    if [[ -n $progress ]];then \\n        adjust_progress\\n        tcmd+=\\\" | $pcmd\\\"\\n    fi\\n\\n    get_keys\\n    if [[ $encrypt -eq 1 && $sencrypted -eq 1 ]];then\\n        if [[ -n $sdecomp ]];then \\n            strmcmd=\\\" $sdecomp | \\\\$ecmd | $strmcmd\\\"\\n        else \\n            strmcmd=\\\" \\\\$ecmd | $strmcmd\\\"\\n        fi\\n    elif [[ -n $sdecomp ]];then \\n            strmcmd=\\\" $sdecomp | $strmcmd\\\"\\n    fi\\n\\n    STATDIR=$(mktemp -d)\\n    MAGIC_FILE=\\\"${STATDIR}/${INFO_FILE}\\\"\\n    recv_joiner $STATDIR  \\\"${stagemsg}-gtid\\\" $stimeout 1\\n\\n\\n    if ! ps -p ${WSREP_SST_OPT_PARENT} &>/dev/null\\n    then\\n        wsrep_log_error \\\"Parent mysqld process (PID:${WSREP_SST_OPT_PARENT}) terminated unexpectedly.\\\" \\n        exit 32\\n    fi\\n\\n    if [ ! -r \\\"${STATDIR}/${IST_FILE}\\\" ]\\n    then\\n\\n        if [[ -d ${DATA}/.sst ]];then\\n            wsrep_log_info \\\"WARNING: Stale temporary SST directory: ${DATA}/.sst from previous state transfer. Removing\\\"\\n            rm -rf ${DATA}/.sst\\n        fi\\n        mkdir -p ${DATA}/.sst\\n        (recv_joiner $DATA/.sst \\\"${stagemsg}-SST\\\" 0 0) &\\n        jpid=$!\\n        wsrep_log_info \\\"Proceeding with SST\\\"\\n\\n\\n        wsrep_log_info \\\"Cleaning the existing datadir and innodb-data/log directories\\\"\\n        find $ib_home_dir $ib_log_dir $ib_undo_dir $DATA -mindepth 1 -prune -regex $cpat -o -exec rm -rfv {} 1>&2 \\\\+\\n\\n        tempdir=$(parse_cnf mysqld log-bin \\\"\\\")\\n        if [[ -n ${tempdir:-} ]];then\\n            binlog_dir=$(dirname $tempdir)\\n            binlog_file=$(basename $tempdir)\\n            if [[ -n ${binlog_dir:-} && $binlog_dir != '.' && $binlog_dir != $DATA ]];then\\n                pattern=\\\"$binlog_dir/$binlog_file\\\\.[0-9]+$\\\"\\n                wsrep_log_info \\\"Cleaning the binlog directory $binlog_dir as well\\\"\\n                find $binlog_dir -maxdepth 1 -type f -regex $pattern -exec rm -fv {} 1>&2 \\\\+ || true\\n                rm $binlog_dir/*.index || true\\n            fi\\n        fi\\n\\n\\n\\n        TDATA=${DATA}\\n        DATA=\\\"${DATA}/.sst\\\"\\n\\n\\n        MAGIC_FILE=\\\"${DATA}/${INFO_FILE}\\\"\\n        wsrep_log_info \\\"Waiting for SST streaming to complete!\\\"\\n        wait $jpid\\n\\n        get_proc\\n\\n        if [[ ! -s ${DATA}/xtrabackup_checkpoints ]];then \\n            wsrep_log_error \\\"xtrabackup_checkpoints missing, failed innobackupex/SST on donor\\\"\\n            exit 2\\n        fi\\n\\n        # Rebuild indexes for compact backups\\n        if grep -q 'compact = 1' ${DATA}/xtrabackup_checkpoints;then \\n            wsrep_log_info \\\"Index compaction detected\\\"\\n            rebuild=1\\n        fi\\n\\n        if [[ $rebuild -eq 1 ]];then \\n            nthreads=$(parse_cnf xtrabackup rebuild-threads $nproc)\\n            wsrep_log_info \\\"Rebuilding during prepare with $nthreads threads\\\"\\n            rebuildcmd=\\\"--rebuild-indexes --rebuild-threads=$nthreads\\\"\\n        fi\\n\\n        if test -n \\\"$(find ${DATA} -maxdepth 1 -type f -name '*.qp' -print -quit)\\\";then\\n\\n            wsrep_log_info \\\"Compressed qpress files found\\\"\\n\\n            if [[ ! -x `which qpress` ]];then \\n                wsrep_log_error \\\"qpress not found in path: $PATH\\\"\\n                exit 22\\n            fi\\n\\n            if [[ -n $progress ]] && pv --help | grep -q 'line-mode';then\\n                count=$(find ${DATA} -type f -name '*.qp' | wc -l)\\n                count=$(( count*2 ))\\n                if pv --help | grep -q FORMAT;then \\n                    pvopts=\\\"-f -s $count -l -N Decompression -F '%N => Rate:%r Elapsed:%t %e Progress: [%b/$count]'\\\"\\n                else \\n                    pvopts=\\\"-f -s $count -l -N Decompression\\\"\\n                fi\\n                pcmd=\\\"pv $pvopts\\\"\\n                adjust_progress\\n                dcmd=\\\"$pcmd | xargs -n 2 qpress -T${nproc}d\\\"\\n            else \\n                dcmd=\\\"xargs -n 2 qpress -T${nproc}d\\\"\\n            fi\\n\\n\\n            # Decompress the qpress files \\n            wsrep_log_info \\\"Decompression with $nproc threads\\\"\\n            timeit \\\"Joiner-Decompression\\\" \\\"find ${DATA} -type f -name '*.qp' -printf '%p\\\\n%h\\\\n' | $dcmd\\\"\\n            extcode=$?\\n\\n            if [[ $extcode -eq 0 ]];then\\n                wsrep_log_info \\\"Removing qpress files after decompression\\\"\\n                find ${DATA} -type f -name '*.qp' -delete \\n                if [[ $? -ne 0 ]];then \\n                    wsrep_log_error \\\"Something went wrong with deletion of qpress files. Investigate\\\"\\n                fi\\n            else\\n                wsrep_log_error \\\"Decompression failed. Exit code: $extcode\\\"\\n                exit 22\\n            fi\\n        fi\\n\\n\\n        if  [[ ! -z $WSREP_SST_OPT_BINLOG ]];then\\n\\n            BINLOG_DIRNAME=$(dirname $WSREP_SST_OPT_BINLOG)\\n            BINLOG_FILENAME=$(basename $WSREP_SST_OPT_BINLOG)\\n\\n            # To avoid comparing data directory and BINLOG_DIRNAME \\n            mv $DATA/${BINLOG_FILENAME}.* $BINLOG_DIRNAME/ 2>/dev/null || true\\n\\n            pushd $BINLOG_DIRNAME &>/dev/null\\n            for bfiles in $(ls -1 ${BINLOG_FILENAME}.[0-9]*);do\\n                echo ${BINLOG_DIRNAME}/${bfiles} >> ${BINLOG_FILENAME}.index\\n            done\\n            popd &> /dev/null\\n\\n        fi\\n\\n        wsrep_log_info \\\"Preparing the backup at ${DATA}\\\"\\n        timeit \\\"Xtrabackup prepare stage\\\" \\\"$INNOAPPLY\\\"\\n\\n        if [ $? -ne 0 ];\\n        then\\n            wsrep_log_error \\\"${INNOBACKUPEX_BIN} apply finished with errors. Check ${DATA}/innobackup.prepare.log\\\" \\n            exit 22\\n        fi\\n\\n        MAGIC_FILE=\\\"${TDATA}/${INFO_FILE}\\\"\\n        set +e\\n        rm $TDATA/innobackup.prepare.log $TDATA/innobackup.move.log\\n        set -e\\n        wsrep_log_info \\\"Moving the backup to ${TDATA}\\\"\\n        timeit \\\"Xtrabackup move stage\\\" \\\"$INNOMOVE\\\"\\n        if [[ $? -eq 0 ]];then \\n            wsrep_log_info \\\"Move successful, removing ${DATA}\\\"\\n            rm -rf $DATA\\n            DATA=${TDATA}\\n        else \\n            wsrep_log_error \\\"Move failed, keeping ${DATA} for further diagnosis\\\"\\n            wsrep_log_error \\\"Check ${DATA}/innobackup.move.log for details\\\"\\n            exit 22\\n        fi\\n\\n\\n    else \\n        wsrep_log_info \\\"${IST_FILE} received from donor: Running IST\\\"\\n    fi\\n\\n    if [[ ! -r ${MAGIC_FILE} ]];then \\n        wsrep_log_error \\\"SST magic file ${MAGIC_FILE} not found/readable\\\"\\n        exit 2\\n    fi\\n    wsrep_log_info \\\"Galera co-ords from recovery: $(cat ${MAGIC_FILE})\\\"\\n    cat \\\"${MAGIC_FILE}\\\" # Output : UUID:seqno wsrep_gtid_domain_id\\n    wsrep_log_info \\\"Total time on joiner: $totime seconds\\\"\\nfi\\n\\nexit 0\"}",
                    "var_updated": "2018-01-21 13:02:39",
                    "var_name": "db_cnf_script_wsrep_sst_xtrabackupv2",
                    "id": 6012
                },
                {
                    "var_author": " Manager",
                    "var_class": "file",
                    "var_value": "{\"path\":\"%%ENV:SVC_CONF_ENV_BASE_DIR%%/%%ENV:POD%%/init/wsrep_sst_common\",\"mode\":755,\"uid\":\"%%ENV:MYSQL_UID%%\",\"gid\":\"%%ENV:MYSQL_GID%%\",\"fmt\":\"# Copyright (C) 2012-2015 Codership Oy\\n#\\n# This program is free software; you can redistribute it and/or modify\\n# it under the terms of the GNU General Public License as published by\\n# the Free Software Foundation; version 2 of the License.\\n#\\n# This program is distributed in the hope that it will be useful,\\n# but WITHOUT ANY WARRANTY; without even the implied warranty of\\n# MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\\n# GNU General Public License for more details.\\n#\\n# You should have received a copy of the GNU General Public License\\n# along with this program; see the file COPYING. If not, write to the\\n# Free Software Foundation, Inc., 51 Franklin St, Fifth Floor, Boston\\n# MA  02110-1301  USA.\\n\\n# This is a common command line parser to be sourced by other SST scripts\\n\\nset -u\\n\\nWSREP_SST_OPT_BYPASS=0\\nWSREP_SST_OPT_BINLOG=\\\"\\\"\\nWSREP_SST_OPT_CONF_SUFFIX=\\\"\\\"\\nWSREP_SST_OPT_DATA=\\\"\\\"\\nWSREP_SST_OPT_AUTH=${WSREP_SST_OPT_AUTH:-}\\nWSREP_SST_OPT_USER=${WSREP_SST_OPT_USER:-}\\nWSREP_SST_OPT_PSWD=${WSREP_SST_OPT_PSWD:-}\\nWSREP_SST_OPT_DEFAULT=\\\"\\\"\\nWSREP_SST_OPT_EXTRA_DEFAULT=\\\"\\\"\\n\\nwhile [ $# -gt 0 ]; do\\ncase \\\"$1\\\" in\\n    '--address')\\n        readonly WSREP_SST_OPT_ADDR=\\\"$2\\\"\\n        #\\n        # Break address string into host:port/path parts\\n        #\\n        if echo $WSREP_SST_OPT_ADDR | grep -qe '^\\\\[.*\\\\]'\\n        then\\n            # IPv6 notation\\n            readonly WSREP_SST_OPT_HOST=${WSREP_SST_OPT_ADDR/\\\\]*/\\\\]}\\n            readonly WSREP_SST_OPT_HOST_UNESCAPED=$(echo $WSREP_SST_OPT_HOST | \\\\\\n                 cut -d '[' -f 2 | cut -d ']' -f 1)\\n        else\\n            # \\\"traditional\\\" notation\\n            readonly WSREP_SST_OPT_HOST=${WSREP_SST_OPT_ADDR%%[:/]*}\\n        fi\\n        readonly WSREP_SST_OPT_ADDR_PORT=$(echo $WSREP_SST_OPT_ADDR | \\\\\\n                cut -d ']' -f 2 | cut -s -d ':' -f 2 | cut -d '/' -f 1)\\n        readonly WSREP_SST_OPT_PATH=${WSREP_SST_OPT_ADDR#*/}\\n        shift\\n        ;;\\n    '--bypass')\\n        WSREP_SST_OPT_BYPASS=1\\n        ;;\\n    '--datadir')\\n        readonly WSREP_SST_OPT_DATA=\\\"$2\\\"\\n        shift\\n        ;;\\n    '--defaults-file')\\n        readonly WSREP_SST_OPT_DEFAULT=\\\"$1=$2\\\"\\n        shift\\n        ;;\\n    '--defaults-extra-file')\\n        readonly WSREP_SST_OPT_EXTRA_DEFAULT=\\\"$1=$2\\\"\\n        shift\\n        ;;\\n    '--defaults-group-suffix')\\n        WSREP_SST_OPT_CONF_SUFFIX=\\\"$2\\\"\\n        shift\\n        ;;\\n    '--host')\\n        readonly WSREP_SST_OPT_HOST=\\\"$2\\\"\\n        shift\\n        ;;\\n    '--local-port')\\n        readonly WSREP_SST_OPT_LPORT=\\\"$2\\\"\\n        shift\\n        ;;\\n    '--parent')\\n        readonly WSREP_SST_OPT_PARENT=\\\"$2\\\"\\n        shift\\n        ;;\\n    '--password')\\n        WSREP_SST_OPT_PSWD=\\\"$2\\\"\\n        shift\\n        ;;\\n    '--port')\\n        readonly WSREP_SST_OPT_PORT=\\\"$2\\\"\\n        shift\\n        ;;\\n    '--role')\\n        readonly WSREP_SST_OPT_ROLE=\\\"$2\\\"\\n        shift\\n        ;;\\n    '--socket')\\n        readonly WSREP_SST_OPT_SOCKET=\\\"$2\\\"\\n        shift\\n        ;;\\n    '--user')\\n        WSREP_SST_OPT_USER=\\\"$2\\\"\\n        shift\\n        ;;\\n    '--gtid')\\n        readonly WSREP_SST_OPT_GTID=\\\"$2\\\"\\n        shift\\n        ;;\\n    '--binlog')\\n        WSREP_SST_OPT_BINLOG=\\\"$2\\\"\\n        shift\\n        ;;\\n    '--gtid-domain-id')\\n        readonly WSREP_SST_OPT_GTID_DOMAIN_ID=\\\"$2\\\"\\n        shift\\n        ;;\\n    *) # must be command\\n       # usage\\n       # exit 1\\n       ;;\\nesac\\nshift\\ndone\\nreadonly WSREP_SST_OPT_BYPASS\\nreadonly WSREP_SST_OPT_BINLOG\\nreadonly WSREP_SST_OPT_CONF_SUFFIX\\n\\nif [ -n \\\"${WSREP_SST_OPT_ADDR:-}\\\" ]; then\\n  if [ -n \\\"${WSREP_SST_OPT_PORT:-}\\\" ]; then\\n    if [ -n \\\"$WSREP_SST_OPT_ADDR_PORT\\\" -a \\\"$WSREP_SST_OPT_PORT\\\" != \\\"$WSREP_SST_OPT_ADDR_PORT\\\" ]; then\\n      wsrep_log_error \\\"port in --port=$WSREP_SST_OPT_PORT differs from port in --address=$WSREP_SST_OPT_ADDR\\\"\\n      exit 2\\n    fi\\n  else\\n    readonly WSREP_SST_OPT_PORT=\\\"$WSREP_SST_OPT_ADDR_PORT\\\"\\n  fi\\nfi\\n\\n# try to use my_print_defaults, mysql and mysqldump that come with the sources\\n# (for MTR suite)\\nSCRIPTS_DIR=\\\"$(cd $(dirname \\\"$0\\\"); pwd -P)\\\"\\nEXTRA_DIR=\\\"$SCRIPTS_DIR/../extra\\\"\\nCLIENT_DIR=\\\"$SCRIPTS_DIR/../client\\\"\\n\\nif [ -x \\\"$CLIENT_DIR/mysql\\\" ]; then\\n    MYSQL_CLIENT=\\\"$CLIENT_DIR/mysql\\\"\\nelse\\n    MYSQL_CLIENT=$(which mysql)\\nfi\\n\\nif [ -x \\\"$CLIENT_DIR/mysqldump\\\" ]; then\\n    MYSQLDUMP=\\\"$CLIENT_DIR/mysqldump\\\"\\nelse\\n    MYSQLDUMP=$(which mysqldump)\\nfi\\n\\nif [ -x \\\"$SCRIPTS_DIR/my_print_defaults\\\" ]; then\\n    MY_PRINT_DEFAULTS=\\\"$SCRIPTS_DIR/my_print_defaults\\\"\\nelif [ -x \\\"$EXTRA_DIR/my_print_defaults\\\" ]; then\\n    MY_PRINT_DEFAULTS=\\\"$EXTRA_DIR/my_print_defaults\\\"\\nelse\\n    MY_PRINT_DEFAULTS=$(which my_print_defaults)\\nfi\\n\\nreadonly WSREP_SST_OPT_CONF=\\\"$WSREP_SST_OPT_DEFAULT $WSREP_SST_OPT_EXTRA_DEFAULT\\\"\\nMY_PRINT_DEFAULTS=\\\"$MY_PRINT_DEFAULTS $WSREP_SST_OPT_CONF\\\"\\nwsrep_auth_not_set()\\n{\\n    [ -z \\\"$WSREP_SST_OPT_AUTH\\\" -o \\\"$WSREP_SST_OPT_AUTH\\\" = \\\"(null)\\\" ]\\n}\\n\\n# For Bug:1200727\\nif $MY_PRINT_DEFAULTS sst | grep -q \\\"wsrep_sst_auth\\\"\\nthen\\n    if wsrep_auth_not_set\\n    then\\n        WSREP_SST_OPT_AUTH=$($MY_PRINT_DEFAULTS sst | grep -- \\\"--wsrep_sst_auth\\\" | cut -d= -f2)\\n    fi\\nfi\\nreadonly WSREP_SST_OPT_AUTH\\n\\n# Splitting AUTH into potential user:password pair\\nif ! wsrep_auth_not_set\\nthen\\n    WSREP_SST_OPT_USER=\\\"${WSREP_SST_OPT_AUTH%%:*}\\\"\\n    WSREP_SST_OPT_PSWD=\\\"${WSREP_SST_OPT_AUTH##*:}\\\"\\nfi\\nreadonly WSREP_SST_OPT_USER\\nreadonly WSREP_SST_OPT_PSWD\\n\\nif [ -n \\\"${WSREP_SST_OPT_DATA:-}\\\" ]\\nthen\\n    SST_PROGRESS_FILE=\\\"$WSREP_SST_OPT_DATA/sst_in_progress\\\"\\nelse\\n    SST_PROGRESS_FILE=\\\"\\\"\\nfi\\n\\nwsrep_log()\\n{\\n    # echo everything to stderr so that it gets into common error log\\n    # deliberately made to look different from the rest of the log\\n    local readonly tst=\\\"$(date +%Y%m%d\\\\ %H:%M:%S.%N | cut -b -21)\\\"\\n    echo \\\"WSREP_SST: $* ($tst)\\\" >&2\\n}\\n\\nwsrep_log_error()\\n{\\n    wsrep_log \\\"[ERROR] $*\\\"\\n}\\n\\nwsrep_log_warning()\\n{\\n    wsrep_log \\\"[WARNING] $*\\\"\\n}\\n\\nwsrep_log_info()\\n{\\n    wsrep_log \\\"[INFO] $*\\\"\\n}\\n\\nwsrep_cleanup_progress_file()\\n{\\n    [ -n \\\"${SST_PROGRESS_FILE:-}\\\" ] && rm -f \\\"$SST_PROGRESS_FILE\\\" 2>/dev/null || true\\n}\\n\\nwsrep_check_program()\\n{\\n    local prog=$1\\n\\n    if ! which $prog >/dev/null\\n    then\\n        echo \\\"'$prog' not found in PATH\\\"\\n        return 2 # no such file or directory\\n    fi\\n}\\n\\nwsrep_check_programs()\\n{\\n    local ret=0\\n\\n    while [ $# -gt 0 ]\\n    do\\n        wsrep_check_program $1 || ret=$?\\n        shift\\n    done\\n\\n    return $ret\\n}\\n\\n#\\n# user can specify xtrabackup specific settings that will be used during sst\\n# process like encryption, etc.....\\n# parse such configuration option. (group for xb settings is [sst] in my.cnf\\n#\\n# 1st param: group : name of the config file section, e.g. mysqld\\n# 2nd param: var : name of the variable in the section, e.g. server-id\\n# 3rd param: - : default value for the param\\nparse_cnf()\\n{\\n    local group=$1\\n    local var=$2\\n    local reval=\\\"\\\"\\n\\n    # print the default settings for given group using my_print_default.\\n    # normalize the variable names specified in cnf file (user can use _ or - for example log-bin or log_bin)\\n    # then grep for needed variable\\n    # finally get the variable value (if variables has been specified multiple time use the last value only)\\n\\n    # look in group+suffix\\n    if [ -n $WSREP_SST_OPT_CONF_SUFFIX ]; then\\n        reval=$($MY_PRINT_DEFAULTS \\\"${group}${WSREP_SST_OPT_CONF_SUFFIX}\\\" | awk -F= '{if ($1 ~ /_/) { gsub(/_/,\\\"-\\\",$1); print $1\\\"=\\\"$2 } else { print $0 }}' | grep -- \\\"--$var=\\\" | cut -d= -f2- | tail -1)\\n    fi\\n\\n    # look in group\\n    if [ -z $reval ]; then\\n        reval=$($MY_PRINT_DEFAULTS $group | awk -F= '{if ($1 ~ /_/) { gsub(/_/,\\\"-\\\",$1); print $1\\\"=\\\"$2 } else { print $0 }}' | grep -- \\\"--$var=\\\" | cut -d= -f2- | tail -1)\\n    fi\\n\\n    # use default if we haven't found a value\\n    if [ -z $reval ]; then\\n        [ -n $3 ] && reval=$3\\n    fi\\n    echo $reval\\n}\"}",
                    "var_updated": "2018-01-21 13:04:59",
                    "var_name": "db_cnf_script_wsrep_sst_common",
                    "id": 6013
                },
                {
                    "var_author": " Manager",
                    "var_class": "file",
                    "var_value": "{\"path\":\"%%ENV:SVC_CONF_ENV_BASE_DIR%%/%%ENV:POD%%/init/trigger-dbjobs\",\"mode\":755,\"uid\":\"%%ENV:MYSQL_UID%%\",\"gid\":\"%%ENV:MYSQL_GID%%\",\"fmt\":\"#!/bin/bash -ue\\n\\nsvcmgr -s %%ENV:SERVICES_SVCNAME%% docker exec -i %%ENV:SERVICES_SVCNAME%%.container.2001 /bin/bash -c \\\"/docker-entrypoint-initdb.d/dbjobs\\\"\"}",
                    "var_updated": "2018-01-25 17:36:09",
                    "var_name": "db_cnf_script_trigger_dbjobs",
                    "id": 6014
                }
            ],
            "ruleset_public": false,
            "ruleset_type": "explicit",
            "rulesets": [
                "mariadb.svc.mrm.db.cnf.generic.compression",
                "mariadb.svc.mrm.db.cnf.generic.logaudit",
                "mariadb.svc.mrm.db.cnf.generic.innodb",
                "mariadb.svc.mrm.db.cnf.generic.noquerycache",
                "mariadb.svc.mrm.db.cnf.generic.semisync",
                "mariadb.svc.mrm.db.cnf.generic.loggeneral",
                "mariadb.svc.mrm.db.cnf.generic.logslow",
                "mariadb.svc.mrm.db.cnf.generic.logsqlerror",
                "mariadb.svc.mrm.db.cnf.generic.rocksdb",
                "mariadb.svc.mrm.db.cnf.generic.spider",
                "mariadb.svc.mrm.db.cnf.generic.threadpool",
                "mariadb.svc.mrm.db.cnf.generic.tokudb",
                "mariadb.svc.mrm.db.cnf.generic.multidomains",
                "mariadb.svc.mrm.db.cnf.generic.nologslaveupdates",
                "mariadb.svc.mrm.db.cnf.generic.mysqlgtid",
                "mariadb.svc.mrm.db.cnf.generic.smallredolog",
                "mariadb.svc.mrm.db.cnf.generic.wsrep",
                "mariadb.svc.mrm.db.cnf.generic.nowsrep",
                "mariadb.svc.mrm.db.cnf.generic.pfs",
                "mariadb.svc.mrm.db.cnf.generic.sphinx",
                "mariadb.svc.mrm.db.cnf.generic.compressbinlog",
                "mariadb.svc.mrm.db.cnf.generic.nodoublewrite",
                "mariadb.svc.mrm.db.cnf.generic.lowercasetable",
                "mariadb.svc.mrm.db.cnf.generic.nodurable",
                "mariadb.svc.mrm.db.cnf.sqlmodeoracle",
                "mariadb.svc.mrm.db.cnf.sqlmodeunstrict"
            ],
            "publications": [
                "replication-manager"
            ],
            "id": 999,
            "responsibles": [
                "replication-manager"
            ]
        },
        {
            "fset_name": "mariadb.svc.prov.semisync",
            "ruleset_name": "mariadb.svc.mrm.db.cnf.generic.semisync",
            "variables": [
                {
                    "var_author": " Manager",
                    "var_class": "symlink",
                    "var_value": "{\"symlink\":\"%%ENV:SVC_CONF_ENV_BASE_DIR%%/%%ENV:POD%%/etc/mysql/rc.d/01_semisync.cnf\",\"target\":\"../semisync.cnf\"}",
                    "var_updated": "2017-12-20 18:19:27",
                    "var_name": "db_link_semisync",
                    "id": 5928
                }
            ],
            "ruleset_public": false,
            "ruleset_type": "contextual",
            "rulesets": [],
            "publications": [
                "replication-manager"
            ],
            "id": 1000,
            "responsibles": [
                "replication-manager"
            ]
        },
        {
            "fset_name": "mariadb.svc.prov.innodb",
            "ruleset_name": "mariadb.svc.mrm.db.cnf.generic.innodb",
            "variables": [
                {
                    "var_author": " Manager",
                    "var_class": "symlink",
                    "var_value": "{\"symlink\":\"%%ENV:SVC_CONF_ENV_BASE_DIR%%/%%ENV:POD%%/etc/mysql/rc.d/01_innodb.cnf\",\"target\":\"../innodb.cnf\"}",
                    "var_updated": "2017-12-20 18:16:10",
                    "var_name": "db_link_innodb",
                    "id": 5929
                }
            ],
            "ruleset_public": false,
            "ruleset_type": "contextual",
            "rulesets": [],
            "publications": [
                "replication-manager"
            ],
            "id": 1001,
            "responsibles": [
                "replication-manager"
            ]
        },
        {
            "fset_name": "mariadb.svc.prov.threadpool",
            "ruleset_name": "mariadb.svc.mrm.db.cnf.generic.threadpool",
            "variables": [
                {
                    "var_author": " Manager",
                    "var_class": "symlink",
                    "var_value": "{\"symlink\":\"%%ENV:SVC_CONF_ENV_BASE_DIR%%/%%ENV:POD%%/etc/mysql/rc.d/01_threadpool.cnf\",\"target\":\"../threadpool.cnf\"}",
                    "var_updated": "2017-12-20 18:20:16",
                    "var_name": "db_link_threadpool",
                    "id": 5930
                }
            ],
            "ruleset_public": false,
            "ruleset_type": "contextual",
            "rulesets": [],
            "publications": [
                "replication-manager"
            ],
            "id": 1002,
            "responsibles": [
                "replication-manager"
            ]
        },
        {
            "fset_name": "mariadb.svc.prov.noquerycache",
            "ruleset_name": "mariadb.svc.mrm.db.cnf.generic.noquerycache",
            "variables": [
                {
                    "var_author": " Manager",
                    "var_class": "symlink",
                    "var_value": "{\"symlink\":\"%%ENV:SVC_CONF_ENV_BASE_DIR%%/%%ENV:POD%%/etc/mysql/rc.d/99_noquerycache.cnf\",\"target\":\"../noquerycache.cnf\"}",
                    "var_updated": "2017-12-20 18:15:14",
                    "var_name": "db_link_noquerycache",
                    "id": 5931
                }
            ],
            "ruleset_public": false,
            "ruleset_type": "contextual",
            "rulesets": [],
            "publications": [
                "replication-manager"
            ],
            "id": 1003,
            "responsibles": [
                "replication-manager"
            ]
        },
        {
            "fset_name": null,
            "ruleset_name": "mariadb.svc.mrm.db.cnf.generic.compression",
            "variables": [
                {
                    "var_author": " Manager",
                    "var_class": "symlink",
                    "var_value": "{\"symlink\":\"%%ENV:SVC_CONF_ENV_BASE_DIR%%/%%ENV:POD%%/etc/mysql/rc.d/99_compression.cnf\",\"target\":\"../compression.cnf\"}",
                    "var_updated": "2017-12-20 18:16:33",
                    "var_name": "db_link_compression",
                    "id": 5932
                }
            ],
            "ruleset_public": false,
            "ruleset_type": "contextual",
            "rulesets": [],
            "publications": [
                "replication-manager"
            ],
            "id": 1004,
            "responsibles": [
                "replication-manager"
            ]
        },
        {
            "fset_name": "mariadb.svc.prov.spider",
            "ruleset_name": "mariadb.svc.mrm.db.cnf.generic.spider",
            "variables": [
                {
                    "var_author": " Manager",
                    "var_class": "symlink",
                    "var_value": "{\"symlink\":\"%%ENV:SVC_CONF_ENV_BASE_DIR%%/%%ENV:POD%%/etc/mysql/rc.d/01_spider.cnf\",\"target\":\"../spider.cnf\"}",
                    "var_updated": "2017-12-20 18:20:03",
                    "var_name": "db_link_spider",
                    "id": 5933
                }
            ],
            "ruleset_public": false,
            "ruleset_type": "contextual",
            "rulesets": [],
            "publications": [
                "replication-manager"
            ],
            "id": 1005,
            "responsibles": [
                "replication-manager"
            ]
        },
        {
            "fset_name": "mariadb.svc.prov.tokudb",
            "ruleset_name": "mariadb.svc.mrm.db.cnf.generic.tokudb",
            "variables": [
                {
                    "var_author": " Manager",
                    "var_class": "symlink",
                    "var_value": "{\"symlink\":\"%%ENV:SVC_CONF_ENV_BASE_DIR%%/%%ENV:POD%%/etc/mysql/rc.d/01_tokudb.cnf\",\"target\":\"../tokudb.cnf\"}",
                    "var_updated": "2017-12-20 19:08:27",
                    "var_name": "db_link_tokudb",
                    "id": 5934
                }
            ],
            "ruleset_public": false,
            "ruleset_type": "contextual",
            "rulesets": [],
            "publications": [
                "replication-manager"
            ],
            "id": 1006,
            "responsibles": [
                "replication-manager"
            ]
        },
        {
            "fset_name": "mariadb.svc.prov.myrocks",
            "ruleset_name": "mariadb.svc.mrm.db.cnf.generic.rocksdb",
            "variables": [
                {
                    "var_author": " Manager",
                    "var_class": "symlink",
                    "var_value": "{\"symlink\":\"%%ENV:SVC_CONF_ENV_BASE_DIR%%/%%ENV:POD%%/etc/mysql/01_myrock.cnf\",\"target\":\"../myrock.cnf\"}",
                    "var_updated": "2017-12-20 18:19:14",
                    "var_name": "db_link_rocksdb",
                    "id": 5935
                }
            ],
            "ruleset_public": false,
            "ruleset_type": "contextual",
            "rulesets": [],
            "publications": [
                "replication-manager"
            ],
            "id": 1007,
            "responsibles": [
                "replication-manager"
            ]
        },
        {
            "fset_name": "mariadb.svc.prov.loggeneral",
            "ruleset_name": "mariadb.svc.mrm.db.cnf.generic.loggeneral",
            "variables": [
                {
                    "var_author": " Manager",
                    "var_class": "symlink",
                    "var_value": "{\"symlink\":\"%%ENV:SVC_CONF_ENV_BASE_DIR%%/%%ENV:POD%%/etc/mysql/rc.d/99_loggeneral.cnf\",\"target\":\"../loggeneral.cnf\"}",
                    "var_updated": "2017-12-20 18:17:18",
                    "var_name": "db_link_loggeneral",
                    "id": 5936
                }
            ],
            "ruleset_public": false,
            "ruleset_type": "contextual",
            "rulesets": [],
            "publications": [
                "replication-manager"
            ],
            "id": 1008,
            "responsibles": [
                "replication-manager"
            ]
        },
        {
            "fset_name": "mariadb.svc.prov.logslow",
            "ruleset_name": "mariadb.svc.mrm.db.cnf.generic.logslow",
            "variables": [
                {
                    "var_author": " Manager",
                    "var_class": "symlink",
                    "var_value": "{\"symlink\":\"%%ENV:SVC_CONF_ENV_BASE_DIR%%/%%ENV:POD%%/etc/mysql/rc.d/99_logslow.cnf\",\"target\":\"../logslow.cnf\"}",
                    "var_updated": "2017-12-20 18:17:30",
                    "var_name": "db_link_logslow",
                    "id": 5937
                }
            ],
            "ruleset_public": false,
            "ruleset_type": "contextual",
            "rulesets": [],
            "publications": [
                "replication-manager"
            ],
            "id": 1009,
            "responsibles": [
                "replication-manager"
            ]
        },
        {
            "fset_name": "mariadb.svc.prov.logaudit",
            "ruleset_name": "mariadb.svc.mrm.db.cnf.generic.logaudit",
            "variables": [
                {
                    "var_author": " Manager",
                    "var_class": "symlink",
                    "var_value": "{\"symlink\":\"%%ENV:SVC_CONF_ENV_BASE_DIR%%/%%ENV:POD%%/etc/mysql/rc.d/99_logaudit.cnf\",\"target\":\"../logaudit.cnf\"}",
                    "var_updated": "2017-12-20 18:17:07",
                    "var_name": "db_link_logaudit",
                    "id": 5938
                }
            ],
            "ruleset_public": false,
            "ruleset_type": "contextual",
            "rulesets": [],
            "publications": [
                "replication-manager"
            ],
            "id": 1010,
            "responsibles": [
                "replication-manager"
            ]
        },
        {
            "fset_name": "mariadb.svc.prov.logsqlerror",
            "ruleset_name": "mariadb.svc.mrm.db.cnf.generic.logsqlerror",
            "variables": [
                {
                    "var_author": " Manager",
                    "var_class": "symlink",
                    "var_value": "{\"symlink\":\"%%ENV:SVC_CONF_ENV_BASE_DIR%%/%%ENV:POD%%/etc/mysql/rc.d/99_logsqlerror.cnf\",\"target\":\"../logsqlerror.cnf\"}",
                    "var_updated": "2017-12-20 18:17:42",
                    "var_name": "db_link_logsqlerror",
                    "id": 5939
                }
            ],
            "ruleset_public": false,
            "ruleset_type": "contextual",
            "rulesets": [],
            "publications": [
                "replication-manager"
            ],
            "id": 1011,
            "responsibles": [
                "replication-manager"
            ]
        },
        {
            "fset_name": "mariadb.svc.multidomains",
            "ruleset_name": "mariadb.svc.mrm.db.cnf.generic.multidomains",
            "variables": [
                {
                    "var_author": " Manager",
                    "var_class": "symlink",
                    "var_value": "{\"symlink\":\"%%ENV:SVC_CONF_ENV_BASE_DIR%%/%%ENV:POD%%/etc/mysql/rc.d/99_multidomains.cnf\",\"target\":\"../multidomains.cnf\"}",
                    "var_updated": "2017-12-20 18:17:53",
                    "var_name": "db_link_multidomains",
                    "id": 5940
                }
            ],
            "ruleset_public": false,
            "ruleset_type": "contextual",
            "rulesets": [],
            "publications": [
                "replication-manager"
            ],
            "id": 1012,
            "responsibles": [
                "replication-manager"
            ]
        },
        {
            "fset_name": "mysql.svc.prov.mysqlgtid",
            "ruleset_name": "mariadb.svc.mrm.db.cnf.generic.mysqlgtid",
            "variables": [
                {
                    "var_author": " Manager",
                    "var_class": "symlink",
                    "var_value": "{\"symlink\":\"%%ENV:SVC_CONF_ENV_BASE_DIR%%/%%ENV:POD%%/etc/mysql/rc.d/99_mysqlgtid.cnf\",\"target\":\"../mysqlgtid.cnf\"}",
                    "var_updated": "2017-12-20 18:18:03",
                    "var_name": "db_link_mysqlgtid",
                    "id": 5941
                }
            ],
            "ruleset_public": false,
            "ruleset_type": "contextual",
            "rulesets": [],
            "publications": [
                "replication-manager"
            ],
            "id": 1013,
            "responsibles": [
                "replication-manager"
            ]
        },
        {
            "fset_name": "mariadb.svc.prov.nologslaveupdates",
            "ruleset_name": "mariadb.svc.mrm.db.cnf.generic.nologslaveupdates",
            "variables": [
                {
                    "var_author": " Manager",
                    "var_class": "symlink",
                    "var_value": "{\"symlink\":\"%%ENV:SVC_CONF_ENV_BASE_DIR%%/%%ENV:POD%%/etc/mysql/rc.d/99_nologslaveupdates.cnf\",\"target\":\"../nologslaveupdates.cnf\"}",
                    "var_updated": "2017-12-20 18:18:37",
                    "var_name": "db_link_nologslaveupdates",
                    "id": 5942
                }
            ],
            "ruleset_public": false,
            "ruleset_type": "contextual",
            "rulesets": [],
            "publications": [
                "replication-manager"
            ],
            "id": 1014,
            "responsibles": [
                "replication-manager"
            ]
        },
        {
            "fset_name": "mariadb.svc.prov.smallredolog",
            "ruleset_name": "mariadb.svc.mrm.db.cnf.generic.smallredolog",
            "variables": [
                {
                    "var_author": " Manager",
                    "var_class": "symlink",
                    "var_value": "{\"symlink\":\"%%ENV:SVC_CONF_ENV_BASE_DIR%%/%%ENV:POD%%/etc/mysql/rc.d/99_smallredolog.cnf\",\"target\":\"../smallredolog.cnf\"}",
                    "var_updated": "2017-12-20 18:19:41",
                    "var_name": "db_link_smallredolog",
                    "id": 5943
                }
            ],
            "ruleset_public": false,
            "ruleset_type": "contextual",
            "rulesets": [],
            "publications": [
                "replication-manager"
            ],
            "id": 1015,
            "responsibles": [
                "replication-manager"
            ]
        },
        {
            "fset_name": "mariadb.svc.prov.wsrep",
            "ruleset_name": "mariadb.svc.mrm.db.cnf.generic.wsrep",
            "variables": [
                {
                    "var_author": " Manager",
                    "var_class": "symlink",
                    "var_value": "{\"symlink\":\"%%ENV:SVC_CONF_ENV_BASE_DIR%%/%%ENV:POD%%/etc/mysql/rc.d/02_wsrep.cnf\",\"target\":\"../wsrep.cnf\"}",
                    "var_updated": "2017-12-20 18:20:31",
                    "var_name": "db_link_wsrep",
                    "id": 5955
                }
            ],
            "ruleset_public": false,
            "ruleset_type": "contextual",
            "rulesets": [],
            "publications": [
                "replication-maanger"
            ],
            "id": 1018,
            "responsibles": [
                "replication-maanger"
            ]
        },
        {
            "fset_name": "mariadb.svc.prov.nowsrep",
            "ruleset_name": "mariadb.svc.mrm.db.cnf.generic.nowsrep",
            "variables": [
                {
                    "var_author": " Manager",
                    "var_class": "symlink",
                    "var_value": "{\"symlink\":\"%%ENV:SVC_CONF_ENV_BASE_DIR%%/%%ENV:POD%%/etc/mysql/rc.d/99_path.cnf\",\"target\":\"../path.cnf\"}",
                    "var_updated": "2017-12-20 18:15:57",
                    "var_name": "db_link_path",
                    "id": 5961
                }
            ],
            "ruleset_public": false,
            "ruleset_type": "contextual",
            "rulesets": [],
            "publications": [
                "replication-maanger"
            ],
            "id": 1022,
            "responsibles": [
                "replication-maanger"
            ]
        },
        {
            "fset_name": "mariadb.svc.prov.pfs",
            "ruleset_name": "mariadb.svc.mrm.db.cnf.generic.pfs",
            "variables": [
                {
                    "var_author": " Manager",
                    "var_class": "symlink",
                    "var_value": "{\"symlink\":\"%%ENV:SVC_CONF_ENV_BASE_DIR%%/%%ENV:POD%%/etc/mysql/rc.d/01_pfs.cnf\",\"target\":\"../pfs.cnf\"}",
                    "var_updated": "2017-12-20 19:07:47",
                    "var_name": "db_link_pfs",
                    "id": 5967
                }
            ],
            "ruleset_public": false,
            "ruleset_type": "contextual",
            "rulesets": [],
            "publications": [
                "replication-maanger"
            ],
            "id": 1024,
            "responsibles": [
                "replication-maanger"
            ]
        },
        {
            "fset_name": "mariadb.svc.prov.ssl",
            "ruleset_name": "mariadb.svc.mrm.db.cnf.docker.ssl",
            "variables": [
                {
                    "var_author": " Manager",
                    "var_class": "symlink",
                    "var_value": "{\"symlink\":\"%%ENV:SVC_CONF_ENV_BASE_DIR%%/%%ENV:POD%%/etc/mysql/rc.d/01_ssl.cnf\",\"target\":\"../ssl.cnf\"}",
                    "var_updated": "2017-12-20 19:06:36",
                    "var_name": "db_link_ssl",
                    "id": 5975
                },
                {
                    "var_author": " Manager",
                    "var_class": "file",
                    "var_value": "{\"path\":\"%%ENV:SVC_CONF_ENV_BASE_DIR%%/%%ENV:POD%%/etc/mysql/ssl/ca-cert.pem\",\"mode\":\"%%ENV:CNF_PERMS%%\",\"uid\":\"%%ENV:MYSQL_UID%%\",\"gid\":\"%%ENV:MYSQL_GID%%\",\"ref\":\"safe://%%ENV:SVC_CONF_ENV_SAFE_SSL_CA_UUID%%\"}",
                    "var_updated": "2017-12-19 09:24:48",
                    "var_name": "db_cnf_sslca",
                    "id": 5989
                },
                {
                    "var_author": " Manager",
                    "var_class": "file",
                    "var_value": "{\"path\":\"%%ENV:SVC_CONF_ENV_BASE_DIR%%/%%ENV:POD%%/etc/mysql/ssl/server-cert.pem\",\"mode\":\"%%ENV:CNF_PERMS%%\",\"uid\":\"%%ENV:MYSQL_UID%%\",\"gid\":\"%%ENV:MYSQL_GID%%\",\"ref\":\"safe://%%ENV:SVC_CONF_ENV_SAFE_SSL_CERT_UUID%%\"}",
                    "var_updated": "2017-12-19 09:25:45",
                    "var_name": "db_cnf_sslcert",
                    "id": 5990
                },
                {
                    "var_author": " Manager",
                    "var_class": "file",
                    "var_value": "{\"path\":\"%%ENV:SVC_CONF_ENV_BASE_DIR%%/%%ENV:POD%%/etc/mysql/ssl/server-key.pem\",\"mode\":\"%%ENV:CNF_PERMS%%\",\"uid\":\"%%ENV:MYSQL_UID%%\",\"gid\":\"%%ENV:MYSQL_GID%%\",\"ref\":\"safe://%%ENV:SVC_CONF_ENV_SAFE_SSL_KEY_UUID%%\"}",
                    "var_updated": "2017-12-19 09:26:11",
                    "var_name": "db_cnf_sslkey",
                    "id": 5992
                }
            ],
            "ruleset_public": false,
            "ruleset_type": "contextual",
            "rulesets": [],
            "publications": [
                "replication-maanger"
            ],
            "id": 1025,
            "responsibles": [
                "replication-maanger"
            ]
        },
        {
            "fset_name": null,
            "ruleset_name": "mariadb.svc.mrm.db.cnf.package.ssl",
            "variables": [
                {
                    "var_author": " Manager",
                    "var_class": "symlink",
                    "var_value": "{\"symlink\":\"%%ENV:SVC_CONF_ENV_BASE_DIR%%/%%ENV:POD%%/etc/mysql/rc.d/ssl.cnf\",\"target\":\"../ssl.cnf\"}",
                    "var_updated": "2017-11-25 14:12:01",
                    "var_name": "db_link_ssl",
                    "id": 5976
                }
            ],
            "ruleset_public": false,
            "ruleset_type": "contextual",
            "rulesets": [],
            "publications": [
                "replication-maanger"
            ],
            "id": 1026,
            "responsibles": [
                "replication-maanger"
            ]
        },
        {
            "fset_name": "mariadb.svc.prov.sphinx",
            "ruleset_name": "mariadb.svc.mrm.db.cnf.generic.sphinx",
            "variables": [
                {
                    "var_author": " Manager",
                    "var_class": "symlink",
                    "var_value": "{\"symlink\":\"%%ENV:SVC_CONF_ENV_BASE_DIR%%/%%ENV:POD%%/etc/mysql/rc.d/01_sphinx.cnf\",\"target\":\"../sphinx.cnf\"}",
                    "var_updated": "2017-12-20 18:19:52",
                    "var_name": "db_link_sphinx",
                    "id": 5978
                }
            ],
            "ruleset_public": false,
            "ruleset_type": "contextual",
            "rulesets": [],
            "publications": [
                "replication-maanger"
            ],
            "id": 1027,
            "responsibles": [
                "replication-maanger"
            ]
        },
        {
            "fset_name": "mariadb.svc.prov.compressbinlog",
            "ruleset_name": "mariadb.svc.mrm.db.cnf.generic.compressbinlog",
            "variables": [
                {
                    "var_author": " Manager",
                    "var_class": "symlink",
                    "var_value": "{\"symlink\":\"%%ENV:SVC_CONF_ENV_BASE_DIR%%/%%ENV:POD%%/etc/mysql/rc.d/99_compressbinlog.cnf\",\"target\":\"../compressbinlog.cnf\"}",
                    "var_updated": "2017-12-20 18:16:54",
                    "var_name": "db_link_compressbinlog",
                    "id": 5985
                }
            ],
            "ruleset_public": false,
            "ruleset_type": "contextual",
            "rulesets": [],
            "publications": [
                "replication-maanger"
            ],
            "id": 1030,
            "responsibles": [
                "replication-maanger"
            ]
        },
        {
            "fset_name": "mariadb.svc.prov.nodoublewrite",
            "ruleset_name": "mariadb.svc.mrm.db.cnf.generic.nodoublewrite",
            "variables": [
                {
                    "var_author": " Manager",
                    "var_class": "symlink",
                    "var_value": "{\"symlink\":\"%%ENV:SVC_CONF_ENV_BASE_DIR%%/%%ENV:POD%%/etc/mysql/rc.d/99_nodoublewrite.cnf\",\"target\":\"../nodoublewrite.cnf\"}",
                    "var_updated": "2017-12-20 18:18:17",
                    "var_name": "db_link_nodoublewrite",
                    "id": 5987
                }
            ],
            "ruleset_public": false,
            "ruleset_type": "contextual",
            "rulesets": [],
            "publications": [
                "replication-maanger"
            ],
            "id": 1031,
            "responsibles": [
                "replication-maanger"
            ]
        },
        {
            "fset_name": "mariadb.svc.prov.lowercasetable",
            "ruleset_name": "mariadb.svc.mrm.db.cnf.generic.lowercasetable",
            "variables": [
                {
                    "var_author": " Manager",
                    "var_class": "symlink",
                    "var_value": "{\"symlink\":\"%%ENV:SVC_CONF_ENV_BASE_DIR%%/%%ENV:POD%%/etc/mysql/rc.d/99_lowercasetable.cnf\",\"target\":\"../lowercasetable.cnf\"}",
                    "var_updated": "2017-12-20 18:49:25",
                    "var_name": "db_link_lowercasetable",
                    "id": 5995
                }
            ],
            "ruleset_public": false,
            "ruleset_type": "contextual",
            "rulesets": [],
            "publications": [
                "replication-maanger"
            ],
            "id": 1032,
            "responsibles": [
                "replication-maanger"
            ]
        },
        {
            "fset_name": "mariadb.svc.prov.nodurable",
            "ruleset_name": "mariadb.svc.mrm.db.cnf.generic.nodurable",
            "variables": [
                {
                    "var_author": " Manager",
                    "var_class": "symlink",
                    "var_value": "{\"symlink\":\"%%ENV:SVC_CONF_ENV_BASE_DIR%%/%%ENV:POD%%/etc/mysql/rc.d/99_lowercasetable.cnf\",\"target\":\"../nodurable.cnf\"}",
                    "var_updated": "2017-12-20 18:14:43",
                    "var_name": "db_link_nodurable",
                    "id": 5994
                }
            ],
            "ruleset_public": false,
            "ruleset_type": "contextual",
            "rulesets": [],
            "publications": [
                "replication-maanger"
            ],
            "id": 1033,
            "responsibles": [
                "replication-maanger"
            ]
        },
        {
            "fset_name": "mariadb.svc.prov.sqlmodeoracle",
            "ruleset_name": "mariadb.svc.mrm.db.cnf.sqlmodeoracle",
            "variables": [
                {
                    "var_author": " Manager",
                    "var_class": "symlink",
                    "var_value": "{\"symlink\":\"%%ENV:SVC_CONF_ENV_BASE_DIR%%/%%ENV:POD%%/etc/mysql/rc.d/55_sqlmodeoracle.cnf\",\"target\":\"../sqlmodeoracle.cnf\"}",
                    "var_updated": "2017-12-27 16:01:06",
                    "var_name": "db_link_sqlmodeoracle",
                    "id": 5999
                }
            ],
            "ruleset_public": false,
            "ruleset_type": "contextual",
            "rulesets": [],
            "publications": [
                "replication-maanger"
            ],
            "id": 1034,
            "responsibles": [
                "replication-maanger"
            ]
        },
        {
            "fset_name": "mariadb.svc.prov.sqlmodeunstrict",
            "ruleset_name": "mariadb.svc.mrm.db.cnf.sqlmodeunstrict",
            "variables": [
                {
                    "var_author": " Manager",
                    "var_class": "symlink",
                    "var_value": "{\"symlink\":\"%%ENV:SVC_CONF_ENV_BASE_DIR%%/%%ENV:POD%%/etc/mysql/rc.d/50_sqlmodeunstrict.cnf\",\"target\":\"../sqlmodeunstrict.cnf\"}",
                    "var_updated": "2017-12-27 16:02:45",
                    "var_name": "db_link_sqlmodeunstrict",
                    "id": 6000
                }
            ],
            "ruleset_public": false,
            "ruleset_type": "contextual",
            "rulesets": [],
            "publications": [
                "replication-maanger"
            ],
            "id": 1035,
            "responsibles": [
                "replication-maanger"
            ]
        }
    ]
}
